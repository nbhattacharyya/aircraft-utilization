var J1=Object.create;var vc=Object.defineProperty;var X1=Object.getOwnPropertyDescriptor;var Z1=Object.getOwnPropertyNames;var eD=Object.getPrototypeOf,tD=Object.prototype.hasOwnProperty;var z=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var be=(t,e)=>()=>(t&&(e=t(t=0)),e);var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$m=(t,e)=>{for(var r in e)vc(t,r,{get:e[r],enumerable:!0})},Rv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Z1(e))!tD.call(t,i)&&i!==r&&vc(t,i,{get:()=>e[i],enumerable:!(n=X1(e,i))||n.enumerable});return t};var rD=(t,e,r)=>(r=t!=null?J1(eD(t)):{},Rv(e||!t||!t.__esModule?vc(r,"default",{value:t,enumerable:!0}):r,t)),w=t=>Rv(vc({},"__esModule",{value:!0}),t);var N={};$m(N,{__addDisposableResource:()=>H0,__assign:()=>pd,__asyncDelegator:()=>L0,__asyncGenerator:()=>F0,__asyncValues:()=>U0,__await:()=>Bi,__awaiter:()=>R0,__classPrivateFieldGet:()=>V0,__classPrivateFieldIn:()=>z0,__classPrivateFieldSet:()=>$0,__createBinding:()=>md,__decorate:()=>A0,__disposeResources:()=>G0,__esDecorate:()=>VD,__exportStar:()=>q0,__extends:()=>C0,__generator:()=>I0,__importDefault:()=>B0,__importStar:()=>W0,__makeTemplateObject:()=>j0,__metadata:()=>P0,__param:()=>T0,__propKey:()=>zD,__read:()=>Th,__rest:()=>O0,__runInitializers:()=>$D,__setFunctionName:()=>HD,__spread:()=>D0,__spreadArray:()=>k0,__spreadArrays:()=>M0,__values:()=>fd,default:()=>QD});function C0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ah(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function O0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function A0(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function T0(t,e){return function(r,n){e(r,n,t)}}function VD(t,e,r,n,i,o){function s(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,p=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var y={};for(var E in n)y[E]=E==="access"?{}:n[E];for(var E in n.access)y.access[E]=n.access[E];y.addInitializer=function(T){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(T||null))};var v=(0,r[h])(a==="accessor"?{get:p.get,set:p.set}:p[u],y);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(p.get=f),(f=s(v.set))&&(p.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(a==="field"?i.unshift(f):p[u]=f)}l&&Object.defineProperty(l,n.name,p),m=!0}function $D(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function zD(t){return typeof t=="symbol"?t:"".concat(t)}function HD(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function P0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function R0(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(p){try{l(n.next(p))}catch(f){s(f)}}function u(p){try{l(n.throw(p))}catch(f){s(f)}}function l(p){p.done?o(p.value):i(p.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function I0(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return u([l,p])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function q0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&md(e,t,r)}function fd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Th(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function D0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Th(arguments[e]));return t}function M0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function k0(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Bi(t){return this instanceof Bi?(this.v=t,this):new Bi(t)}function F0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(h){return new Promise(function(y,E){o.push([m,h,y,E])>1||a(m,h)})})}function a(m,h){try{u(n[m](h))}catch(y){f(o[0][3],y)}}function u(m){m.value instanceof Bi?Promise.resolve(m.value.v).then(l,p):f(o[0][2],m)}function l(m){a("next",m)}function p(m){a("throw",m)}function f(m,h){m(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function L0(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:Bi(t[i](s)),done:!1}:o?o(s):s}:o}}function U0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fd=="function"?fd(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}function j0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function W0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&md(e,t,r);return GD(e,t),e}function B0(t){return t&&t.__esModule?t:{default:t}}function V0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $0(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function z0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function H0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function G0(t){function e(n){t.error=t.hasError?new KD(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(o){return e(o),r()})}catch(o){e(o)}}if(t.hasError)throw t.error}return r()}var Ah,pd,md,GD,KD,QD,x=be(()=>{Ah=function(t,e){return Ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ah(t,e)};pd=function(){return pd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pd.apply(this,arguments)};md=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};GD=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};KD=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};QD={__extends:C0,__assign:pd,__rest:O0,__decorate:A0,__param:T0,__metadata:P0,__awaiter:R0,__generator:I0,__createBinding:md,__exportStar:q0,__values:fd,__read:Th,__spread:D0,__spreadArrays:M0,__spreadArray:k0,__await:Bi,__asyncGenerator:F0,__asyncDelegator:L0,__asyncValues:U0,__makeTemplateObject:j0,__importStar:W0,__importDefault:B0,__classPrivateFieldGet:V0,__classPrivateFieldSet:$0,__classPrivateFieldIn:z0,__addDisposableResource:H0,__disposeResources:G0}});var K0=c(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.resolveHttpHandlerRuntimeConfig=Vi.getHttpHandlerExtensionConfiguration=void 0;var YD=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}};Vi.getHttpHandlerExtensionConfiguration=YD;var JD=t=>({httpHandler:t.httpHandler()});Vi.resolveHttpHandlerRuntimeConfig=JD});var Q0=c(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});var XD=(x(),w(N));XD.__exportStar(K0(),Ph)});var J0=c(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0})});var X0=c(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.HttpAuthLocation=void 0;var ZD;(function(t){t.HEADER="header",t.QUERY="query"})(ZD=na.HttpAuthLocation||(na.HttpAuthLocation={}))});var Z0=c(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.HttpApiKeyAuthLocation=void 0;var eM;(function(t){t.HEADER="header",t.QUERY="query"})(eM=ia.HttpApiKeyAuthLocation||(ia.HttpApiKeyAuthLocation={}))});var tS=c(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0})});var nS=c(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0})});var oS=c(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0})});var aS=c(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0})});var cS=c(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});var $i=(x(),w(N));$i.__exportStar(X0(),Jr);$i.__exportStar(Z0(),Jr);$i.__exportStar(tS(),Jr);$i.__exportStar(nS(),Jr);$i.__exportStar(oS(),Jr);$i.__exportStar(aS(),Jr)});var uS=c(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0})});var pS=c(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0})});var mS=c(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0})});var yS=c(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0})});var gS=c(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0})});var vS=c(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0})});var wS=c(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0})});var NS=c(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Rh=(x(),w(N));Rh.__exportStar(gS(),oa);Rh.__exportStar(vS(),oa);Rh.__exportStar(wS(),oa)});var bS=c(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0})});var OS=c(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0})});var AS=c(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.EndpointURLScheme=void 0;var tM;(function(t){t.HTTP="http",t.HTTPS="https"})(tM=sa.EndpointURLScheme||(sa.EndpointURLScheme={}))});var PS=c(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0})});var IS=c(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0})});var DS=c(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0})});var kS=c(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0})});var LS=c(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0})});var US=c(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var aa=(x(),w(N));aa.__exportStar(PS(),zn);aa.__exportStar(IS(),zn);aa.__exportStar(DS(),zn);aa.__exportStar(kS(),zn);aa.__exportStar(LS(),zn)});var WS=c(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0})});var qh=c(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.resolveChecksumRuntimeConfig=Sr.getChecksumConfiguration=Sr.AlgorithmId=void 0;var Ih;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Ih=Sr.AlgorithmId||(Sr.AlgorithmId={}));var rM=t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>Ih.SHA256,checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>Ih.MD5,checksumConstructor:()=>t.md5}),{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}};Sr.getChecksumConfiguration=rM;var nM=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e};Sr.resolveChecksumRuntimeConfig=nM});var VS=c(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.resolveDefaultRuntimeConfig=zi.getDefaultClientConfiguration=void 0;var BS=qh(),iM=t=>({...(0,BS.getChecksumConfiguration)(t)});zi.getDefaultClientConfiguration=iM;var oM=t=>({...(0,BS.resolveChecksumRuntimeConfig)(t)});zi.resolveDefaultRuntimeConfig=oM});var zS=c($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0})});var GS=c(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.AlgorithmId=void 0;var HS=(x(),w(N));HS.__exportStar(VS(),Hi);HS.__exportStar(zS(),Hi);var sM=qh();Object.defineProperty(Hi,"AlgorithmId",{enumerable:!0,get:function(){return sM.AlgorithmId}})});var KS=c(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.FieldPosition=void 0;var aM;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(aM=ca.FieldPosition||(ca.FieldPosition={}))});var YS=c(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0})});var XS=c(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0})});var ew=c(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0})});var rw=c(tw=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0})});var nw=c(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});var hd=(x(),w(N));hd.__exportStar(YS(),Gi);hd.__exportStar(XS(),Gi);hd.__exportStar(ew(),Gi);hd.__exportStar(rw(),Gi)});var ow=c(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0})});var sw=c(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.SMITHY_CONTEXT_KEY=void 0;yd.SMITHY_CONTEXT_KEY="__smithy_context"});var cw=c(aw=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0})});var dw=c(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.IniSectionType=void 0;var cM;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(cM=da.IniSectionType||(da.IniSectionType={}))});var lw=c(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0})});var fw=c(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0})});var hw=c(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0})});var _w=c(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0})});var Ew=c(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0})});var Sw=c(vw=>{"use strict";Object.defineProperty(vw,"__esModule",{value:!0})});var Nw=c(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0})});var bw=c(xw=>{"use strict";Object.defineProperty(xw,"__esModule",{value:!0})});var Ow=c(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0})});var Aw=c(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.RequestHandlerProtocol=void 0;var dM;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(dM=ua.RequestHandlerProtocol||(ua.RequestHandlerProtocol={}))});var Pw=c(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0})});var Iw=c(Rw=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0})});var Dw=c(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0})});var kw=c(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0})});var Lw=c(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0})});var jw=c(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0})});var H=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});var U=(x(),w(N));U.__exportStar(J0(),F);U.__exportStar(cS(),F);U.__exportStar(uS(),F);U.__exportStar(pS(),F);U.__exportStar(mS(),F);U.__exportStar(yS(),F);U.__exportStar(NS(),F);U.__exportStar(bS(),F);U.__exportStar(OS(),F);U.__exportStar(AS(),F);U.__exportStar(US(),F);U.__exportStar(WS(),F);U.__exportStar(GS(),F);U.__exportStar(KS(),F);U.__exportStar(nw(),F);U.__exportStar(ow(),F);U.__exportStar(sw(),F);U.__exportStar(cw(),F);U.__exportStar(dw(),F);U.__exportStar(lw(),F);U.__exportStar(fw(),F);U.__exportStar(hw(),F);U.__exportStar(_w(),F);U.__exportStar(Ew(),F);U.__exportStar(Sw(),F);U.__exportStar(Nw(),F);U.__exportStar(bw(),F);U.__exportStar(Ow(),F);U.__exportStar(Aw(),F);U.__exportStar(Pw(),F);U.__exportStar(Iw(),F);U.__exportStar(Dw(),F);U.__exportStar(kw(),F);U.__exportStar(Lw(),F);U.__exportStar(jw(),F)});var Ww=c(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.Field=void 0;var uM=H(),Dh=class{constructor({name:e,kind:r=uM.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};_d.Field=Dh});var Bw=c(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.Fields=void 0;var Mh=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};gd.Fields=Mh});var $w=c(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0})});var zw=c(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.HttpRequest=void 0;var kh=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new t({...this,headers:{...this.headers}});return e.query&&(e.query=lM(e.query)),e}};Ed.HttpRequest=kh;function lM(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}});var Hw=c(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.HttpResponse=void 0;var Fh=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};vd.HttpResponse=Fh});var Gw=c(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.isValidHostname=void 0;function pM(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}Sd.isValidHostname=pM});var Qw=c(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0})});var ve=c(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var Xr=(x(),w(N));Xr.__exportStar(Q0(),Ut);Xr.__exportStar(Ww(),Ut);Xr.__exportStar(Bw(),Ut);Xr.__exportStar($w(),Ut);Xr.__exportStar(zw(),Ut);Xr.__exportStar(Hw(),Ut);Xr.__exportStar(Gw(),Ut);Xr.__exportStar(Qw(),Ut)});var la=c(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getHostHeaderPlugin=ut.hostHeaderMiddlewareOptions=ut.hostHeaderMiddleware=ut.resolveHostHeaderConfig=void 0;var fM=ve();function mM(t){return t}ut.resolveHostHeaderConfig=mM;var hM=t=>e=>async r=>{if(!fM.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)};ut.hostHeaderMiddleware=hM;ut.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var yM=t=>({applyToStack:e=>{e.add((0,ut.hostHeaderMiddleware)(t),ut.hostHeaderMiddlewareOptions)}});ut.getHostHeaderPlugin=yM});var Yw=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.getLoggerPlugin=jt.loggerMiddlewareOptions=jt.loggerMiddleware=void 0;var _M=()=>(t,e)=>async r=>{var n,i;try{let o=await t(r),{clientName:s,commandName:a,logger:u,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:f}=l,m=p??e.inputFilterSensitiveLog,h=f??e.outputFilterSensitiveLog,{$metadata:y,...E}=o.output;return(n=u?.info)===null||n===void 0||n.call(u,{clientName:s,commandName:a,input:m(r.input),output:h(E),metadata:y}),o}catch(o){let{clientName:s,commandName:a,logger:u,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:p}=l,f=p??e.inputFilterSensitiveLog;throw(i=u?.error)===null||i===void 0||i.call(u,{clientName:s,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}};jt.loggerMiddleware=_M;jt.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var gM=t=>({applyToStack:e=>{e.add((0,jt.loggerMiddleware)(),jt.loggerMiddlewareOptions)}});jt.getLoggerPlugin=gM});var pa=c(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});var EM=(x(),w(N));EM.__exportStar(Yw(),Lh)});var fa=c(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getRecursionDetectionPlugin=Wt.addRecursionDetectionMiddlewareOptions=Wt.recursionDetectionMiddleware=void 0;var vM=ve(),Jw="X-Amzn-Trace-Id",SM="AWS_LAMBDA_FUNCTION_NAME",wM="_X_AMZN_TRACE_ID",NM=t=>e=>async r=>{let{request:n}=r;if(!vM.HttpRequest.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Jw))return e(r);let i=process.env[SM],o=process.env[wM],s=a=>typeof a=="string"&&a.length>0;return s(i)&&s(o)&&(n.headers[Jw]=o),e({...r,request:n})};Wt.recursionDetectionMiddleware=NM;Wt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var xM=t=>({applyToStack:e=>{e.add((0,Wt.recursionDetectionMiddleware)(t),Wt.addRecursionDetectionMiddlewareOptions)}});Wt.getRecursionDetectionPlugin=xM});var ma=c(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.ProviderError=void 0;var Uh=class t extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,t.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};wd.ProviderError=Uh});var Xw=c(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.CredentialsProviderError=void 0;var bM=ma(),jh=class t extends bM.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,t.prototype)}};Nd.CredentialsProviderError=jh});var Zw=c(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.TokenProviderError=void 0;var CM=ma(),Wh=class t extends CM.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,t.prototype)}};xd.TokenProviderError=Wh});var eN=c(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.chain=void 0;var OM=ma(),AM=(...t)=>async()=>{if(t.length===0)throw new OM.ProviderError("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e};bd.chain=AM});var tN=c(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.fromStatic=void 0;var TM=t=>()=>Promise.resolve(t);Cd.fromStatic=TM});var rN=c(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.memoize=void 0;var PM=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async u=>((!o||u?.forceRefresh)&&(n=await a()),n):async u=>((!o||u?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))};Od.memoize=PM});var G=c(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});var Ki=(x(),w(N));Ki.__exportStar(Xw(),Zr);Ki.__exportStar(ma(),Zr);Ki.__exportStar(Zw(),Zr);Ki.__exportStar(eN(),Zr);Ki.__exportStar(tN(),Zr);Ki.__exportStar(rN(),Zr)});var zh={};$m(zh,{__assign:()=>Vh,__asyncDelegator:()=>VM,__asyncGenerator:()=>BM,__asyncValues:()=>$M,__await:()=>ha,__awaiter:()=>kM,__classPrivateFieldGet:()=>KM,__classPrivateFieldSet:()=>QM,__createBinding:()=>LM,__decorate:()=>qM,__exportStar:()=>UM,__extends:()=>RM,__generator:()=>FM,__importDefault:()=>GM,__importStar:()=>HM,__makeTemplateObject:()=>zM,__metadata:()=>MM,__param:()=>DM,__read:()=>nN,__rest:()=>IM,__spread:()=>jM,__spreadArrays:()=>WM,__values:()=>$h});function RM(t,e){Bh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function IM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qM(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function DM(t,e){return function(r,n){e(r,n,t)}}function MM(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function kM(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(p){try{l(n.next(p))}catch(f){s(f)}}function u(p){try{l(n.throw(p))}catch(f){s(f)}}function l(p){p.done?o(p.value):i(p.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function FM(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return u([l,p])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function LM(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function UM(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function $h(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nN(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function jM(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nN(arguments[e]));return t}function WM(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function ha(t){return this instanceof ha?(this.v=t,this):new ha(t)}function BM(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(h){return new Promise(function(y,E){o.push([m,h,y,E])>1||a(m,h)})})}function a(m,h){try{u(n[m](h))}catch(y){f(o[0][3],y)}}function u(m){m.value instanceof ha?Promise.resolve(m.value.v).then(l,p):f(o[0][2],m)}function l(m){a("next",m)}function p(m){a("throw",m)}function f(m,h){m(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function VM(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:ha(t[i](s)),done:i==="return"}:o?o(s):s}:o}}function $M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $h=="function"?$h(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}function zM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function HM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function GM(t){return t&&t.__esModule?t:{default:t}}function KM(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function QM(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Bh,Vh,Hh=be(()=>{Bh=function(t,e){return Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Bh(t,e)};Vh=function(){return Vh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Vh.apply(this,arguments)}});var iN=c(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.toUtf8=Qi.fromUtf8=void 0;var YM=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192,i&63|128);else if(r+1<t.length&&(i&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let o=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(e)};Qi.fromUtf8=YM;var JM=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let i=t[r];if(i<128)e+=String.fromCharCode(i);else if(192<=i&&i<224){let o=t[++r];e+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){let s="%"+[i,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(s)}else e+=String.fromCharCode((i&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};Qi.toUtf8=JM});var oN=c(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.toUtf8=Yi.fromUtf8=void 0;function XM(t){return new TextEncoder().encode(t)}Yi.fromUtf8=XM;function ZM(t){return new TextDecoder("utf-8").decode(t)}Yi.toUtf8=ZM});var cN=c(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.toUtf8=Ji.fromUtf8=void 0;var sN=iN(),aN=oN(),ek=t=>typeof TextEncoder=="function"?(0,aN.fromUtf8)(t):(0,sN.fromUtf8)(t);Ji.fromUtf8=ek;var tk=t=>typeof TextDecoder=="function"?(0,aN.toUtf8)(t):(0,sN.toUtf8)(t);Ji.toUtf8=tk});var dN=c(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.convertToBuffer=void 0;var rk=cN(),nk=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:rk.fromUtf8;function ik(t){return t instanceof Uint8Array?t:typeof t=="string"?nk(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}Ad.convertToBuffer=ik});var uN=c(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.isEmptyData=void 0;function ok(t){return typeof t=="string"?t.length===0:t.byteLength===0}Td.isEmptyData=ok});var lN=c(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.numToUint8=void 0;function sk(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}Pd.numToUint8=sk});var pN=c(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.uint32ArrayFrom=void 0;function ak(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}Rd.uint32ArrayFrom=ak});var Gh=c(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.uint32ArrayFrom=Bt.numToUint8=Bt.isEmptyData=Bt.convertToBuffer=void 0;var ck=dN();Object.defineProperty(Bt,"convertToBuffer",{enumerable:!0,get:function(){return ck.convertToBuffer}});var dk=uN();Object.defineProperty(Bt,"isEmptyData",{enumerable:!0,get:function(){return dk.isEmptyData}});var uk=lN();Object.defineProperty(Bt,"numToUint8",{enumerable:!0,get:function(){return uk.numToUint8}});var lk=pN();Object.defineProperty(Bt,"uint32ArrayFrom",{enumerable:!0,get:function(){return lk.uint32ArrayFrom}})});var hN=c(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.AwsCrc32=void 0;var fN=(Hh(),w(zh)),Kh=Gh(),mN=qd(),pk=function(){function t(){this.crc32=new mN.Crc32}return t.prototype.update=function(e){(0,Kh.isEmptyData)(e)||this.crc32.update((0,Kh.convertToBuffer)(e))},t.prototype.digest=function(){return fN.__awaiter(this,void 0,void 0,function(){return fN.__generator(this,function(e){return[2,(0,Kh.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new mN.Crc32},t}();Id.AwsCrc32=pk});var qd=c(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.AwsCrc32=en.Crc32=en.crc32=void 0;var fk=(Hh(),w(zh)),mk=Gh();function hk(t){return new yN().update(t).digest()}en.crc32=hk;var yN=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var i=fk.__values(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^_k[(this.checksum^s)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();en.Crc32=yN;var yk=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],_k=(0,mk.uint32ArrayFrom)(yk),gk=hN();Object.defineProperty(en,"AwsCrc32",{enumerable:!0,get:function(){return gk.AwsCrc32}})});var Zi=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.toHex=Xi.fromHex=void 0;var _N={},Qh={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),_N[t]=e,Qh[e]=t}function Ek(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in Qh)e[r/2]=Qh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}Xi.fromHex=Ek;function vk(t){let e="";for(let r=0;r<t.byteLength;r++)e+=_N[t[r]];return e}Xi.toHex=vk});var Jh=c(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.Int64=void 0;var Sk=Zi(),Yh=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&gN(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&gN(e),parseInt((0,Sk.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};Dd.Int64=Yh;function gN(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}});var ey=c(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.HeaderMarshaller=void 0;var eo=Zi(),Xh=Jh(),Zh=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let o of Object.keys(e)){let s=this.fromUtf8(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=this.fromUtf8(e.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(Xh.Int64.fromNumber(e.value.valueOf()).bytes,1),p;case"uuid":if(!Pk.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set((0,eo.fromHex)(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},n=0;for(;n<e.byteLength;){let i=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:r[o]={type:vN,value:!0};break;case 1:r[o]={type:vN,value:!1};break;case 2:r[o]={type:wk,value:e.getInt8(n++)};break;case 3:r[o]={type:Nk,value:e.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:xk,value:e.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:bk,value:new Xh.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let s=e.getUint16(n,!1);n+=2,r[o]={type:Ck,value:new Uint8Array(e.buffer,e.byteOffset+n,s)},n+=s;break;case 7:let a=e.getUint16(n,!1);n+=2,r[o]={type:Ok,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:Ak,value:new Date(new Xh.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let u=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[o]={type:Tk,value:`${(0,eo.toHex)(u.subarray(0,4))}-${(0,eo.toHex)(u.subarray(4,6))}-${(0,eo.toHex)(u.subarray(6,8))}-${(0,eo.toHex)(u.subarray(8,10))}-${(0,eo.toHex)(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};Md.HeaderMarshaller=Zh;var EN;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(EN||(EN={}));var vN="boolean",wk="byte",Nk="short",xk="integer",bk="long",Ck="binary",Ok="string",Ak="timestamp",Tk="uuid",Pk=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});var wN=c(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.splitMessage=void 0;var Rk=qd(),SN=4,tn=SN*2,Hn=4,Ik=tn+Hn*2;function qk({byteLength:t,byteOffset:e,buffer:r}){if(t<Ik)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),i=n.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let o=n.getUint32(SN,!1),s=n.getUint32(tn,!1),a=n.getUint32(t-Hn,!1),u=new Rk.Crc32().update(new Uint8Array(r,e,tn));if(s!==u.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,e+tn,t-(tn+Hn))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+tn+Hn,o),body:new Uint8Array(r,e+tn+Hn+o,i-o-(tn+Hn+Hn))}}kd.splitMessage=qk});var NN=c(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.EventStreamCodec=void 0;var Dk=qd(),Mk=ey(),kk=wN(),ty=class{constructor(e,r){this.headerMarshaller=new Mk.HeaderMarshaller(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),i=n.byteLength+r.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Dk.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o}decode(e){let{headers:r,body:n}=(0,kk.splitMessage)(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};Fd.EventStreamCodec=ty});var bN=c(xN=>{"use strict";Object.defineProperty(xN,"__esModule",{value:!0})});var CN=c(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.MessageDecoderStream=void 0;var ry=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}};Ld.MessageDecoderStream=ry});var ON=c(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.MessageEncoderStream=void 0;var ny=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}};Ud.MessageEncoderStream=ny});var AN=c(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.SmithyMessageDecoderStream=void 0;var iy=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}};jd.SmithyMessageDecoderStream=iy});var TN=c(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.SmithyMessageEncoderStream=void 0;var oy=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}};Wd.SmithyMessageEncoderStream=oy});var PN=c(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var rn=(x(),w(N));rn.__exportStar(NN(),Vt);rn.__exportStar(ey(),Vt);rn.__exportStar(Jh(),Vt);rn.__exportStar(bN(),Vt);rn.__exportStar(CN(),Vt);rn.__exportStar(ON(),Vt);rn.__exportStar(AN(),Vt);rn.__exportStar(TN(),Vt)});var IN=c(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.getSmithyContext=void 0;var RN=H(),Fk=t=>t[RN.SMITHY_CONTEXT_KEY]||(t[RN.SMITHY_CONTEXT_KEY]={});Bd.getSmithyContext=Fk});var qN=c(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.normalizeProvider=void 0;var Lk=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};Vd.normalizeProvider=Lk});var nn=c($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});var DN=(x(),w(N));DN.__exportStar(IN(),$d);DN.__exportStar(qN(),$d)});var sy=c(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.isArrayBuffer=void 0;var Uk=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";zd.isArrayBuffer=Uk});var Gn=c(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.fromString=to.fromArrayBuffer=void 0;var jk=sy(),ay=z("buffer"),Wk=(t,e=0,r=t.byteLength-e)=>{if(!(0,jk.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return ay.Buffer.from(t,e,r)};to.fromArrayBuffer=Wk;var Bk=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?ay.Buffer.from(t,e):ay.Buffer.from(t)};to.fromString=Bk});var cy=c(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.fromUtf8=void 0;var Vk=Gn(),$k=t=>{let e=(0,Vk.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};Hd.fromUtf8=$k});var MN=c(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.toUint8Array=void 0;var zk=cy(),Hk=t=>typeof t=="string"?(0,zk.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);Gd.toUint8Array=Hk});var kN=c(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.toUtf8=void 0;var Gk=Gn(),Kk=t=>(0,Gk.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8");Kd.toUtf8=Kk});var $t=c(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var dy=(x(),w(N));dy.__exportStar(cy(),ya);dy.__exportStar(MN(),ya);dy.__exportStar(kN(),ya)});var Kn=c(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.MAX_PRESIGNED_TTL=b.KEY_TYPE_IDENTIFIER=b.MAX_CACHE_SIZE=b.UNSIGNED_PAYLOAD=b.EVENT_ALGORITHM_IDENTIFIER=b.ALGORITHM_IDENTIFIER_V4A=b.ALGORITHM_IDENTIFIER=b.UNSIGNABLE_PATTERNS=b.SEC_HEADER_PATTERN=b.PROXY_HEADER_PATTERN=b.ALWAYS_UNSIGNABLE_HEADERS=b.HOST_HEADER=b.TOKEN_HEADER=b.SHA256_HEADER=b.SIGNATURE_HEADER=b.GENERATED_HEADERS=b.DATE_HEADER=b.AMZ_DATE_HEADER=b.AUTH_HEADER=b.REGION_SET_PARAM=b.TOKEN_QUERY_PARAM=b.SIGNATURE_QUERY_PARAM=b.EXPIRES_QUERY_PARAM=b.SIGNED_HEADERS_QUERY_PARAM=b.AMZ_DATE_QUERY_PARAM=b.CREDENTIAL_QUERY_PARAM=b.ALGORITHM_QUERY_PARAM=void 0;b.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";b.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";b.AMZ_DATE_QUERY_PARAM="X-Amz-Date";b.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";b.EXPIRES_QUERY_PARAM="X-Amz-Expires";b.SIGNATURE_QUERY_PARAM="X-Amz-Signature";b.TOKEN_QUERY_PARAM="X-Amz-Security-Token";b.REGION_SET_PARAM="X-Amz-Region-Set";b.AUTH_HEADER="authorization";b.AMZ_DATE_HEADER=b.AMZ_DATE_QUERY_PARAM.toLowerCase();b.DATE_HEADER="date";b.GENERATED_HEADERS=[b.AUTH_HEADER,b.AMZ_DATE_HEADER,b.DATE_HEADER];b.SIGNATURE_HEADER=b.SIGNATURE_QUERY_PARAM.toLowerCase();b.SHA256_HEADER="x-amz-content-sha256";b.TOKEN_HEADER=b.TOKEN_QUERY_PARAM.toLowerCase();b.HOST_HEADER="host";b.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};b.PROXY_HEADER_PATTERN=/^proxy-/;b.SEC_HEADER_PATTERN=/^sec-/;b.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];b.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";b.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";b.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";b.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";b.MAX_CACHE_SIZE=50;b.KEY_TYPE_IDENTIFIER="aws4_request";b.MAX_PRESIGNED_TTL=60*60*24*7});var ly=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.clearCredentialCache=on.getSigningKey=on.createScope=void 0;var Qk=Zi(),Yk=$t(),uy=Kn(),ro={},Qd=[],Jk=(t,e,r)=>`${t}/${e}/${r}/${uy.KEY_TYPE_IDENTIFIER}`;on.createScope=Jk;var Xk=async(t,e,r,n,i)=>{let o=await FN(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${i}:${(0,Qk.toHex)(o)}:${e.sessionToken}`;if(s in ro)return ro[s];for(Qd.push(s);Qd.length>uy.MAX_CACHE_SIZE;)delete ro[Qd.shift()];let a=`AWS4${e.secretAccessKey}`;for(let u of[r,n,i,uy.KEY_TYPE_IDENTIFIER])a=await FN(t,a,u);return ro[s]=a};on.getSigningKey=Xk;var Zk=()=>{Qd.length=0,Object.keys(ro).forEach(t=>{delete ro[t]})};on.clearCredentialCache=Zk;var FN=(t,e,r)=>{let n=new t(e);return n.update((0,Yk.toUint8Array)(r)),n.digest()}});var fy=c(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.getCanonicalHeaders=void 0;var py=Kn(),eF=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in py.ALWAYS_UNSIGNABLE_HEADERS||e?.has(o)||py.PROXY_HEADER_PATTERN.test(o)||py.SEC_HEADER_PATTERN.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[i].trim().replace(/\s+/g," "))}return n};Yd.getCanonicalHeaders=eF});var my=c(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.escapeUri=void 0;var tF=t=>encodeURIComponent(t).replace(/[!'()*]/g,rF);Jd.escapeUri=tF;var rF=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var LN=c(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.escapeUriPath=void 0;var nF=my(),iF=t=>t.split("/").map(nF.escapeUri).join("/");Xd.escapeUriPath=iF});var hy=c(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});var UN=(x(),w(N));UN.__exportStar(my(),Zd);UN.__exportStar(LN(),Zd)});var yy=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.getCanonicalQuery=void 0;var eu=hy(),oF=Kn(),sF=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===oF.SIGNATURE_HEADER)continue;e.push(n);let i=t[n];typeof i=="string"?r[n]=`${(0,eu.escapeUri)(n)}=${(0,eu.escapeUri)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((o,s)=>o.concat([`${(0,eu.escapeUri)(n)}=${(0,eu.escapeUri)(s)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};tu.getCanonicalQuery=sF});var _y=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.getPayloadHash=void 0;var aF=sy(),cF=Zi(),dF=$t(),jN=Kn(),uF=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===jN.SHA256_HEADER)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,aF.isArrayBuffer)(e)){let n=new r;return n.update((0,dF.toUint8Array)(e)),(0,cF.toHex)(await n.digest())}return jN.UNSIGNED_PAYLOAD};ru.getPayloadHash=uF});var WN=c(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.deleteHeader=sn.getHeaderValue=sn.hasHeader=void 0;var lF=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};sn.hasHeader=lF;var pF=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return e[r]};sn.getHeaderValue=pF;var fF=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))t===r.toLowerCase()&&delete e[r]};sn.deleteHeader=fF});var gy=c(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.cloneQuery=Qn.cloneRequest=void 0;var mF=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?(0,Qn.cloneQuery)(e):void 0});Qn.cloneRequest=mF;var hF=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});Qn.cloneQuery=hF});var Ey=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.moveHeadersToQuery=void 0;var yF=gy(),_F=(t,e={})=>{var r;let{headers:n,query:i={}}=typeof t.clone=="function"?t.clone():(0,yF.cloneRequest)(t);for(let o of Object.keys(n)){let s=o.toLowerCase();s.slice(0,6)==="x-amz-"&&!(!((r=e.unhoistableHeaders)===null||r===void 0)&&r.has(s))&&(i[o]=n[o],delete n[o])}return{...t,headers:n,query:i}};nu.moveHeadersToQuery=_F});var vy=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.prepareRequest=void 0;var gF=gy(),EF=Kn(),vF=t=>{t=typeof t.clone=="function"?t.clone():(0,gF.cloneRequest)(t);for(let e of Object.keys(t.headers))EF.GENERATED_HEADERS.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};iu.prepareRequest=vF});var BN=c(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.toDate=Yn.iso8601=void 0;var SF=t=>(0,Yn.toDate)(t).toISOString().replace(/\.\d{3}Z$/,"Z");Yn.iso8601=SF;var wF=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;Yn.toDate=wF});var GN=c(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.SignatureV4=void 0;var NF=PN(),ou=Zi(),VN=nn(),_a=$t(),Oe=Kn(),su=ly(),$N=fy(),xF=yy(),Sy=_y(),bF=WN(),CF=Ey(),zN=vy(),OF=BN(),wy=class{constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.headerMarshaller=new NF.HeaderMarshaller(_a.toUtf8,_a.fromUtf8),this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,VN.normalizeProvider)(n),this.credentialProvider=(0,VN.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,signingRegion:u,signingService:l}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=u??await this.regionProvider(),{longDate:m,shortDate:h}=au(n);if(i>Oe.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=(0,su.createScope)(h,f,l??this.service),E=(0,CF.moveHeadersToQuery)((0,zN.prepareRequest)(e),{unhoistableHeaders:s});p.sessionToken&&(E.query[Oe.TOKEN_QUERY_PARAM]=p.sessionToken),E.query[Oe.ALGORITHM_QUERY_PARAM]=Oe.ALGORITHM_IDENTIFIER,E.query[Oe.CREDENTIAL_QUERY_PARAM]=`${p.accessKeyId}/${y}`,E.query[Oe.AMZ_DATE_QUERY_PARAM]=m,E.query[Oe.EXPIRES_QUERY_PARAM]=i.toString(10);let v=(0,$N.getCanonicalHeaders)(E,o,a);return E.query[Oe.SIGNED_HEADERS_QUERY_PARAM]=HN(v),E.query[Oe.SIGNATURE_QUERY_PARAM]=await this.getSignature(m,y,this.getSigningKey(p,f,h,l),this.createCanonicalRequest(E,v,await(0,Sy.getPayloadHash)(e,this.sha256))),E}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:u,longDate:l}=au(n),p=(0,su.createScope)(u,a,s??this.service),f=await(0,Sy.getPayloadHash)({headers:{},body:r},this.sha256),m=new this.sha256;m.update(e);let h=(0,ou.toHex)(await m.digest()),y=[Oe.EVENT_ALGORITHM_IDENTIFIER,l,p,i,h,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=au(r),u=new this.sha256(await this.getSigningKey(o,s,a,i));return u.update((0,_a.toUint8Array)(e)),(0,ou.toHex)(await u.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let u=o??await this.regionProvider(),l=(0,zN.prepareRequest)(e),{longDate:p,shortDate:f}=au(r),m=(0,su.createScope)(f,u,s??this.service);l.headers[Oe.AMZ_DATE_HEADER]=p,a.sessionToken&&(l.headers[Oe.TOKEN_HEADER]=a.sessionToken);let h=await(0,Sy.getPayloadHash)(l,this.sha256);!(0,bF.hasHeader)(Oe.SHA256_HEADER,l.headers)&&this.applyChecksum&&(l.headers[Oe.SHA256_HEADER]=h);let y=(0,$N.getCanonicalHeaders)(l,i,n),E=await this.getSignature(p,m,this.getSigningKey(a,u,f,s),this.createCanonicalRequest(l,y,h));return l.headers[Oe.AUTH_HEADER]=`${Oe.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${m}, SignedHeaders=${HN(y)}, Signature=${E}`,l}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(0,xF.getCanonicalQuery)(e)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n){let i=new this.sha256;i.update((0,_a.toUint8Array)(n));let o=await i.digest();return`${Oe.ALGORITHM_IDENTIFIER}
${e}
${r}
${(0,ou.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,i){let o=await this.createStringToSign(e,r,i),s=new this.sha256(await n);return s.update((0,_a.toUint8Array)(o)),(0,ou.toHex)(await s.digest())}getSigningKey(e,r,n,i){return(0,su.getSigningKey)(this.sha256,e,n,r,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};cu.SignatureV4=wy;var au=t=>{let e=(0,OF.iso8601)(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},HN=t=>Object.keys(t).sort().join(";")});var QN=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.prepareRequest=Ge.moveHeadersToQuery=Ge.getPayloadHash=Ge.getCanonicalQuery=Ge.getCanonicalHeaders=void 0;var KN=(x(),w(N));KN.__exportStar(GN(),Ge);var AF=fy();Object.defineProperty(Ge,"getCanonicalHeaders",{enumerable:!0,get:function(){return AF.getCanonicalHeaders}});var TF=yy();Object.defineProperty(Ge,"getCanonicalQuery",{enumerable:!0,get:function(){return TF.getCanonicalQuery}});var PF=_y();Object.defineProperty(Ge,"getPayloadHash",{enumerable:!0,get:function(){return PF.getPayloadHash}});var RF=Ey();Object.defineProperty(Ge,"moveHeadersToQuery",{enumerable:!0,get:function(){return RF.moveHeadersToQuery}});var IF=vy();Object.defineProperty(Ge,"prepareRequest",{enumerable:!0,get:function(){return IF.prepareRequest}});KN.__exportStar(ly(),Ge)});var JN=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.resolveSigV4AuthConfig=io.resolveAwsAuthConfig=void 0;var qF=G(),Ny=QN(),no=nn(),DF=3e5,MF=t=>{let e=t.credentials?YN(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,o;return t.signer?o=(0,no.normalizeProvider)(t.signer):t.regionInfoProvider?o=()=>(0,no.normalizeProvider)(t.region)().then(async s=>[await t.regionInfoProvider(s,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:u,signingService:l}=s;t.signingRegion=t.signingRegion||u||a,t.signingName=t.signingName||l||t.serviceId;let p={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},f=t.signerConstructor||Ny.SignatureV4;return new f(p)}):o=async s=>{s=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await(0,no.normalizeProvider)(t.region)(),properties:{}},s);let a=s.signingRegion,u=s.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||u||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},p=t.signerConstructor||Ny.SignatureV4;return new p(l)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};io.resolveAwsAuthConfig=MF;var kF=t=>{let e=t.credentials?YN(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,o;return t.signer?o=(0,no.normalizeProvider)(t.signer):o=(0,no.normalizeProvider)(new Ny.SignatureV4({credentials:e,region:t.region,service:t.signingName,sha256:i,uriEscapePath:r})),{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};io.resolveSigV4AuthConfig=kF;var YN=t=>typeof t=="function"?(0,qF.memoize)(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<DF,e=>e.expiration!==void 0):(0,no.normalizeProvider)(t)});var xy=c(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.getSkewCorrectedDate=void 0;var FF=t=>new Date(Date.now()+t);du.getSkewCorrectedDate=FF});var XN=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.isClockSkewed=void 0;var LF=xy(),UF=(t,e)=>Math.abs((0,LF.getSkewCorrectedDate)(e).getTime()-t)>=3e5;uu.isClockSkewed=UF});var ZN=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.getUpdatedSystemClockOffset=void 0;var jF=XN(),WF=(t,e)=>{let r=Date.parse(t);return(0,jF.isClockSkewed)(r,e)?r-Date.now():e};lu.getUpdatedSystemClockOffset=WF});var nx=c(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.getSigV4AuthPlugin=rt.getAwsAuthPlugin=rt.awsAuthMiddlewareOptions=rt.awsAuthMiddleware=void 0;var rx=ve(),BF=xy(),ex=ZN(),VF=t=>(e,r)=>async function(n){var i,o,s,a;if(!rx.HttpRequest.isInstance(n.request))return e(n);let u=(s=(o=(i=r.endpointV2)===null||i===void 0?void 0:i.properties)===null||o===void 0?void 0:o.authSchemes)===null||s===void 0?void 0:s[0],l=u?.name==="sigv4a"?(a=u?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,p=await t.signer(u),f=await e({...n,request:await p.sign(n.request,{signingDate:(0,BF.getSkewCorrectedDate)(t.systemClockOffset),signingRegion:l||r.signing_region,signingService:r.signing_service})}).catch(h=>{var y;let E=(y=h.ServerTime)!==null&&y!==void 0?y:tx(h.$response);throw E&&(t.systemClockOffset=(0,ex.getUpdatedSystemClockOffset)(E,t.systemClockOffset)),h}),m=tx(f.response);return m&&(t.systemClockOffset=(0,ex.getUpdatedSystemClockOffset)(m,t.systemClockOffset)),f};rt.awsAuthMiddleware=VF;var tx=t=>{var e,r,n;return rx.HttpResponse.isInstance(t)?(r=(e=t.headers)===null||e===void 0?void 0:e.date)!==null&&r!==void 0?r:(n=t.headers)===null||n===void 0?void 0:n.Date:void 0};rt.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var $F=t=>({applyToStack:e=>{e.addRelativeTo((0,rt.awsAuthMiddleware)(t),rt.awsAuthMiddlewareOptions)}});rt.getAwsAuthPlugin=$F;rt.getSigV4AuthPlugin=rt.getAwsAuthPlugin});var wr=c(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var ix=(x(),w(N));ix.__exportStar(JN(),pu);ix.__exportStar(nx(),pu)});var ox=c(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.resolveUserAgentConfig=void 0;function zF(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}fu.resolveUserAgentConfig=zF});var by=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.isIpAddress=void 0;var HF=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),GF=t=>HF.test(t)||t.startsWith("[")&&t.endsWith("]");mu.isIpAddress=GF});var Cy=c(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.isValidHostLabel=void 0;var KF=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),QF=(t,e=!1)=>{if(!e)return KF.test(t);let r=t.split(".");for(let n of r)if(!(0,ga.isValidHostLabel)(n))return!1;return!0};ga.isValidHostLabel=QF});var yu=c(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.customEndpointFunctions=void 0;hu.customEndpointFunctions={}});var sx=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.debugId=void 0;_u.debugId="endpoints"});var ax=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.toDebugString=void 0;function Oy(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Oy(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Oy).join(", ")})`:JSON.stringify(t,null,2)}gu.toDebugString=Oy});var Ea=c(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var cx=(x(),w(N));cx.__exportStar(sx(),Eu);cx.__exportStar(ax(),Eu)});var dx=c(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.EndpointError=void 0;var Ay=class extends Error{constructor(e){super(e),this.name="EndpointError"}};vu.EndpointError=Ay});var lx=c(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0})});var fx=c(px=>{"use strict";Object.defineProperty(px,"__esModule",{value:!0})});var hx=c(mx=>{"use strict";Object.defineProperty(mx,"__esModule",{value:!0})});var _x=c(yx=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0})});var Ex=c(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0})});var Sx=c(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0})});var lt=c(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});var Jn=(x(),w(N));Jn.__exportStar(dx(),Nr);Jn.__exportStar(lx(),Nr);Jn.__exportStar(fx(),Nr);Jn.__exportStar(hx(),Nr);Jn.__exportStar(_x(),Nr);Jn.__exportStar(Ex(),Nr);Jn.__exportStar(Sx(),Nr)});var wx=c(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.booleanEquals=void 0;var YF=(t,e)=>t===e;Su.booleanEquals=YF});var xx=c(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.getAttrPathList=void 0;var Nx=lt(),JF=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Nx.EndpointError(`Path: '${t}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new Nx.EndpointError(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r};wu.getAttrPathList=JF});var bx=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.getAttr=void 0;var XF=lt(),ZF=xx(),eL=(t,e)=>(0,ZF.getAttrPathList)(e).reduce((r,n)=>{if(typeof r!="object")throw new XF.EndpointError(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);Nu.getAttr=eL});var Cx=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.isSet=void 0;var tL=t=>t!=null;xu.isSet=tL});var Ox=c(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.not=void 0;var rL=t=>!t;bu.not=rL});var Ax=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.parseURL=void 0;var Py=H(),nL=by(),Ty={[Py.EndpointURLScheme.HTTP]:80,[Py.EndpointURLScheme.HTTPS]:443},iL=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:m,port:h,protocol:y="",path:E="",query:v={}}=t,T=new URL(`${y}//${m}${h?`:${h}`:""}${E}`);return T.search=Object.entries(v).map(([R,Se])=>`${R}=${Se}`).join("&"),T}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let u=s.slice(0,-1);if(!Object.values(Py.EndpointURLScheme).includes(u))return null;let l=(0,nL.isIpAddress)(i),p=r.includes(`${n}:${Ty[u]}`)||typeof t=="string"&&t.includes(`${n}:${Ty[u]}`),f=`${n}${p?`:${Ty[u]}`:""}`;return{scheme:u,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}};Cu.parseURL=iL});var Tx=c(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.stringEquals=void 0;var oL=(t,e)=>t===e;Ou.stringEquals=oL});var Px=c(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.substring=void 0;var sL=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);Au.substring=sL});var Rx=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.uriEncode=void 0;var aL=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);Tu.uriEncode=aL});var Ry=c(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});var xr=(x(),w(N));xr.__exportStar(wx(),Ot);xr.__exportStar(bx(),Ot);xr.__exportStar(Cx(),Ot);xr.__exportStar(Cy(),Ot);xr.__exportStar(Ox(),Ot);xr.__exportStar(Ax(),Ot);xr.__exportStar(Tx(),Ot);xr.__exportStar(Px(),Ot);xr.__exportStar(Rx(),Ot)});var Ix=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.endpointFunctions=void 0;var br=Ry();Pu.endpointFunctions={booleanEquals:br.booleanEquals,getAttr:br.getAttr,isSet:br.isSet,isValidHostLabel:br.isValidHostLabel,not:br.not,parseURL:br.parseURL,stringEquals:br.stringEquals,substring:br.substring,uriEncode:br.uriEncode}});var Iy=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.evaluateTemplate=void 0;var cL=Ry(),dL=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){r.push(t.slice(i));break}r.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[u,l]=a.split("#");r.push((0,cL.getAttr)(n[u],l))}else r.push(n[a]);i=s+1}return r.join("")};Ru.evaluateTemplate=dL});var qx=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.getReferenceValue=void 0;var uL=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];Iu.getReferenceValue=uL});var va=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.evaluateExpression=void 0;var lL=lt(),pL=qy(),fL=Iy(),mL=qx(),hL=(t,e,r)=>{if(typeof t=="string")return(0,fL.evaluateTemplate)(t,r);if(t.fn)return(0,pL.callFunction)(t,r);if(t.ref)return(0,mL.getReferenceValue)(t,r);throw new lL.EndpointError(`'${e}': ${String(t)} is not a string, function or reference.`)};qu.evaluateExpression=hL});var qy=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.callFunction=void 0;var Dx=yu(),yL=Ix(),_L=va(),gL=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:(0,_L.evaluateExpression)(o,"arg",r)),i=t.split(".");return i[0]in Dx.customEndpointFunctions&&i[1]!=null?Dx.customEndpointFunctions[i[0]][i[1]](...n):yL.endpointFunctions[t](...n)};Du.callFunction=gL});var Mx=c(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.evaluateCondition=void 0;var Dy=Ea(),EL=lt(),vL=qy(),SL=({assign:t,...e},r)=>{var n,i;if(t&&t in r.referenceRecord)throw new EL.EndpointError(`'${t}' is already defined in Reference Record.`);let o=(0,vL.callFunction)(e,r);return(i=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||i===void 0||i.call(n,Dy.debugId,`evaluateCondition: ${(0,Dy.toDebugString)(e)} = ${(0,Dy.toDebugString)(o)}`),{result:o===""?!0:!!o,...t!=null&&{toAssign:{name:t,value:o}}}};Mu.evaluateCondition=SL});var Fu=c(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.evaluateConditions=void 0;var kx=Ea(),wL=Mx(),NL=(t=[],e)=>{var r,n;let i={};for(let o of t){let{result:s,toAssign:a}=(0,wL.evaluateCondition)(o,{...e,referenceRecord:{...e.referenceRecord,...i}});if(!s)return{result:s};a&&(i[a.name]=a.value,(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,kx.debugId,`assign: ${a.name} := ${(0,kx.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:i}};ku.evaluateConditions=NL});var Fx=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.getEndpointHeaders=void 0;var xL=lt(),bL=va(),CL=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=(0,bL.evaluateExpression)(o,"Header value entry",e);if(typeof s!="string")throw new xL.EndpointError(`Header '${n}' value '${s}' is not a string`);return s})}),{});Lu.getEndpointHeaders=CL});var Ux=c(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.getEndpointProperty=void 0;var Lx=lt(),OL=Iy(),AL=My(),TL=(t,e)=>{if(Array.isArray(t))return t.map(r=>(0,Sa.getEndpointProperty)(r,e));switch(typeof t){case"string":return(0,OL.evaluateTemplate)(t,e);case"object":if(t===null)throw new Lx.EndpointError(`Unexpected endpoint property: ${t}`);return(0,AL.getEndpointProperties)(t,e);case"boolean":return t;default:throw new Lx.EndpointError(`Unexpected endpoint property type: ${typeof t}`)}};Sa.getEndpointProperty=TL});var My=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.getEndpointProperties=void 0;var PL=Ux(),RL=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:(0,PL.getEndpointProperty)(i,e)}),{});Uu.getEndpointProperties=RL});var jx=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.getEndpointUrl=void 0;var IL=lt(),qL=va(),DL=(t,e)=>{let r=(0,qL.evaluateExpression)(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new IL.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};ju.getEndpointUrl=DL});var Bx=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.evaluateEndpointRule=void 0;var Wx=Ea(),ML=Fu(),kL=Fx(),FL=My(),LL=jx(),UL=(t,e)=>{var r,n;let{conditions:i,endpoint:o}=t,{result:s,referenceRecord:a}=(0,ML.evaluateConditions)(i,e);if(!s)return;let u={...e,referenceRecord:{...e.referenceRecord,...a}},{url:l,properties:p,headers:f}=o;return(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,Wx.debugId,`Resolving endpoint from template: ${(0,Wx.toDebugString)(o)}`),{...f!=null&&{headers:(0,kL.getEndpointHeaders)(f,u)},...p!=null&&{properties:(0,FL.getEndpointProperties)(p,u)},url:(0,LL.getEndpointUrl)(l,u)}};Wu.evaluateEndpointRule=UL});var Vx=c(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.evaluateErrorRule=void 0;var jL=lt(),WL=Fu(),BL=va(),VL=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:o}=(0,WL.evaluateConditions)(r,e);if(i)throw new jL.EndpointError((0,BL.evaluateExpression)(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))};Bu.evaluateErrorRule=VL});var $x=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.evaluateTreeRule=void 0;var $L=Fu(),zL=ky(),HL=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:o}=(0,$L.evaluateConditions)(r,e);if(i)return(0,zL.evaluateRules)(n,{...e,referenceRecord:{...e.referenceRecord,...o}})};Vu.evaluateTreeRule=HL});var ky=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.evaluateRules=void 0;var zx=lt(),GL=Bx(),KL=Vx(),QL=$x(),YL=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=(0,GL.evaluateEndpointRule)(r,e);if(n)return n}else if(r.type==="error")(0,KL.evaluateErrorRule)(r,e);else if(r.type==="tree"){let n=(0,QL.evaluateTreeRule)(r,e);if(n)return n}else throw new zx.EndpointError(`Unknown endpoint rule: ${r}`);throw new zx.EndpointError("Rules evaluation failed")};$u.evaluateRules=YL});var Gx=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var Hx=(x(),w(N));Hx.__exportStar(yu(),zu);Hx.__exportStar(ky(),zu)});var Kx=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.resolveEndpoint=void 0;var Hu=Ea(),JL=lt(),XL=Gx(),ZL=(t,e)=>{var r,n,i,o,s,a;let{endpointParams:u,logger:l}=e,{parameters:p,rules:f}=t;(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,`${Hu.debugId} Initial EndpointParams: ${(0,Hu.toDebugString)(u)}`);let m=Object.entries(p).filter(([,E])=>E.default!=null).map(([E,v])=>[E,v.default]);if(m.length>0)for(let[E,v]of m)u[E]=(i=u[E])!==null&&i!==void 0?i:v;let h=Object.entries(p).filter(([,E])=>E.required).map(([E])=>E);for(let E of h)if(u[E]==null)throw new JL.EndpointError(`Missing required parameter: '${E}'`);let y=(0,XL.evaluateRules)(f,{endpointParams:u,logger:l,referenceRecord:{}});if(!((o=e.endpointParams)===null||o===void 0)&&o.Endpoint)try{let E=new URL(e.endpointParams.Endpoint),{protocol:v,port:T}=E;y.url.protocol=v,y.url.port=T}catch{}return(a=(s=e.logger)===null||s===void 0?void 0:s.debug)===null||a===void 0||a.call(s,`${Hu.debugId} Resolved endpoint: ${(0,Hu.toDebugString)(y)}`),y};Gu.resolveEndpoint=ZL});var zt=c(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var wa=(x(),w(N));wa.__exportStar(by(),Xn);wa.__exportStar(Cy(),Xn);wa.__exportStar(yu(),Xn);wa.__exportStar(Kx(),Xn);wa.__exportStar(lt(),Xn)});var Fy=c(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.isIpAddress=void 0;var eU=zt();Object.defineProperty(Ku,"isIpAddress",{enumerable:!0,get:function(){return eU.isIpAddress}})});var Qx=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.isVirtualHostableS3Bucket=void 0;var tU=zt(),rU=Fy(),nU=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!(0,Na.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,tU.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,rU.isIpAddress)(t))};Na.isVirtualHostableS3Bucket=nU});var Yx=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.parseArn=void 0;var iU=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,o,s,...a]=e;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:o,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}};Qu.parseArn=iU});var Jx=c((Lle,oU)=>{oU.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var Ly=c(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.getUserAgentPrefix=At.useDefaultPartitionInfo=At.setPartitionInfo=At.partition=void 0;var sU=(x(),w(N)),Xx=sU.__importDefault(Jx()),Zx=Xx.default,eb="",aU=t=>{let{partitions:e}=Zx;for(let n of e){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===t)return{...o,...a}}for(let n of e){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};At.partition=aU;var cU=(t,e="")=>{Zx=t,eb=e};At.setPartitionInfo=cU;var dU=()=>{(0,At.setPartitionInfo)(Xx.default,"")};At.useDefaultPartitionInfo=dU;var uU=()=>eb;At.getUserAgentPrefix=uU});var rb=c(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});var lU=zt(),pU=Qx(),fU=Yx(),mU=Ly(),hU={isVirtualHostableS3Bucket:pU.isVirtualHostableS3Bucket,parseArn:fU.parseArn,partition:mU.partition};lU.customEndpointFunctions.aws=hU});var nb=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.resolveEndpoint=void 0;var yU=zt();Object.defineProperty(Yu,"resolveEndpoint",{enumerable:!0,get:function(){return yU.resolveEndpoint}})});var ib=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.EndpointError=void 0;var _U=zt();Object.defineProperty(Ju,"EndpointError",{enumerable:!0,get:function(){return _U.EndpointError}})});var sb=c(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0})});var cb=c(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0})});var ub=c(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0})});var pb=c(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0})});var mb=c(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0})});var hb=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var oo=(x(),w(N));oo.__exportStar(ib(),an);oo.__exportStar(sb(),an);oo.__exportStar(cb(),an);oo.__exportStar(ub(),an);oo.__exportStar(pb(),an);oo.__exportStar(mb(),an)});var ba=c(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var xa=(x(),w(N));xa.__exportStar(rb(),Zn);xa.__exportStar(Ly(),Zn);xa.__exportStar(Fy(),Zn);xa.__exportStar(nb(),Zn);xa.__exportStar(hb(),Zn)});var yb=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.UA_ESCAPE_CHAR=De.UA_VALUE_ESCAPE_REGEX=De.UA_NAME_ESCAPE_REGEX=De.UA_NAME_SEPARATOR=De.SPACE=De.X_AMZ_USER_AGENT=De.USER_AGENT=void 0;De.USER_AGENT="user-agent";De.X_AMZ_USER_AGENT="x-amz-user-agent";De.SPACE=" ";De.UA_NAME_SEPARATOR="/";De.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;De.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;De.UA_ESCAPE_CHAR="-"});var _b=c(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.getUserAgentPlugin=Ht.getUserAgentMiddlewareOptions=Ht.userAgentMiddleware=void 0;var gU=ba(),EU=ve(),Ke=yb(),vU=t=>(e,r)=>async n=>{var i,o;let{request:s}=n;if(!EU.HttpRequest.isInstance(s))return e(n);let{headers:a}=s,u=((i=r?.userAgent)===null||i===void 0?void 0:i.map(Uy))||[],l=(await t.defaultUserAgentProvider()).map(Uy),p=((o=t?.customUserAgent)===null||o===void 0?void 0:o.map(Uy))||[],f=(0,gU.getUserAgentPrefix)(),m=(f?[f]:[]).concat([...l,...u,...p]).join(Ke.SPACE),h=[...l.filter(y=>y.startsWith("aws-sdk-")),...p].join(Ke.SPACE);return t.runtime!=="browser"?(h&&(a[Ke.X_AMZ_USER_AGENT]=a[Ke.X_AMZ_USER_AGENT]?`${a[Ke.USER_AGENT]} ${h}`:h),a[Ke.USER_AGENT]=m):a[Ke.X_AMZ_USER_AGENT]=m,e({...n,request:s})};Ht.userAgentMiddleware=vU;var Uy=t=>{var e;let r=t[0].split(Ke.UA_NAME_SEPARATOR).map(a=>a.replace(Ke.UA_NAME_ESCAPE_REGEX,Ke.UA_ESCAPE_CHAR)).join(Ke.UA_NAME_SEPARATOR),n=(e=t[1])===null||e===void 0?void 0:e.replace(Ke.UA_VALUE_ESCAPE_REGEX,Ke.UA_ESCAPE_CHAR),i=r.indexOf(Ke.UA_NAME_SEPARATOR),o=r.substring(0,i),s=r.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(a=>a&&a.length>0).reduce((a,u,l)=>{switch(l){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")};Ht.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var SU=t=>({applyToStack:e=>{e.add((0,Ht.userAgentMiddleware)(t),Ht.getUserAgentMiddlewareOptions)}});Ht.getUserAgentPlugin=SU});var Ca=c(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var gb=(x(),w(N));gb.__exportStar(ox(),Xu);gb.__exportStar(_b(),Xu)});var Eb=c(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.booleanSelector=ei.SelectorType=void 0;var wU;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(wU=ei.SelectorType||(ei.SelectorType={}));var NU=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};ei.booleanSelector=NU});var Wy=c(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});var xU=(x(),w(N));xU.__exportStar(Eb(),jy)});var vb=c(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=pt.DEFAULT_USE_DUALSTACK_ENDPOINT=pt.CONFIG_USE_DUALSTACK_ENDPOINT=pt.ENV_USE_DUALSTACK_ENDPOINT=void 0;var Zu=Wy();pt.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";pt.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";pt.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;pt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,Zu.booleanSelector)(t,pt.ENV_USE_DUALSTACK_ENDPOINT,Zu.SelectorType.ENV),configFileSelector:t=>(0,Zu.booleanSelector)(t,pt.CONFIG_USE_DUALSTACK_ENDPOINT,Zu.SelectorType.CONFIG),default:!1}});var Sb=c(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=ft.DEFAULT_USE_FIPS_ENDPOINT=ft.CONFIG_USE_FIPS_ENDPOINT=ft.ENV_USE_FIPS_ENDPOINT=void 0;var el=Wy();ft.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";ft.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";ft.DEFAULT_USE_FIPS_ENDPOINT=!1;ft.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,el.booleanSelector)(t,ft.ENV_USE_FIPS_ENDPOINT,el.SelectorType.ENV),configFileSelector:t=>(0,el.booleanSelector)(t,ft.CONFIG_USE_FIPS_ENDPOINT,el.SelectorType.CONFIG),default:!1}});var Nb=c(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.resolveCustomEndpointsConfig=void 0;var wb=nn(),bU=t=>{var e,r;let{endpoint:n,urlParser:i}=t;return{...t,tls:(e=t.tls)!==null&&e!==void 0?e:!0,endpoint:(0,wb.normalizeProvider)(typeof n=="string"?i(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,wb.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};tl.resolveCustomEndpointsConfig=bU});var xb=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.getEndpointFromRegion=void 0;var CU=async t=>{var e;let{tls:r=!0}=t,n=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let o=await t.useDualstackEndpoint(),s=await t.useFipsEndpoint(),{hostname:a}=(e=await t.regionInfoProvider(n,{useDualstackEndpoint:o,useFipsEndpoint:s}))!==null&&e!==void 0?e:{};if(!a)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${r?"https:":"http:"}//${a}`)};rl.getEndpointFromRegion=CU});var Cb=c(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.resolveEndpointsConfig=void 0;var bb=nn(),OU=xb(),AU=t=>{var e,r;let n=(0,bb.normalizeProvider)((e=t.useDualstackEndpoint)!==null&&e!==void 0?e:!1),{endpoint:i,useFipsEndpoint:o,urlParser:s}=t;return{...t,tls:(r=t.tls)!==null&&r!==void 0?r:!0,endpoint:i?(0,bb.normalizeProvider)(typeof i=="string"?s(i):i):()=>(0,OU.getEndpointFromRegion)({...t,useDualstackEndpoint:n,useFipsEndpoint:o}),isCustomEndpoint:!!i,useDualstackEndpoint:n}};nl.resolveEndpointsConfig=AU});var Ob=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});var il=(x(),w(N));il.__exportStar(vb(),so);il.__exportStar(Sb(),so);il.__exportStar(Nb(),so);il.__exportStar(Cb(),so)});var Ab=c(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.NODE_REGION_CONFIG_FILE_OPTIONS=mt.NODE_REGION_CONFIG_OPTIONS=mt.REGION_INI_NAME=mt.REGION_ENV_NAME=void 0;mt.REGION_ENV_NAME="AWS_REGION";mt.REGION_INI_NAME="region";mt.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:t=>t[mt.REGION_ENV_NAME],configFileSelector:t=>t[mt.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};mt.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var By=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.isFipsRegion=void 0;var TU=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));ol.isFipsRegion=TU});var Tb=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.getRealRegion=void 0;var PU=By(),RU=t=>(0,PU.isFipsRegion)(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;sl.getRealRegion=RU});var Rb=c(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.resolveRegionConfig=void 0;var Pb=Tb(),IU=By(),qU=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return(0,Pb.getRealRegion)(e);let n=await e();return(0,Pb.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return(0,IU.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};al.resolveRegionConfig=qU});var qb=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});var Ib=(x(),w(N));Ib.__exportStar(Ab(),cl);Ib.__exportStar(Rb(),cl)});var Mb=c(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0})});var Fb=c(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0})});var Lb=c(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.getHostnameFromVariants=void 0;var DU=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>{var n;return(n=t.find(({tags:i})=>e===i.includes("fips")&&r===i.includes("dualstack")))===null||n===void 0?void 0:n.hostname};dl.getHostnameFromVariants=DU});var Ub=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.getResolvedHostname=void 0;var MU=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0);ul.getResolvedHostname=MU});var jb=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.getResolvedPartition=void 0;var kU=(t,{partitionHash:e})=>{var r;return(r=Object.keys(e||{}).find(n=>e[n].regions.includes(t)))!==null&&r!==void 0?r:"aws"};ll.getResolvedPartition=kU});var Wb=c(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.getResolvedSigningRegion=void 0;var FU=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=t.match(i);if(o)return o[0].slice(1,-1)}};pl.getResolvedSigningRegion=FU});var Vb=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.getRegionInfo=void 0;var Bb=Lb(),LU=Ub(),UU=jb(),jU=Wb(),WU=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:o})=>{var s,a,u,l,p,f;let m=(0,UU.getResolvedPartition)(t,{partitionHash:o}),h=t in i?t:(a=(s=o[m])===null||s===void 0?void 0:s.endpoint)!==null&&a!==void 0?a:t,y={useFipsEndpoint:e,useDualstackEndpoint:r},E=(0,Bb.getHostnameFromVariants)((u=i[h])===null||u===void 0?void 0:u.variants,y),v=(0,Bb.getHostnameFromVariants)((l=o[m])===null||l===void 0?void 0:l.variants,y),T=(0,LU.getResolvedHostname)(h,{regionHostname:E,partitionHostname:v});if(T===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let R=(0,jU.getResolvedSigningRegion)(T,{signingRegion:(p=i[h])===null||p===void 0?void 0:p.signingRegion,regionRegex:o[m].regionRegex,useFipsEndpoint:e});return{partition:m,signingService:n,hostname:T,...R&&{signingRegion:R},...((f=i[h])===null||f===void 0?void 0:f.signingService)&&{signingService:i[h].signingService}}};fl.getRegionInfo=WU});var $b=c(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var Vy=(x(),w(N));Vy.__exportStar(Mb(),Oa);Vy.__exportStar(Fb(),Oa);Vy.__exportStar(Vb(),Oa)});var Gt=c(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});var $y=(x(),w(N));$y.__exportStar(Ob(),Aa);$y.__exportStar(qb(),Aa);$y.__exportStar($b(),Aa)});var Ta=c(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getContentLengthPlugin=Cr.contentLengthMiddlewareOptions=Cr.contentLengthMiddleware=void 0;var BU=ve(),zb="content-length";function Hb(t){return e=>async r=>{let n=r.request;if(BU.HttpRequest.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(zb)===-1)try{let s=t(i);n.headers={...n.headers,[zb]:String(s)}}catch{}}return e({...r,request:n})}}Cr.contentLengthMiddleware=Hb;Cr.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var VU=t=>({applyToStack:e=>{e.add(Hb(t.bodyLengthChecker),Cr.contentLengthMiddlewareOptions)}});Cr.getContentLengthPlugin=VU});var Gb=c(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.isArnBucketName=Qe.isDnsCompatibleBucketName=Qe.S3_HOSTNAME_PATTERN=Qe.DOT_PATTERN=Qe.resolveParamsForS3=void 0;var $U=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,Qe.isArnBucketName)(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,Qe.isDnsCompatibleBucketName)(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t};Qe.resolveParamsForS3=$U;var zU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,HU=/(\d+\.){3}\d+/,GU=/\.\./;Qe.DOT_PATTERN=/\./;Qe.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var KU=t=>zU.test(t)&&!HU.test(t)&&!GU.test(t);Qe.isDnsCompatibleBucketName=KU;var QU=t=>{let[e,r,n,i,o,s]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,u=[e,r,n,o,s].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!o&&!!s};Qe.isArnBucketName=QU});var Kb=c(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});var YU=(x(),w(N));YU.__exportStar(Gb(),zy)});var Qb=c(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.createConfigValueProvider=void 0;var JU=(t,e,r)=>{let n=async()=>{var i;let o=(i=r[t])!==null&&i!==void 0?i:r[e];return typeof o=="function"?o():o};return t==="endpoint"||e==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:u}=i;return`${o}//${s}${a?":"+a:""}${u}`}}return i}:n};ml.createConfigValueProvider=JU});var Yb=c(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.fromEnv=void 0;var XU=G(),ZU=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new XU.CredentialsProviderError(e.message||`Cannot load config from environment variables with getter: ${t}`)}};hl.fromEnv=ZU});var Pa=c(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.getHomeDir=void 0;var ej=z("os"),tj=z("path"),Hy={},rj=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",nj=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${tj.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=rj();return Hy[i]||(Hy[i]=(0,ej.homedir)()),Hy[i]};yl.getHomeDir=nj});var Jb=c(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getProfileName=Kt.DEFAULT_PROFILE=Kt.ENV_PROFILE=void 0;Kt.ENV_PROFILE="AWS_PROFILE";Kt.DEFAULT_PROFILE="default";var ij=t=>t.profile||process.env[Kt.ENV_PROFILE]||Kt.DEFAULT_PROFILE;Kt.getProfileName=ij});var Gy=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.getSSOTokenFilepath=void 0;var oj=z("crypto"),sj=z("path"),aj=Pa(),cj=t=>{let r=(0,oj.createHash)("sha1").update(t).digest("hex");return(0,sj.join)((0,aj.getHomeDir)(),".aws","sso","cache",`${r}.json`)};_l.getSSOTokenFilepath=cj});var Xb=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.getSSOTokenFromFile=void 0;var dj=z("fs"),uj=Gy(),{readFile:lj}=dj.promises,pj=async t=>{let e=(0,uj.getSSOTokenFilepath)(t),r=await lj(e,"utf8");return JSON.parse(r)};gl.getSSOTokenFromFile=pj});var tC=c(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.getConfigData=void 0;var Zb=H(),eC=ao(),fj=t=>Object.entries(t).filter(([e])=>{let r=e.split(eC.CONFIG_PREFIX_SEPARATOR);return!!(r.length===2&&Object.values(Zb.IniSectionType).includes(r[0]))}).reduce((e,[r,n])=>{let i=r.startsWith(Zb.IniSectionType.PROFILE)?r.split(eC.CONFIG_PREFIX_SEPARATOR)[1]:r;return e[i]=n,e},{...t.default&&{default:t.default}});El.getConfigData=fj});var Ky=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.getConfigFilepath=ti.ENV_CONFIG_PATH=void 0;var mj=z("path"),hj=Pa();ti.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var yj=()=>process.env[ti.ENV_CONFIG_PATH]||(0,mj.join)((0,hj.getHomeDir)(),".aws","config");ti.getConfigFilepath=yj});var rC=c(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.getCredentialsFilepath=ri.ENV_CREDENTIALS_PATH=void 0;var _j=z("path"),gj=Pa();ri.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var Ej=()=>process.env[ri.ENV_CREDENTIALS_PATH]||(0,_j.join)((0,gj.getHomeDir)(),".aws","credentials");ri.getCredentialsFilepath=Ej});var Qy=c(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.parseIni=void 0;var vj=H(),nC=ao(),Sj=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,wj=["__proto__","profile __proto__"],Nj=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),u=Sj.exec(a);if(u){let[,l,,p]=u;Object.values(vj.IniSectionType).includes(l)&&(r=[l,p].join(nC.CONFIG_PREFIX_SEPARATOR))}else r=a;if(wj.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[u,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=u;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let p=n?[n,u].join(nC.CONFIG_PREFIX_SEPARATOR):u;e[r][p]=l}}}}return e};vl.parseIni=Nj});var Jy=c(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.slurpFile=void 0;var xj=z("fs"),{readFile:bj}=xj.promises,Yy={},Cj=(t,e)=>((!Yy[t]||e?.ignoreCache)&&(Yy[t]=bj(t,"utf8")),Yy[t]);Sl.slurpFile=Cj});var ao=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.loadSharedConfigFiles=co.CONFIG_PREFIX_SEPARATOR=void 0;var Oj=tC(),Aj=Ky(),Tj=rC(),iC=Qy(),oC=Jy(),sC=()=>({});co.CONFIG_PREFIX_SEPARATOR=".";var Pj=async(t={})=>{let{filepath:e=(0,Tj.getCredentialsFilepath)(),configFilepath:r=(0,Aj.getConfigFilepath)()}=t,n=await Promise.all([(0,oC.slurpFile)(r,{ignoreCache:t.ignoreCache}).then(iC.parseIni).then(Oj.getConfigData).catch(sC),(0,oC.slurpFile)(e,{ignoreCache:t.ignoreCache}).then(iC.parseIni).catch(sC)]);return{configFile:n[0],credentialsFile:n[1]}};co.loadSharedConfigFiles=Pj});var cC=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.getSsoSessionData=void 0;var Rj=H(),aC=ao(),Ij=t=>Object.entries(t).filter(([e])=>e.startsWith(Rj.IniSectionType.SSO_SESSION+aC.CONFIG_PREFIX_SEPARATOR)).reduce((e,[r,n])=>({...e,[r.split(aC.CONFIG_PREFIX_SEPARATOR)[1]]:n}),{});wl.getSsoSessionData=Ij});var dC=c(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.loadSsoSessionData=void 0;var qj=Ky(),Dj=cC(),Mj=Qy(),kj=Jy(),Fj=()=>({}),Lj=async(t={})=>{var e;return(0,kj.slurpFile)((e=t.configFilepath)!==null&&e!==void 0?e:(0,qj.getConfigFilepath)()).then(Mj.parseIni).then(Dj.getSsoSessionData).catch(Fj)};Nl.loadSsoSessionData=Lj});var uC=c(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.mergeConfigFiles=void 0;var Uj=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e};xl.mergeConfigFiles=Uj});var lC=c(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.parseKnownFiles=void 0;var jj=ao(),Wj=uC(),Bj=async t=>{let e=await(0,jj.loadSharedConfigFiles)(t);return(0,Wj.mergeConfigFiles)(e.configFile,e.credentialsFile)};bl.parseKnownFiles=Bj});var fC=c(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0})});var Tt=c(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var cn=(x(),w(N));cn.__exportStar(Pa(),Qt);cn.__exportStar(Jb(),Qt);cn.__exportStar(Gy(),Qt);cn.__exportStar(Xb(),Qt);cn.__exportStar(ao(),Qt);cn.__exportStar(dC(),Qt);cn.__exportStar(lC(),Qt);cn.__exportStar(fC(),Qt)});var hC=c(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.fromSharedConfigFiles=void 0;var Vj=G(),mC=Tt(),$j=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,mC.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,mC.loadSharedConfigFiles)(r),s=o[n]||{},a=i[n]||{},u=e==="config"?{...s,...a}:{...a,...s};try{let p=t(u,e==="config"?i:o);if(p===void 0)throw new Error;return p}catch(l){throw new Vj.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};Cl.fromSharedConfigFiles=$j});var yC=c(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.fromStatic=void 0;var zj=G(),Hj=t=>typeof t=="function",Gj=t=>Hj(t)?async()=>await t():(0,zj.fromStatic)(t);Ol.fromStatic=Gj});var gC=c(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.loadConfig=void 0;var _C=G(),Kj=Yb(),Qj=hC(),Yj=yC(),Jj=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,_C.memoize)((0,_C.chain)((0,Kj.fromEnv)(t),(0,Qj.fromSharedConfigFiles)(e,n),(0,Yj.fromStatic)(r)));Al.loadConfig=Jj});var Yt=c(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});var Xj=(x(),w(N));Xj.__exportStar(gC(),Xy)});var wC=c(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getEndpointUrlConfig=void 0;var EC=Tt(),vC="AWS_ENDPOINT_URL",SC="endpoint_url",Zj=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[vC,...r].join("_")];if(n)return n;let i=e[vC];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(EC.CONFIG_PREFIX_SEPARATOR)];if(i){let o=t.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),SC].join(EC.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=e[SC];if(n)return n},default:void 0});Tl.getEndpointUrlConfig=Zj});var NC=c(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.getEndpointFromConfig=void 0;var eW=Yt(),tW=wC(),rW=async t=>(0,eW.loadConfig)((0,tW.getEndpointUrlConfig)(t))();Pl.getEndpointFromConfig=rW});var xC=c(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.parseQueryString=void 0;function nW(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}Rl.parseQueryString=nW});var ni=c(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.parseUrl=void 0;var iW=xC(),oW=t=>{if(typeof t=="string")return(0,Ra.parseUrl)(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:o}=t,s;return o&&(s=(0,iW.parseQueryString)(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}};Ra.parseUrl=oW});var ql=c(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.toEndpointV1=void 0;var bC=ni(),sW=t=>typeof t=="object"?"url"in t?(0,bC.parseUrl)(t.url):t:(0,bC.parseUrl)(t);Il.toEndpointV1=sW});var Zy=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.resolveParams=ii.getEndpointFromInstructions=void 0;var aW=Kb(),cW=Qb(),dW=NC(),uW=ql(),lW=async(t,e,r,n)=>{if(!r.endpoint){let s=await(0,dW.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve((0,uW.toEndpointV1)(s)))}let i=await(0,ii.resolveParams)(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)};ii.getEndpointFromInstructions=lW;var pW=async(t,e,r)=>{var n;let i={},o=((n=e?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(e))||{};for(let[s,a]of Object.entries(o))switch(a.type){case"staticContextParams":i[s]=a.value;break;case"contextParams":i[s]=t[a.name];break;case"clientContextParams":case"builtInParams":i[s]=await(0,cW.createConfigValueProvider)(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,aW.resolveParamsForS3)(i),i};ii.resolveParams=pW});var OC=c(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});var CC=(x(),w(N));CC.__exportStar(Zy(),Dl);CC.__exportStar(ql(),Dl)});var e_=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.endpointMiddleware=void 0;var fW=nn(),mW=Zy(),hW=({config:t,instructions:e})=>(r,n)=>async i=>{var o,s,a;let u=await(0,mW.getEndpointFromInstructions)(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=u,n.authSchemes=(o=u.properties)===null||o===void 0?void 0:o.authSchemes;let l=(s=n.authSchemes)===null||s===void 0?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let p=(0,fW.getSmithyContext)(n),f=(a=p?.selectedHttpAuthScheme)===null||a===void 0?void 0:a.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...i})};Ml.endpointMiddleware=hW});var t_=c(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.deserializerMiddleware=void 0;var yW=(t,e)=>(r,n)=>async i=>{let{response:o}=await r(i);try{let s=await e(o,t);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a}throw s}};kl.deserializerMiddleware=yW});var r_=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.serializerMiddleware=void 0;var _W=(t,e)=>(r,n)=>async i=>{var o;let s=!((o=n.endpointV2)===null||o===void 0)&&o.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await e(i.input,{...t,endpoint:s});return r({...i,request:a})};Fl.serializerMiddleware=_W});var AC=c(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getSerdePlugin=Jt.serializerMiddlewareOption=Jt.deserializerMiddlewareOption=void 0;var gW=t_(),EW=r_();Jt.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};Jt.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function vW(t,e,r){return{applyToStack:n=>{n.add((0,gW.deserializerMiddleware)(t,r),Jt.deserializerMiddlewareOption),n.add((0,EW.serializerMiddleware)(t,e),Jt.serializerMiddlewareOption)}}}Jt.getSerdePlugin=vW});var se=c(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var n_=(x(),w(N));n_.__exportStar(t_(),Ia);n_.__exportStar(AC(),Ia);n_.__exportStar(r_(),Ia)});var TC=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.getEndpointPlugin=oi.endpointMiddlewareOptions=void 0;var SW=se(),wW=e_();oi.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:SW.serializerMiddlewareOption.name};var NW=(t,e)=>({applyToStack:r=>{r.addRelativeTo((0,wW.endpointMiddleware)({config:t,instructions:e}),oi.endpointMiddlewareOptions)}});oi.getEndpointPlugin=NW});var PC=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.resolveEndpointConfig=void 0;var i_=nn(),xW=ql(),bW=t=>{var e,r,n;let i=(e=t.tls)!==null&&e!==void 0?e:!0,{endpoint:o}=t,s=o!=null?async()=>(0,xW.toEndpointV1)(await(0,i_.normalizeProvider)(o)()):void 0;return{...t,endpoint:s,tls:i,isCustomEndpoint:!!o,useDualstackEndpoint:(0,i_.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,i_.normalizeProvider)((n=t.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};Ll.resolveEndpointConfig=bW});var IC=c(RC=>{"use strict";Object.defineProperty(RC,"__esModule",{value:!0})});var Q=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var qa=(x(),w(N));qa.__exportStar(OC(),si);qa.__exportStar(e_(),si);qa.__exportStar(TC(),si);qa.__exportStar(PC(),si);qa.__exportStar(IC(),si)});var Ul=c(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.DEFAULT_RETRY_MODE=Or.DEFAULT_MAX_ATTEMPTS=Or.RETRY_MODES=void 0;var qC;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(qC=Or.RETRY_MODES||(Or.RETRY_MODES={}));Or.DEFAULT_MAX_ATTEMPTS=3;Or.DEFAULT_RETRY_MODE=qC.STANDARD});var DC=c(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.NODEJS_TIMEOUT_ERROR_CODES=ht.TRANSIENT_ERROR_STATUS_CODES=ht.TRANSIENT_ERROR_CODES=ht.THROTTLING_ERROR_CODES=ht.CLOCK_SKEW_ERROR_CODES=void 0;ht.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];ht.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];ht.TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"];ht.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];ht.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var Ma=c(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.isServerError=nt.isTransientError=nt.isThrottlingError=nt.isClockSkewError=nt.isRetryableByTrait=void 0;var Da=DC(),CW=t=>t.$retryable!==void 0;nt.isRetryableByTrait=CW;var OW=t=>Da.CLOCK_SKEW_ERROR_CODES.includes(t.name);nt.isClockSkewError=OW;var AW=t=>{var e,r;return((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)===429||Da.THROTTLING_ERROR_CODES.includes(t.name)||((r=t.$retryable)===null||r===void 0?void 0:r.throttling)==!0};nt.isThrottlingError=AW;var TW=t=>{var e;return Da.TRANSIENT_ERROR_CODES.includes(t.name)||Da.NODEJS_TIMEOUT_ERROR_CODES.includes(t?.code||"")||Da.TRANSIENT_ERROR_STATUS_CODES.includes(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)||0)};nt.isTransientError=TW;var PW=t=>{var e;if(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,nt.isTransientError)(t)}return!1};nt.isServerError=PW});var s_=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.DefaultRateLimiter=void 0;var RW=Ma(),o_=class{constructor(e){var r,n,i,o,s;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=e?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=e?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(i=e?.minFillRate)!==null&&i!==void 0?i:.5,this.scaleConstant=(o=e?.scaleConstant)!==null&&o!==void 0?o:.4,this.smooth=(s=e?.smooth)!==null&&s!==void 0?s:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,RW.isThrottlingError)(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};jl.DefaultRateLimiter=o_});var uo=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.REQUEST_HEADER=he.INVOCATION_ID_HEADER=he.NO_RETRY_INCREMENT=he.TIMEOUT_RETRY_COST=he.RETRY_COST=he.INITIAL_RETRY_TOKENS=he.THROTTLING_RETRY_DELAY_BASE=he.MAXIMUM_RETRY_DELAY=he.DEFAULT_RETRY_DELAY_BASE=void 0;he.DEFAULT_RETRY_DELAY_BASE=100;he.MAXIMUM_RETRY_DELAY=20*1e3;he.THROTTLING_RETRY_DELAY_BASE=500;he.INITIAL_RETRY_TOKENS=500;he.RETRY_COST=5;he.TIMEOUT_RETRY_COST=10;he.NO_RETRY_INCREMENT=1;he.INVOCATION_ID_HEADER="amz-sdk-invocation-id";he.REQUEST_HEADER="amz-sdk-request"});var kC=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.getDefaultRetryBackoffStrategy=void 0;var MC=uo(),IW=()=>{let t=MC.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(MC.MAXIMUM_RETRY_DELAY,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};Wl.getDefaultRetryBackoffStrategy=IW});var FC=c(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.createDefaultRetryToken=void 0;var qW=uo(),DW=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(qW.MAXIMUM_RETRY_DELAY,t),getRetryCost:()=>r});Bl.createDefaultRetryToken=DW});var $l=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.StandardRetryStrategy=void 0;var a_=Ul(),dn=uo(),MW=kC(),LC=FC(),c_=class{constructor(e){this.maxAttempts=e,this.mode=a_.RETRY_MODES.STANDARD,this.capacity=dn.INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=(0,MW.getDefaultRetryBackoffStrategy)(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return(0,LC.createDefaultRetryToken)({retryDelay:dn.DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?dn.THROTTLING_RETRY_DELAY_BASE:dn.DEFAULT_RETRY_DELAY_BASE);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,(0,LC.createDefaultRetryToken)({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){var r;this.capacity=Math.max(dn.INITIAL_RETRY_TOKENS,this.capacity+((r=e.getRetryCost())!==null&&r!==void 0?r:dn.NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${a_.DEFAULT_MAX_ATTEMPTS}`),a_.DEFAULT_MAX_ATTEMPTS}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?dn.TIMEOUT_RETRY_COST:dn.RETRY_COST}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};Vl.StandardRetryStrategy=c_});var UC=c(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.AdaptiveRetryStrategy=void 0;var kW=Ul(),FW=s_(),LW=$l(),d_=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=kW.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new FW.DefaultRateLimiter,this.standardRetryStrategy=new LW.StandardRetryStrategy(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};zl.AdaptiveRetryStrategy=d_});var jC=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.ConfiguredRetryStrategy=void 0;var UW=uo(),jW=$l(),u_=class extends jW.StandardRetryStrategy{constructor(e,r=UW.DEFAULT_RETRY_DELAY_BASE){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Hl.ConfiguredRetryStrategy=u_});var BC=c(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0})});var yt=c(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});var ai=(x(),w(N));ai.__exportStar(UC(),Ar);ai.__exportStar(jC(),Ar);ai.__exportStar(s_(),Ar);ai.__exportStar($l(),Ar);ai.__exportStar(Ul(),Ar);ai.__exportStar(uo(),Ar);ai.__exportStar(BC(),Ar)});import WW from"crypto";function ka(){return Gl>Kl.length-16&&(WW.randomFillSync(Kl),Gl=0),Kl.slice(Gl,Gl+=16)}var Kl,Gl,l_=be(()=>{Kl=new Uint8Array(256),Gl=Kl.length});var VC,$C=be(()=>{VC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function BW(t){return typeof t=="string"&&VC.test(t)}var un,Fa=be(()=>{$C();un=BW});function VW(t,e=0){let r=(Ae[t[e+0]]+Ae[t[e+1]]+Ae[t[e+2]]+Ae[t[e+3]]+"-"+Ae[t[e+4]]+Ae[t[e+5]]+"-"+Ae[t[e+6]]+Ae[t[e+7]]+"-"+Ae[t[e+8]]+Ae[t[e+9]]+"-"+Ae[t[e+10]]+Ae[t[e+11]]+Ae[t[e+12]]+Ae[t[e+13]]+Ae[t[e+14]]+Ae[t[e+15]]).toLowerCase();if(!un(r))throw TypeError("Stringified UUID is invalid");return r}var Ae,ln,La=be(()=>{Fa();Ae=[];for(let t=0;t<256;++t)Ae.push((t+256).toString(16).substr(1));ln=VW});function $W(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||zC,s=t.clockseq!==void 0?t.clockseq:p_;if(o==null||s==null){let m=t.random||(t.rng||ka)();o==null&&(o=zC=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),s==null&&(s=p_=(m[6]<<8|m[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:m_+1,l=a-f_+(u-m_)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>f_)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f_=a,m_=u,p_=s,a+=122192928e5;let p=((a&268435455)*1e4+u)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let m=0;m<6;++m)i[n+m]=o[m];return e||ln(i)}var zC,p_,f_,m_,HC,GC=be(()=>{l_();La();f_=0,m_=0;HC=$W});function zW(t){if(!un(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Ql,h_=be(()=>{Fa();Ql=zW});function HW(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Yl(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=HW(i)),typeof o=="string"&&(o=Ql(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return ln(u)}try{n.name=t}catch{}return n.DNS=GW,n.URL=KW,n}var GW,KW,y_=be(()=>{La();h_();GW="6ba7b810-9dad-11d1-80b4-00c04fd430c8",KW="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import QW from"crypto";function YW(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),QW.createHash("md5").update(t).digest()}var KC,QC=be(()=>{KC=YW});var JW,YC,JC=be(()=>{y_();QC();JW=Yl("v3",48,KC),YC=JW});function XW(t,e,r){t=t||{};let n=t.random||(t.rng||ka)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return ln(n)}var XC,ZC=be(()=>{l_();La();XC=XW});import ZW from"crypto";function eB(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),ZW.createHash("sha1").update(t).digest()}var eO,tO=be(()=>{eO=eB});var tB,rO,nO=be(()=>{y_();tO();tB=Yl("v5",80,eO),rO=tB});var iO,oO=be(()=>{iO="00000000-0000-0000-0000-000000000000"});function rB(t){if(!un(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var sO,aO=be(()=>{Fa();sO=rB});var __={};$m(__,{NIL:()=>iO,parse:()=>Ql,stringify:()=>ln,v1:()=>HC,v3:()=>YC,v4:()=>XC,v5:()=>rO,validate:()=>un,version:()=>sO});var g_=be(()=>{GC();JC();ZC();nO();oO();aO();Fa();La();h_()});var cO=c(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.getDefaultRetryQuota=void 0;var E_=yt(),nB=(t,e)=>{var r,n,i;let o=t,s=(r=e?.noRetryIncrement)!==null&&r!==void 0?r:E_.NO_RETRY_INCREMENT,a=(n=e?.retryCost)!==null&&n!==void 0?n:E_.RETRY_COST,u=(i=e?.timeoutRetryCost)!==null&&i!==void 0?i:E_.TIMEOUT_RETRY_COST,l=t,p=y=>y.name==="TimeoutError"?u:a,f=y=>p(y)<=l;return Object.freeze({hasRetryTokens:f,retrieveRetryTokens:y=>{if(!f(y))throw new Error("No retry token available");let E=p(y);return l-=E,E},releaseRetryTokens:y=>{l+=y??s,l=Math.min(l,o)}})};Jl.getDefaultRetryQuota=nB});var v_=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.defaultDelayDecider=void 0;var iB=yt(),oB=(t,e)=>Math.floor(Math.min(iB.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t));Xl.defaultDelayDecider=oB});var S_=c(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.defaultRetryDecider=void 0;var Zl=Ma(),sB=t=>t?(0,Zl.isRetryableByTrait)(t)||(0,Zl.isClockSkewError)(t)||(0,Zl.isThrottlingError)(t)||(0,Zl.isTransientError)(t):!1;ep.defaultRetryDecider=sB});var w_=c(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.asSdkError=void 0;var aB=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);tp.asSdkError=aB});var b_=c(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.StandardRetryStrategy=void 0;var N_=ve(),cB=Ma(),ci=yt(),dB=(g_(),w(__)),uB=cO(),lB=v_(),pB=S_(),fB=w_(),x_=class{constructor(e,r){var n,i,o;this.maxAttemptsProvider=e,this.mode=ci.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:pB.defaultRetryDecider,this.delayDecider=(i=r?.delayDecider)!==null&&i!==void 0?i:lB.defaultDelayDecider,this.retryQuota=(o=r?.retryQuota)!==null&&o!==void 0?o:(0,uB.getDefaultRetryQuota)(ci.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ci.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let i,o=0,s=0,a=await this.getMaxAttempts(),{request:u}=r;for(N_.HttpRequest.isInstance(u)&&(u.headers[ci.INVOCATION_ID_HEADER]=(0,dB.v4)());;)try{N_.HttpRequest.isInstance(u)&&(u.headers[ci.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await e(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(i),p.$metadata.attempts=o+1,p.$metadata.totalRetryDelay=s,{response:l,output:p}}catch(l){let p=(0,fB.asSdkError)(l);if(o++,this.shouldRetry(p,o,a)){i=this.retryQuota.retrieveRetryTokens(p);let f=this.delayDecider((0,cB.isThrottlingError)(p)?ci.THROTTLING_RETRY_DELAY_BASE:ci.DEFAULT_RETRY_DELAY_BASE,o),m=mB(p.$response),h=Math.max(m||0,f);s+=h,await new Promise(y=>setTimeout(y,h));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=s,p}}};rp.StandardRetryStrategy=x_;var mB=t=>{if(!N_.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var uO=c(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.AdaptiveRetryStrategy=void 0;var dO=yt(),hB=b_(),C_=class extends hB.StandardRetryStrategy{constructor(e,r){let{rateLimiter:n,...i}=r??{};super(e,i),this.rateLimiter=n??new dO.DefaultRateLimiter,this.mode=dO.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};np.AdaptiveRetryStrategy=C_});var pO=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.NODE_RETRY_MODE_CONFIG_OPTIONS=ue.CONFIG_RETRY_MODE=ue.ENV_RETRY_MODE=ue.resolveRetryConfig=ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=ue.CONFIG_MAX_ATTEMPTS=ue.ENV_MAX_ATTEMPTS=void 0;var lO=nn(),lo=yt();ue.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";ue.CONFIG_MAX_ATTEMPTS="max_attempts";ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:t=>{let e=t[ue.ENV_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${ue.ENV_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[ue.CONFIG_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ue.CONFIG_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},default:lo.DEFAULT_MAX_ATTEMPTS};var yB=t=>{var e;let{retryStrategy:r}=t,n=(0,lO.normalizeProvider)((e=t.maxAttempts)!==null&&e!==void 0?e:lo.DEFAULT_MAX_ATTEMPTS);return{...t,maxAttempts:n,retryStrategy:async()=>r||(await(0,lO.normalizeProvider)(t.retryMode)()===lo.RETRY_MODES.ADAPTIVE?new lo.AdaptiveRetryStrategy(n):new lo.StandardRetryStrategy(n))}};ue.resolveRetryConfig=yB;ue.ENV_RETRY_MODE="AWS_RETRY_MODE";ue.CONFIG_RETRY_MODE="retry_mode";ue.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ue.ENV_RETRY_MODE],configFileSelector:t=>t[ue.CONFIG_RETRY_MODE],default:lo.DEFAULT_RETRY_MODE}});var mO=c(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getOmitRetryHeadersPlugin=Xt.omitRetryHeadersMiddlewareOptions=Xt.omitRetryHeadersMiddleware=void 0;var _B=ve(),fO=yt(),gB=()=>t=>async e=>{let{request:r}=e;return _B.HttpRequest.isInstance(r)&&(delete r.headers[fO.INVOCATION_ID_HEADER],delete r.headers[fO.REQUEST_HEADER]),t(e)};Xt.omitRetryHeadersMiddleware=gB;Xt.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var EB=t=>({applyToStack:e=>{e.addRelativeTo((0,Xt.omitRetryHeadersMiddleware)(),Xt.omitRetryHeadersMiddlewareOptions)}});Xt.getOmitRetryHeadersPlugin=EB});var yO=c(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.getRetryAfterHint=it.getRetryPlugin=it.retryMiddlewareOptions=it.retryMiddleware=void 0;var A_=ve(),O_=Ma(),hO=yt(),vB=(g_(),w(__)),SB=w_(),wB=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),o=await t.maxAttempts();if(NB(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,l=0,{request:p}=n;for(A_.HttpRequest.isInstance(p)&&(p.headers[hO.INVOCATION_ID_HEADER]=(0,vB.v4)());;)try{A_.HttpRequest.isInstance(p)&&(p.headers[hO.REQUEST_HEADER]=`attempt=${u+1}; max=${o}`);let{response:f,output:m}=await e(n);return i.recordSuccess(s),m.$metadata.attempts=u+1,m.$metadata.totalRetryDelay=l,{response:f,output:m}}catch(f){let m=xB(f);a=(0,SB.asSdkError)(f);try{s=await i.refreshRetryTokenForRetry(s,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=l,a}u=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(y=>setTimeout(y,h))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)};it.retryMiddleware=wB;var NB=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",xB=t=>{let e={errorType:bB(t)},r=(0,it.getRetryAfterHint)(t.$response);return r&&(e.retryAfterHint=r),e},bB=t=>(0,O_.isThrottlingError)(t)?"THROTTLING":(0,O_.isTransientError)(t)?"TRANSIENT":(0,O_.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR";it.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var CB=t=>({applyToStack:e=>{e.add((0,it.retryMiddleware)(t),it.retryMiddlewareOptions)}});it.getRetryPlugin=CB;var OB=t=>{if(!A_.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};it.getRetryAfterHint=OB});var Pr=c(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});var di=(x(),w(N));di.__exportStar(uO(),Tr);di.__exportStar(b_(),Tr);di.__exportStar(pO(),Tr);di.__exportStar(v_(),Tr);di.__exportStar(mO(),Tr);di.__exportStar(S_(),Tr);di.__exportStar(yO(),Tr)});var _O=c(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.NoOpLogger=void 0;var T_=class{trace(){}debug(){}info(){}warn(){}error(){}};ip.NoOpLogger=T_});var vO=c(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.constructStack=void 0;var ui=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},pn=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,AB=()=>{let t=[],e=[],r=!1,n=new Set,i=f=>f.sort((m,h)=>gO[h.step]-gO[m.step]||EO[h.priority||"normal"]-EO[m.priority||"normal"]),o=f=>{let m=!1,h=y=>{let E=ui(y.name,y.aliases);if(E.includes(f)){m=!0;for(let v of E)n.delete(v);return!1}return!0};return t=t.filter(h),e=e.filter(h),m},s=f=>{let m=!1,h=y=>{if(y.middleware===f){m=!0;for(let E of ui(y.name,y.aliases))n.delete(E);return!1}return!0};return t=t.filter(h),e=e.filter(h),m},a=f=>{var m;return t.forEach(h=>{f.add(h.middleware,{...h})}),e.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),(m=f.identifyOnResolve)===null||m===void 0||m.call(f,p.identifyOnResolve()),f},u=f=>{let m=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...u(h))}),m.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...u(h))}),m},l=(f=!1)=>{let m=[],h=[],y={};return t.forEach(v=>{let T={...v,before:[],after:[]};for(let R of ui(T.name,T.aliases))y[R]=T;m.push(T)}),e.forEach(v=>{let T={...v,before:[],after:[]};for(let R of ui(T.name,T.aliases))y[R]=T;h.push(T)}),h.forEach(v=>{if(v.toMiddleware){let T=y[v.toMiddleware];if(T===void 0){if(f)return;throw new Error(`${v.toMiddleware} is not found when adding ${pn(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&T.after.push(v),v.relation==="before"&&T.before.push(v)}}),i(m).map(u).reduce((v,T)=>(v.push(...T),v),[])},p={add:(f,m={})=>{let{name:h,override:y,aliases:E}=m,v={step:"initialize",priority:"normal",middleware:f,...m},T=ui(h,E);if(T.length>0){if(T.some(R=>n.has(R))){if(!y)throw new Error(`Duplicate middleware name '${pn(h,E)}'`);for(let R of T){let Se=t.findIndex(Dn=>{var Le;return Dn.name===R||((Le=Dn.aliases)===null||Le===void 0?void 0:Le.some(It=>It===R))});if(Se===-1)continue;let Re=t[Se];if(Re.step!==v.step||v.priority!==Re.priority)throw new Error(`"${pn(Re.name,Re.aliases)}" middleware with ${Re.priority} priority in ${Re.step} step cannot be overridden by "${pn(h,E)}" middleware with ${v.priority} priority in ${v.step} step.`);t.splice(Se,1)}}for(let R of T)n.add(R)}t.push(v)},addRelativeTo:(f,m)=>{let{name:h,override:y,aliases:E}=m,v={middleware:f,...m},T=ui(h,E);if(T.length>0){if(T.some(R=>n.has(R))){if(!y)throw new Error(`Duplicate middleware name '${pn(h,E)}'`);for(let R of T){let Se=e.findIndex(Dn=>{var Le;return Dn.name===R||((Le=Dn.aliases)===null||Le===void 0?void 0:Le.some(It=>It===R))});if(Se===-1)continue;let Re=e[Se];if(Re.toMiddleware!==v.toMiddleware||Re.relation!==v.relation)throw new Error(`"${pn(Re.name,Re.aliases)}" middleware ${Re.relation} "${Re.toMiddleware}" middleware cannot be overridden by "${pn(h,E)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);e.splice(Se,1)}}for(let R of T)n.add(R)}e.push(v)},clone:()=>a((0,po.constructStack)()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let m=!1,h=y=>{let{tags:E,name:v,aliases:T}=y;if(E&&E.includes(f)){let R=ui(v,T);for(let Se of R)n.delete(Se);return m=!0,!1}return!0};return t=t.filter(h),e=e.filter(h),m},concat:f=>{var m,h;let y=a((0,po.constructStack)());return y.use(f),y.identifyOnResolve(r||y.identifyOnResolve()||((h=(m=f.identifyOnResolve)===null||m===void 0?void 0:m.call(f))!==null&&h!==void 0?h:!1)),y},applyToStack:a,identify:()=>l(!0).map(f=>{var m;let h=(m=f.step)!==null&&m!==void 0?m:f.relation+" "+f.toMiddleware;return pn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,m)=>{for(let h of l().map(y=>y.middleware).reverse())f=h(f,m);return r&&console.log(p.identify()),f}};return p};po.constructStack=AB;var gO={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},EO={high:3,normal:2,low:1}});var R_=c(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});var TB=(x(),w(N));TB.__exportStar(vO(),P_)});var SO=c(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.Client=void 0;var PB=R_(),I_=class{constructor(e){this.middlewareStack=(0,PB.constructStack)(),this.config=e}send(e,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return s(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};op.Client=I_});var wO=c(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.fromBase64=void 0;var RB=Gn(),IB=/^[A-Za-z0-9+/]*={0,2}$/,qB=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!IB.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,RB.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};sp.fromBase64=qB});var NO=c(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.toBase64=void 0;var DB=Gn(),MB=t=>(0,DB.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64");ap.toBase64=MB});var fo=c(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var xO=(x(),w(N));xO.__exportStar(wO(),cp);xO.__exportStar(NO(),cp)});var AO=c(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.transformFromString=mo.transformToString=void 0;var CO=fo(),OO=$t(),bO=q_();function kB(t,e="utf-8"){return e==="base64"?(0,CO.toBase64)(t):(0,OO.toUtf8)(t)}mo.transformToString=kB;function FB(t,e){return e==="base64"?bO.Uint8ArrayBlobAdapter.mutate((0,CO.fromBase64)(t)):bO.Uint8ArrayBlobAdapter.mutate((0,OO.fromUtf8)(t))}mo.transformFromString=FB});var q_=c(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.Uint8ArrayBlobAdapter=void 0;var TO=AO(),D_=class t extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return(0,TO.transformFromString)(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return(0,TO.transformToString)(this,e)}};dp.Uint8ArrayBlobAdapter=D_});var PO=c(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.getAwsChunkedEncodingStream=void 0;var LB=z("stream"),UB=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=e,a=r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,u=a?s(i,t):void 0,l=new LB.Readable({read:()=>{}});return t.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),t.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await u);l.push(`${o}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};up.getAwsChunkedEncodingStream=UB});var k_=c(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.buildQueryString=void 0;var M_=hy();function jB(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,M_.escapeUri)(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)e.push(`${r}=${(0,M_.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,M_.escapeUri)(n)}`),e.push(i)}}return e.join("&")}lp.buildQueryString=jB});var RO=c(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.NODEJS_TIMEOUT_ERROR_CODES=void 0;pp.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var F_=c(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.getTransformedHeaders=void 0;var WB=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};fp.getTransformedHeaders=WB});var IO=c(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.setConnectionTimeout=void 0;var BB=(t,e,r=0)=>{if(!r)return;let n=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);t.on("socket",i=>{i.connecting?i.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})};mp.setConnectionTimeout=BB});var qO=c(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.setSocketKeepAlive=void 0;var VB=(t,{keepAlive:e,keepAliveMsecs:r})=>{e===!0&&t.on("socket",n=>{n.setKeepAlive(e,r||0)})};hp.setSocketKeepAlive=VB});var DO=c(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.setSocketTimeout=void 0;var $B=(t,e,r=0)=>{t.setTimeout(r,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};yp.setSocketTimeout=$B});var L_=c(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.writeRequestBody=void 0;var zB=z("stream"),MO=1e3;async function HB(t,e,r=MO){var n;let i=(n=e.headers)!==null&&n!==void 0?n:{},o=i.Expect||i.expect,s=-1,a=!1;o==="100-continue"&&await Promise.race([new Promise(u=>{s=Number(setTimeout(u,Math.max(MO,r)))}),new Promise(u=>{t.on("continue",()=>{clearTimeout(s),u()}),t.on("error",()=>{a=!0,clearTimeout(s),u()})})]),a||GB(t,e.body)}_p.writeRequestBody=HB;function GB(t,e){e instanceof zB.Readable?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}});var LO=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.NodeHttpHandler=ho.DEFAULT_REQUEST_TIMEOUT=void 0;var KB=ve(),QB=k_(),kO=z("http"),FO=z("https"),YB=RO(),JB=F_(),XB=IO(),ZB=qO(),eV=DO(),tV=L_();ho.DEFAULT_REQUEST_TIMEOUT=0;var U_=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,httpAgent:o,httpsAgent:s}=e||{},a=!0,u=50;return{connectionTimeout:n,requestTimeout:r??i,httpAgent:o||new kO.Agent({keepAlive:a,maxSockets:u}),httpsAgent:s||new FO.Agent({keepAlive:a,maxSockets:u})}}destroy(){var e,r,n,i;(r=(e=this.config)===null||e===void 0?void 0:e.httpAgent)===null||r===void 0||r.destroy(),(i=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||i===void 0||i.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,i)=>{var o,s;let a,u=async R=>{await a,n(R)},l=async R=>{await a,i(R)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",l(R);return}let p=e.protocol==="https:",f=(0,QB.buildQueryString)(e.query||{}),m;if(e.username!=null||e.password!=null){let R=(o=e.username)!==null&&o!==void 0?o:"",Se=(s=e.password)!==null&&s!==void 0?s:"";m=`${R}:${Se}`}let h=e.path;f&&(h+=`?${f}`),e.fragment&&(h+=`#${e.fragment}`);let y={headers:e.headers,host:e.hostname,method:e.method,path:h,port:e.port,agent:p?this.config.httpsAgent:this.config.httpAgent,auth:m},v=(p?FO.request:kO.request)(y,R=>{let Se=new KB.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:(0,JB.getTransformedHeaders)(R.headers),body:R});u({response:Se})});v.on("error",R=>{YB.NODEJS_TIMEOUT_ERROR_CODES.includes(R.code)?l(Object.assign(R,{name:"TimeoutError"})):l(R)}),(0,XB.setConnectionTimeout)(v,l,this.config.connectionTimeout),(0,eV.setSocketTimeout)(v,l,this.config.requestTimeout),r&&(r.onabort=()=>{v.abort();let R=new Error("Request aborted");R.name="AbortError",l(R)});let T=y.agent;typeof T=="object"&&"keepAlive"in T&&(0,ZB.setSocketKeepAlive)(v,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs}),a=(0,tV.writeRequestBody)(v,e,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){var e;return(e=this.config)!==null&&e!==void 0?e:{}}};ho.NodeHttpHandler=U_});var UO=c(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.NodeHttp2ConnectionPool=void 0;var j_=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};gp.NodeHttp2ConnectionPool=j_});var jO=c(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.NodeHttp2ConnectionManager=void 0;var rV=(x(),w(N)),nV=rV.__importDefault(z("http2")),iV=UO(),W_=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(e,r){let n=this.getUrlString(e),i=this.sessionCache.get(n);if(i){let u=i.poll();if(u&&!this.config.disableConcurrency)return u}let o=nV.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new iV.NodeHttp2ConnectionPool;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){var n;let i=this.getUrlString(e);(n=this.sessionCache.get(i))===null||n===void 0||n.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}};Ep.NodeHttp2ConnectionManager=W_});var BO=c(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.NodeHttp2Handler=void 0;var oV=ve(),sV=k_(),WO=z("http2"),aV=F_(),cV=jO(),dV=L_(),B_=class{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new cV.NodeHttp2ConnectionManager({}),this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(i||{})}).catch(n):r(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((o,s)=>{var a,u,l;let p=!1,f,m=async pe=>{await f,o(pe)},h=async pe=>{await f,s(pe)};if(r?.aborted){p=!0;let pe=new Error("Request aborted");pe.name="AbortError",h(pe);return}let{hostname:y,method:E,port:v,protocol:T,query:R}=e,Se="";if(e.username!=null||e.password!=null){let pe=(a=e.username)!==null&&a!==void 0?a:"",ws=(u=e.password)!==null&&u!==void 0?u:"";Se=`${pe}:${ws}@`}let Re=`${T}//${Se}${y}${v?`:${v}`:""}`,Dn={destination:new URL(Re)},Le=this.connectionManager.lease(Dn,{requestTimeout:(l=this.config)===null||l===void 0?void 0:l.sessionTimeout,disableConcurrentStreams:i||!1}),It=pe=>{i&&this.destroySession(Le),p=!0,h(pe)},Pv=(0,sV.buildQueryString)(R||{}),Vm=e.path;Pv&&(Vm+=`?${Pv}`),e.fragment&&(Vm+=`#${e.fragment}`);let xt=Le.request({...e.headers,[WO.constants.HTTP2_HEADER_PATH]:Vm,[WO.constants.HTTP2_HEADER_METHOD]:E});Le.ref(),xt.on("response",pe=>{let ws=new oV.HttpResponse({statusCode:pe[":status"]||-1,headers:(0,aV.getTransformedHeaders)(pe),body:xt});p=!0,m({response:ws}),i&&(Le.close(),this.connectionManager.deleteSession(Re,Le))}),n&&xt.setTimeout(n,()=>{xt.close();let pe=new Error(`Stream timed out because of no activity for ${n} ms`);pe.name="TimeoutError",It(pe)}),r&&(r.onabort=()=>{xt.close();let pe=new Error("Request aborted");pe.name="AbortError",It(pe)}),xt.on("frameError",(pe,ws,Y1)=>{It(new Error(`Frame type id ${pe} in stream id ${Y1} has failed with code ${ws}.`))}),xt.on("error",It),xt.on("aborted",()=>{It(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${xt.rstCode}.`))}),xt.on("close",()=>{Le.unref(),i&&Le.destroy(),p||It(new Error("Unexpected error: http2 request did not get a response"))}),f=(0,dV.writeRequestBody)(xt,e,n)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){var e;return(e=this.config)!==null&&e!==void 0?e:{}}destroySession(e){e.destroyed||e.destroy()}};vp.NodeHttp2Handler=B_});var VO=c(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Collector=void 0;var uV=z("stream"),V_=class extends uV.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};Sp.Collector=V_});var $O=c(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.streamCollector=void 0;var lV=VO(),pV=t=>new Promise((e,r)=>{let n=new lV.Collector;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})});wp.streamCollector=pV});var yo=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});var $_=(x(),w(N));$_.__exportStar(LO(),Ua);$_.__exportStar(BO(),Ua);$_.__exportStar($O(),Ua)});var HO=c(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.sdkStreamMixin=void 0;var fV=yo(),mV=Gn(),z_=z("stream"),hV=z("util"),zO="The stream has already been transformed.",yV=t=>{var e,r;if(!(t instanceof z_.Readable)){let o=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,i=async()=>{if(n)throw new Error(zO);return n=!0,await(0,fV.streamCollector)(t)};return Object.assign(t,{transformToByteArray:i,transformToString:async o=>{let s=await i();return o===void 0||Buffer.isEncoding(o)?(0,mV.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(o):new hV.TextDecoder(o).decode(s)},transformToWebStream:()=>{if(n)throw new Error(zO);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof z_.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,z_.Readable.toWeb(t)}})};Np.sdkStreamMixin=yV});var GO=c(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var H_=(x(),w(N));H_.__exportStar(q_(),ja);H_.__exportStar(PO(),ja);H_.__exportStar(HO(),ja)});var KO=c(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.collectBody=void 0;var G_=GO(),_V=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return G_.Uint8ArrayBlobAdapter.mutate(t);if(!t)return G_.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return G_.Uint8ArrayBlobAdapter.mutate(await r)};xp.collectBody=_V});var QO=c(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.Command=void 0;var gV=R_(),K_=class{constructor(){this.middlewareStack=(0,gV.constructStack)()}};bp.Command=K_});var YO=c(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.SENSITIVE_STRING=void 0;Cp.SENSITIVE_STRING="***SensitiveInformation***"});var JO=c(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.createAggregatedClient=void 0;var EV=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],i=async function(s,a,u){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof u=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},u)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[o]=i}};Op.createAggregatedClient=EV});var Y_=c(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.logger=S.strictParseByte=S.strictParseShort=S.strictParseInt32=S.strictParseInt=S.strictParseLong=S.limitedParseFloat32=S.limitedParseFloat=S.handleFloat=S.limitedParseDouble=S.strictParseFloat32=S.strictParseFloat=S.strictParseDouble=S.expectUnion=S.expectString=S.expectObject=S.expectNonNull=S.expectByte=S.expectShort=S.expectInt32=S.expectInt=S.expectLong=S.expectFloat32=S.expectNumber=S.expectBoolean=S.parseBoolean=void 0;var vV=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};S.parseBoolean=vV;var SV=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&S.logger.warn(Ap(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&S.logger.warn(Ap(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}};S.expectBoolean=SV;var wV=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&S.logger.warn(Ap(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}};S.expectNumber=wV;var NV=Math.ceil(2**127*(2-2**-23)),xV=t=>{let e=(0,S.expectNumber)(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>NV)throw new TypeError(`Expected 32-bit float, got ${t}`);return e};S.expectFloat32=xV;var bV=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};S.expectLong=bV;S.expectInt=S.expectLong;var CV=t=>Q_(t,32);S.expectInt32=CV;var OV=t=>Q_(t,16);S.expectShort=OV;var AV=t=>Q_(t,8);S.expectByte=AV;var Q_=(t,e)=>{let r=(0,S.expectLong)(t);if(r!==void 0&&TV(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},TV=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},PV=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t};S.expectNonNull=PV;var RV=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)};S.expectObject=RV;var IV=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return S.logger.warn(Ap(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};S.expectString=IV;var qV=t=>{if(t==null)return;let e=(0,S.expectObject)(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e};S.expectUnion=qV;var DV=t=>typeof t=="string"?(0,S.expectNumber)(_o(t)):(0,S.expectNumber)(t);S.strictParseDouble=DV;S.strictParseFloat=S.strictParseDouble;var MV=t=>typeof t=="string"?(0,S.expectFloat32)(_o(t)):(0,S.expectFloat32)(t);S.strictParseFloat32=MV;var kV=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,_o=t=>{let e=t.match(kV);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},FV=t=>typeof t=="string"?XO(t):(0,S.expectNumber)(t);S.limitedParseDouble=FV;S.handleFloat=S.limitedParseDouble;S.limitedParseFloat=S.limitedParseDouble;var LV=t=>typeof t=="string"?XO(t):(0,S.expectFloat32)(t);S.limitedParseFloat32=LV;var XO=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},UV=t=>typeof t=="string"?(0,S.expectLong)(_o(t)):(0,S.expectLong)(t);S.strictParseLong=UV;S.strictParseInt=S.strictParseLong;var jV=t=>typeof t=="string"?(0,S.expectInt32)(_o(t)):(0,S.expectInt32)(t);S.strictParseInt32=jV;var WV=t=>typeof t=="string"?(0,S.expectShort)(_o(t)):(0,S.expectShort)(t);S.strictParseShort=WV;var BV=t=>typeof t=="string"?(0,S.expectByte)(_o(t)):(0,S.expectByte)(t);S.strictParseByte=BV;var Ap=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`);S.logger={warn:console.warn}});var ZO=c(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.parseEpochTimestamp=_t.parseRfc7231DateTime=_t.parseRfc3339DateTimeWithOffset=_t.parseRfc3339DateTime=_t.dateToUtcString=void 0;var fn=Y_(),VV=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $V(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,p=s<10?`0${s}`:`${s}`,f=a<10?`0${a}`:`${a}`;return`${VV[n]}, ${u} ${X_[r]} ${e} ${l}:${p}:${f} GMT`}_t.dateToUtcString=$V;var zV=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),HV=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=zV.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,u,l]=e,p=(0,fn.strictParseShort)(go(n)),f=Zt(i,"month",1,12),m=Zt(o,"day",1,31);return Wa(p,f,m,{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l})};_t.parseRfc3339DateTime=HV;var GV=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),KV=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=GV.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,u,l,p]=e,f=(0,fn.strictParseShort)(go(n)),m=Zt(i,"month",1,12),h=Zt(o,"day",1,31),y=Wa(f,m,h,{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&y.setTime(y.getTime()-a$(p)),y};_t.parseRfc3339DateTimeWithOffset=KV;var QV=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YV=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),JV=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),XV=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=QV.exec(t);if(e){let[r,n,i,o,s,a,u,l]=e;return Wa((0,fn.strictParseShort)(go(o)),J_(i),Zt(n,"day",1,31),{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l})}if(e=YV.exec(t),e){let[r,n,i,o,s,a,u,l]=e;return r$(Wa(e$(o),J_(i),Zt(n,"day",1,31),{hours:s,minutes:a,seconds:u,fractionalMilliseconds:l}))}if(e=JV.exec(t),e){let[r,n,i,o,s,a,u,l]=e;return Wa((0,fn.strictParseShort)(go(l)),J_(n),Zt(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")};_t.parseRfc7231DateTime=XV;var ZV=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=(0,fn.strictParseDouble)(t);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))};_t.parseEpochTimestamp=ZV;var Wa=(t,e,r,n)=>{let i=e-1;return i$(t,i,r),new Date(Date.UTC(t,i,r,Zt(n.hours,"hour",0,23),Zt(n.minutes,"minute",0,59),Zt(n.seconds,"seconds",0,60),s$(n.fractionalMilliseconds)))},e$=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+(0,fn.strictParseShort)(go(t));return r<e?r+100:r},t$=50*365*24*60*60*1e3,r$=t=>t.getTime()-new Date().getTime()>t$?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,J_=t=>{let e=X_.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},n$=[31,28,31,30,31,30,31,31,30,31,30,31],i$=(t,e,r)=>{let n=n$[e];if(e===1&&o$(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${X_[e]} in ${t}: ${r}`)},o$=t=>t%4===0&&(t%100!==0||t%400===0),Zt=(t,e,r,n)=>{let i=(0,fn.strictParseByte)(go(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},s$=t=>t==null?0:(0,fn.strictParseFloat32)("0."+t)*1e3,a$=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},go=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var eg=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.decorateServiceException=Eo.ServiceException=void 0;var Z_=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};Eo.ServiceException=Z_;var c$=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};Eo.decorateServiceException=c$});var eA=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.withBaseException=li.throwDefaultError=void 0;var d$=eg(),u$=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let i=p$(t),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:e?.code||e?.Code||n||o||"UnknownError",$fault:"client",$metadata:i});throw(0,d$.decorateServiceException)(s,e)};li.throwDefaultError=u$;var l$=t=>({output:e,parsedBody:r,errorCode:n})=>{(0,li.throwDefaultError)({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})};li.withBaseException=l$;var p$=t=>{var e,r;return{httpStatusCode:t.statusCode,requestId:(r=(e=t.headers["x-amzn-requestid"])!==null&&e!==void 0?e:t.headers["x-amzn-request-id"])!==null&&r!==void 0?r:t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}});var tA=c(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.loadConfigsForDefaultMode=void 0;var f$=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};Tp.loadConfigsForDefaultMode=f$});var nA=c(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.emitWarningIfUnsupportedVersion=void 0;var rA=!1,m$=t=>{t&&!rA&&parseInt(t.substring(1,t.indexOf(".")))<14&&(rA=!0)};Pp.emitWarningIfUnsupportedVersion=m$});var iA=c(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.resolveChecksumRuntimeConfig=mn.getChecksumConfiguration=mn.AlgorithmId=void 0;var tg=H();Object.defineProperty(mn,"AlgorithmId",{enumerable:!0,get:function(){return tg.AlgorithmId}});var h$=t=>{let e=[];for(let r in tg.AlgorithmId){let n=tg.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}};mn.getChecksumConfiguration=h$;var y$=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e};mn.resolveChecksumRuntimeConfig=y$});var oA=c(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.resolveRetryRuntimeConfig=vo.getRetryConfiguration=void 0;var _$=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}};vo.getRetryConfiguration=_$;var g$=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};vo.resolveRetryRuntimeConfig=g$});var cA=c(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.resolveDefaultRuntimeConfig=Rr.getDefaultClientConfiguration=Rr.getDefaultExtensionConfiguration=void 0;var sA=iA(),aA=oA(),E$=t=>({...(0,sA.getChecksumConfiguration)(t),...(0,aA.getRetryConfiguration)(t)});Rr.getDefaultExtensionConfiguration=E$;Rr.getDefaultClientConfiguration=Rr.getDefaultExtensionConfiguration;var v$=t=>({...(0,sA.resolveChecksumRuntimeConfig)(t),...(0,aA.resolveRetryRuntimeConfig)(t)});Rr.resolveDefaultRuntimeConfig=v$});var dA=c(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var S$=(x(),w(N));S$.__exportStar(cA(),rg)});var ng=c(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.extendedEncodeURIComponent=void 0;function w$(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}Rp.extendedEncodeURIComponent=w$});var uA=c(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.getArrayIfSingleItem=void 0;var N$=t=>Array.isArray(t)?t:[t];Ip.getArrayIfSingleItem=N$});var lA=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.getValueFromTextNode=void 0;var x$=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=(0,Ba.getValueFromTextNode)(t[r]));return t};Ba.getValueFromTextNode=x$});var pA=c(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.LazyJsonString=er.StringWrapper=void 0;var b$=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};er.StringWrapper=b$;er.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:er.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(er.StringWrapper,String);var ig=class t extends er.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof t?e:e instanceof String||typeof e=="string"?new t(e):new t(JSON.stringify(e))}};er.LazyJsonString=ig});var hA=c(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.take=hn.convertMap=hn.map=void 0;function fA(t,e,r){let n,i,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return i=e,o=r,A$(n,i,o);o=e}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){n[s]=o[s];continue}mA(n,null,o,s)}return n}hn.map=fA;var C$=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e};hn.convertMap=C$;var O$=(t,e)=>{let r={};for(let n in e)mA(r,t,e,n);return r};hn.take=O$;var A$=(t,e,r)=>fA(t,Object.entries(r).reduce((n,[i,o])=>(Array.isArray(o)?n[i]=o:typeof o=="function"?n[i]=[e,o()]:n[i]=[e,o],n),{})),mA=(t,e,r,n)=>{if(e!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=T$,u=P$,l=n]=s;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[n]=u(e[l]));return}let[i,o]=r[n];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=s:u&&(t[n]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(t[n]=o)}},T$=t=>t!=null,P$=t=>t});var _A=c(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.resolvedPath=void 0;var yA=ng(),R$=(t,e,r,n,i,o)=>{if(e!=null&&e[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,o?s.split("/").map(a=>(0,yA.extendedEncodeURIComponent)(a)).join("/"):(0,yA.extendedEncodeURIComponent)(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};qp.resolvedPath=R$});var gA=c(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.serializeFloat=void 0;var I$=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}};Dp.serializeFloat=I$});var EA=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va._json=void 0;var q$=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=(0,Va._json)(t[r]));return e}return t};Va._json=q$});var vA=c(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.splitEvery=void 0;function D$(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=e+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}Mp.splitEvery=D$});var A=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var le=(x(),w(N));le.__exportStar(_O(),te);le.__exportStar(SO(),te);le.__exportStar(KO(),te);le.__exportStar(QO(),te);le.__exportStar(YO(),te);le.__exportStar(JO(),te);le.__exportStar(ZO(),te);le.__exportStar(eA(),te);le.__exportStar(tA(),te);le.__exportStar(nA(),te);le.__exportStar(dA(),te);le.__exportStar(eg(),te);le.__exportStar(ng(),te);le.__exportStar(uA(),te);le.__exportStar(lA(),te);le.__exportStar(pA(),te);le.__exportStar(hA(),te);le.__exportStar(Y_(),te);le.__exportStar(_A(),te);le.__exportStar(gA(),te);le.__exportStar(EA(),te);le.__exportStar(vA(),te)});var SA=c(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.resolveClientEndpointParameters=void 0;var M$=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"rds-data"});kp.resolveClientEndpointParameters=M$});var wA=c((fhe,k$)=>{k$.exports={name:"@aws-sdk/client-rds-data",description:"AWS SDK for JavaScript Rds Data Client for Node.js, Browser and React Native",version:"3.454.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo rds-data"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.454.0","@aws-sdk/core":"3.451.0","@aws-sdk/credential-provider-node":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-signing":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-rds-data",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-rds-data"}}});var NA=c(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.resolveStsAuthConfig=void 0;var F$=wr(),L$=(t,{stsClientCtor:e})=>(0,F$.resolveAwsAuthConfig)({...t,stsClientCtor:e});Fp.resolveStsAuthConfig=L$});var xA=c(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.resolveClientEndpointParameters=void 0;var U$=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});Lp.resolveClientEndpointParameters=U$});var bA=c((yhe,j$)=>{j$.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.454.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.451.0","@aws-sdk/credential-provider-node":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-sdk-sts":"3.451.0","@aws-sdk/middleware-signing":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Up=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.STSServiceException=So.__ServiceException=void 0;var CA=A();Object.defineProperty(So,"__ServiceException",{enumerable:!0,get:function(){return CA.ServiceException}});var og=class t extends CA.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};So.STSServiceException=og});var _n=c(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.GetSessionTokenResponseFilterSensitiveLog=k.GetFederationTokenResponseFilterSensitiveLog=k.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=k.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=k.AssumeRoleWithSAMLResponseFilterSensitiveLog=k.AssumeRoleWithSAMLRequestFilterSensitiveLog=k.AssumeRoleResponseFilterSensitiveLog=k.CredentialsFilterSensitiveLog=k.InvalidAuthorizationMessageException=k.IDPCommunicationErrorException=k.InvalidIdentityTokenException=k.IDPRejectedClaimException=k.RegionDisabledException=k.PackedPolicyTooLargeException=k.MalformedPolicyDocumentException=k.ExpiredTokenException=void 0;var mg=A(),yn=Up(),sg=class t extends yn.STSServiceException{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.ExpiredTokenException=sg;var ag=class t extends yn.STSServiceException{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.MalformedPolicyDocumentException=ag;var cg=class t extends yn.STSServiceException{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.PackedPolicyTooLargeException=cg;var dg=class t extends yn.STSServiceException{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.RegionDisabledException=dg;var ug=class t extends yn.STSServiceException{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.IDPRejectedClaimException=ug;var lg=class t extends yn.STSServiceException{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.InvalidIdentityTokenException=lg;var pg=class t extends yn.STSServiceException{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.IDPCommunicationErrorException=pg;var fg=class t extends yn.STSServiceException{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};k.InvalidAuthorizationMessageException=fg;var W$=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:mg.SENSITIVE_STRING}});k.CredentialsFilterSensitiveLog=W$;var B$=t=>({...t,...t.Credentials&&{Credentials:(0,k.CredentialsFilterSensitiveLog)(t.Credentials)}});k.AssumeRoleResponseFilterSensitiveLog=B$;var V$=t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:mg.SENSITIVE_STRING}});k.AssumeRoleWithSAMLRequestFilterSensitiveLog=V$;var $$=t=>({...t,...t.Credentials&&{Credentials:(0,k.CredentialsFilterSensitiveLog)(t.Credentials)}});k.AssumeRoleWithSAMLResponseFilterSensitiveLog=$$;var z$=t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:mg.SENSITIVE_STRING}});k.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=z$;var H$=t=>({...t,...t.Credentials&&{Credentials:(0,k.CredentialsFilterSensitiveLog)(t.Credentials)}});k.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=H$;var G$=t=>({...t,...t.Credentials&&{Credentials:(0,k.CredentialsFilterSensitiveLog)(t.Credentials)}});k.GetFederationTokenResponseFilterSensitiveLog=G$;var K$=t=>({...t,...t.Credentials&&{Credentials:(0,k.CredentialsFilterSensitiveLog)(t.Credentials)}});k.GetSessionTokenResponseFilterSensitiveLog=K$});var jp=c(Ir=>{"use strict";var OA=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Q$=OA+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",AA="["+OA+"]["+Q$+"]*",Y$=new RegExp("^"+AA+"$"),J$=function(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=e.exec(t)}return r},X$=function(t){let e=Y$.exec(t);return!(e===null||typeof e>"u")};Ir.isExist=function(t){return typeof t<"u"};Ir.isEmptyObject=function(t){return Object.keys(t).length===0};Ir.merge=function(t,e,r){if(e){let n=Object.keys(e),i=n.length;for(let o=0;o<i;o++)r==="strict"?t[n[o]]=[e[n[o]]]:t[n[o]]=e[n[o]]}};Ir.getValue=function(t){return Ir.isExist(t)?t:""};Ir.isName=X$;Ir.getAllMatches=J$;Ir.nameRegexp=AA});var yg=c(qA=>{"use strict";var hg=jp(),Z$={allowBooleanAttributes:!1,unpairedTags:[]};qA.validate=function(t,e){e=Object.assign({},Z$,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=PA(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=RA(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let u="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)u+=t[o];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),o--),!a2(u)){let f;return u.trim().length===0?f="Invalid space after '<'.":f="Tag '"+u+"' is an invalid name.",ye("InvalidTag",f,Ye(t,o))}let l=r2(t,o);if(l===!1)return ye("InvalidAttr","Attributes for '"+u+"' have open quote.",Ye(t,o));let p=l.value;if(o=l.index,p[p.length-1]==="/"){let f=o-p.length;p=p.substring(0,p.length-1);let m=IA(p,e);if(m===!0)n=!0;else return ye(m.err.code,m.err.msg,Ye(t,f+m.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return ye("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",Ye(t,s));{let f=r.pop();if(u!==f.tagName){let m=Ye(t,f.tagStartPos);return ye("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+u+"'.",Ye(t,s))}r.length==0&&(i=!0)}}else return ye("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",Ye(t,o));else{let f=IA(p,e);if(f!==!0)return ye(f.err.code,f.err.msg,Ye(t,o-p.length+f.err.line));if(i===!0)return ye("InvalidXml","Multiple possible root nodes found.",Ye(t,o));e.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:s}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=RA(t,o);continue}else if(t[o+1]==="?"){if(o=PA(t,++o),o.err)return o}else break;else if(t[o]==="&"){let f=o2(t,o);if(f==-1)return ye("InvalidChar","char '&' is not expected.",Ye(t,o));o=f}else if(i===!0&&!TA(t[o]))return ye("InvalidXml","Extra text at the end",Ye(t,o));t[o]==="<"&&o--}}else{if(TA(t[o]))continue;return ye("InvalidChar","char '"+t[o]+"' is not expected.",Ye(t,o))}if(n){if(r.length==1)return ye("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ye(t,r[0].tagStartPos));if(r.length>0)return ye("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ye("InvalidXml","Start tag expected.",1);return!0};function TA(t){return t===" "||t==="	"||t===`
`||t==="\r"}function PA(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return ye("InvalidXml","XML declaration allowed only at the start of the document.",Ye(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function RA(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var e2='"',t2="'";function r2(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===e2||t[e]===t2)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}var n2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function IA(t,e){let r=hg.getAllMatches(t,n2),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return ye("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",$a(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return ye("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",$a(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return ye("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",$a(r[i]));let o=r[i][2];if(!s2(o))return ye("InvalidAttr","Attribute '"+o+"' is an invalid name.",$a(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return ye("InvalidAttr","Attribute '"+o+"' is repeated.",$a(r[i]))}return!0}function i2(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function o2(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,i2(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function ye(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function s2(t){return hg.isName(t)}function a2(t){return hg.isName(t)}function Ye(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function $a(t){return t.startIndex+t[1].length}});var MA=c(_g=>{var DA={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},c2=function(t){return Object.assign({},DA,t)};_g.buildOptions=c2;_g.defaultOptions=DA});var FA=c((whe,kA)=>{"use strict";var gg=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};kA.exports=gg});var UA=c((Nhe,LA)=>{var d2=jp();function u2(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&f2(t,e))e+=7,[entityName,val,e]=l2(t,e+1),val.indexOf("&")===-1&&(r[_2(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&m2(t,e))e+=8;else if(i&&h2(t,e))e+=8;else if(i&&y2(t,e))e+=9;else if(p2)o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function l2(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],i="";for(;e<t.length&&t[e]!==n;e++)i+=t[e];return[r,i,e]}function p2(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function f2(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function m2(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function h2(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function y2(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function _2(t){if(d2.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}LA.exports=u2});var WA=c((xhe,jA)=>{var g2=/^[-+]?0x[a-fA-F0-9]+$/,E2=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var v2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function S2(t,e={}){if(e=Object.assign({},v2,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&g2.test(r))return Number.parseInt(r,16);{let n=E2.exec(r);if(n){let i=n[1],o=n[2],s=w2(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&o.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!i&&r[1]!==".")return t;{let u=Number(r),l=""+u;return l.search(/[eE]/)!==-1||a?e.eNotation?u:t:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||i&&l==="-"+s?u:t:o?s===l||i+s===l?u:t:r===l||r===i+l?u:t}}else return t}}function w2(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}jA.exports=S2});var VA=c((Che,BA)=>{"use strict";var wg=jp(),za=FA(),N2=UA(),x2=WA(),bhe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,wg.nameRegexp),Eg=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=b2,this.parseXml=P2,this.parseTextData=C2,this.resolveNameSpace=O2,this.buildAttributesMap=T2,this.isItStopNode=D2,this.replaceEntitiesValue=I2,this.readStopNodeData=k2,this.saveTextToParentTag=q2,this.addChild=R2}};function b2(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function C2(t,e,r,n,i,o,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Sg(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Sg(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function O2(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var A2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function T2(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=wg.getAllMatches(t,A2),i=n.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(n[s][1]),u=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);let p=this.options.attributeValueProcessor(a,u,e);p==null?o[l]=u:typeof p!=typeof u||p!==u?o[l]=p:o[l]=Sg(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var P2=function(t){t=t.replace(/\r\n?/g,`
`);let e=new za("!xml"),r=e,n="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=pi(t,">",o,"Closing Tag is not closed."),u=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let f=u.indexOf(":");f!==-1&&(u=u.substr(f+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=i.lastIndexOf("."),i=i.substring(0,p),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=vg(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let u=new za(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=pi(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let u=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=N2(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=pi(t,"]]>",o,"CDATA is not closed.")-2,u=t.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let l=this.parseTextData(u,r.tagname,i,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}o=a+2}else{let a=vg(t,o,this.options.removeNSPrefix),u=a.tagName,l=a.tagExp,p=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==e.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let h="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)o=a.closeIndex;else{let E=this.readStopNodeData(t,u,f+1);if(!E)throw new Error(`Unexpected end of ${u}`);o=E.i,h=E.tagContent}let y=new za(u);u!==l&&p&&(y[":@"]=this.buildAttributesMap(l,i,u)),h&&(h=this.parseTextData(h,u,i,!0,p,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,h),this.addChild(r,y,i)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),l=u):l=l.substr(0,l.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));let h=new za(u);u!==l&&p&&(h[":@"]=this.buildAttributesMap(l,i,u)),this.addChild(r,h,i),i=i.substr(0,i.lastIndexOf("."))}else{let h=new za(u);this.tagsNodeStack.push(r),u!==l&&p&&(h[":@"]=this.buildAttributesMap(l,i,u)),this.addChild(r,h,i),r=h}n="",o=f}}else n+=t[o];return e.child};function R2(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var I2=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function q2(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function D2(t,e,r){let n="*."+r;for(let i in t){let o=t[i];if(n===o||e===o)return!0}return!1}function M2(t,e,r=">"){let n,i="";for(let o=e;o<t.length;o++){let s=t[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function pi(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function vg(t,e,r,n=">"){let i=M2(t,e+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),u=o,l=!0;if(a!==-1&&(u=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let p=u.indexOf(":");p!==-1&&(u=u.substr(p+1),l=u!==i.data.substr(p+1))}return{tagName:u,tagExp:o,closeIndex:s,attrExpPresent:l}}function k2(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=pi(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=pi(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=pi(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=pi(t,"]]>",r,"StopNode is not closed.")-2;else{let o=vg(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function Sg(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:x2(t,r)}else return wg.isExist(t)?t:""}BA.exports=Eg});var HA=c(zA=>{"use strict";function F2(t,e){return $A(t,e)}function $A(t,e,r){let n,i={};for(let o=0;o<t.length;o++){let s=t[o],a=L2(s),u="";if(r===void 0?u=a:u=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=$A(s[a],e,u),p=j2(l,e);s[":@"]?U2(l,s[":@"],u,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,u,p)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function L2(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function U2(t,e,r,n){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function j2(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}zA.prettify=F2});var KA=c((Ahe,GA)=>{var{buildOptions:W2}=MA(),B2=VA(),{prettify:V2}=HA(),$2=yg(),Ng=class{constructor(e){this.externalEntities={},this.options=W2(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=$2.validate(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new B2(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:V2(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};GA.exports=Ng});var ZA=c((The,XA)=>{var z2=`
`;function H2(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=z2),YA(t,e,"",r)}function YA(t,e,r,n){let i="",o=!1;for(let s=0;s<t.length;s++){let a=t[s],u=G2(a),l="";if(r.length===0?l=u:l=`${r}.${u}`,u===e.textNodeName){let y=a[u];K2(l,e)||(y=e.tagValueProcessor(u,y),y=JA(y,e)),o&&(i+=n),i+=y,o=!1;continue}else if(u===e.cdataPropName){o&&(i+=n),i+=`<![CDATA[${a[u][0][e.textNodeName]}]]>`,o=!1;continue}else if(u===e.commentPropName){i+=n+`<!--${a[u][0][e.textNodeName]}-->`,o=!0;continue}else if(u[0]==="?"){let y=QA(a[":@"],e),E=u==="?xml"?"":n,v=a[u][0][e.textNodeName];v=v.length!==0?" "+v:"",i+=E+`<${u}${v}${y}?>`,o=!0;continue}let p=n;p!==""&&(p+=e.indentBy);let f=QA(a[":@"],e),m=n+`<${u}${f}`,h=YA(a[u],e,l,p);e.unpairedTags.indexOf(u)!==-1?e.suppressUnpairedNode?i+=m+">":i+=m+"/>":(!h||h.length===0)&&e.suppressEmptyNode?i+=m+"/>":h&&h.endsWith(">")?i+=m+`>${h}${n}</${u}>`:(i+=m+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?i+=n+e.indentBy+h+n:i+=h,i+=`</${u}>`),o=!0}return i}function G2(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function QA(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let i=e.attributeValueProcessor(n,t[n]);i=JA(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function K2(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function JA(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}XA.exports=H2});var tT=c((Phe,eT)=>{"use strict";var Q2=ZA(),Y2={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function gn(t){this.options=Object.assign({},Y2,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Z2),this.processTextOrObjNode=J2,this.options.format?(this.indentate=X2,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}gn.prototype.build=function(t){return this.options.preserveOrder?Q2(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};gn.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(!(typeof t[i]>"u"))if(t[i]===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let o=this.isAttribute(i);if(o)r+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let o=t[i].length,s="";for(let a=0;a<o;a++){let u=t[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?s+=this.j2x(u,e+1).val:s+=this.processTextOrObjNode(u,i,e):s+=this.buildTextValNode(u,i,"",e))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",e)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(t[i]),s=o.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(o[a],""+t[i][o[a]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};gn.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function J2(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}gn.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",i=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+o+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+o+this.tagEndChar+t+this.indentate(n)+i}};gn.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};gn.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}};gn.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function X2(t){return this.options.indentBy.repeat(t)}function Z2(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}eT.exports=gn});var nT=c((Rhe,rT)=>{"use strict";var ez=yg(),tz=KA(),rz=tT();rT.exports={XMLParser:tz,XMLValidator:ez,XMLBuilder:rz}});var Dr=c(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.de_GetSessionTokenCommand=j.de_GetFederationTokenCommand=j.de_GetCallerIdentityCommand=j.de_GetAccessKeyInfoCommand=j.de_DecodeAuthorizationMessageCommand=j.de_AssumeRoleWithWebIdentityCommand=j.de_AssumeRoleWithSAMLCommand=j.de_AssumeRoleCommand=j.se_GetSessionTokenCommand=j.se_GetFederationTokenCommand=j.se_GetCallerIdentityCommand=j.se_GetAccessKeyInfoCommand=j.se_DecodeAuthorizationMessageCommand=j.se_AssumeRoleWithWebIdentityCommand=j.se_AssumeRoleWithSAMLCommand=j.se_AssumeRoleCommand=void 0;var nz=ve(),P=A(),iz=nT(),En=_n(),oz=Up(),sz=async(t,e)=>{let r=wn,n;return n=xn({...Iz(t,e),Action:"AssumeRole",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_AssumeRoleCommand=sz;var az=async(t,e)=>{let r=wn,n;return n=xn({...qz(t,e),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_AssumeRoleWithSAMLCommand=az;var cz=async(t,e)=>{let r=wn,n;return n=xn({...Dz(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_AssumeRoleWithWebIdentityCommand=cz;var dz=async(t,e)=>{let r=wn,n;return n=xn({...Mz(t,e),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_DecodeAuthorizationMessageCommand=dz;var uz=async(t,e)=>{let r=wn,n;return n=xn({...kz(t,e),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_GetAccessKeyInfoCommand=uz;var lz=async(t,e)=>{let r=wn,n;return n=xn({...Fz(t,e),Action:"GetCallerIdentity",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_GetCallerIdentityCommand=lz;var pz=async(t,e)=>{let r=wn,n;return n=xn({...Lz(t,e),Action:"GetFederationToken",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_GetFederationTokenCommand=pz;var fz=async(t,e)=>{let r=wn,n;return n=xn({...Uz(t,e),Action:"GetSessionToken",Version:"2011-06-15"}),Sn(e,r,"/",void 0,n)};j.se_GetSessionTokenCommand=fz;var mz=async(t,e)=>{if(t.statusCode>=300)return hz(t,e);let r=await qr(t.body,e),n={};return n=zz(r.AssumeRoleResult,e),{$metadata:Me(t),...n}};j.de_AssumeRoleCommand=mz;var hz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await xg(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Wp(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bp(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ha(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},yz=async(t,e)=>{if(t.statusCode>=300)return _z(t,e);let r=await qr(t.body,e),n={};return n=Hz(r.AssumeRoleWithSAMLResult,e),{$metadata:Me(t),...n}};j.de_AssumeRoleWithSAMLCommand=yz;var _z=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await xg(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await iT(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await oT(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Wp(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bp(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ha(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},gz=async(t,e)=>{if(t.statusCode>=300)return Ez(t,e);let r=await qr(t.body,e),n={};return n=Gz(r.AssumeRoleWithWebIdentityResult,e),{$metadata:Me(t),...n}};j.de_AssumeRoleWithWebIdentityCommand=gz;var Ez=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await xg(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Pz(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await iT(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await oT(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Wp(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bp(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ha(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},vz=async(t,e)=>{if(t.statusCode>=300)return Sz(t,e);let r=await qr(t.body,e),n={};return n=Kz(r.DecodeAuthorizationMessageResult,e),{$metadata:Me(t),...n}};j.de_DecodeAuthorizationMessageCommand=vz;var Sz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await Rz(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},wz=async(t,e)=>{if(t.statusCode>=300)return Nz(t,e);let r=await qr(t.body,e),n={};return n=Jz(r.GetAccessKeyInfoResult,e),{$metadata:Me(t),...n}};j.de_GetAccessKeyInfoCommand=wz;var Nz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body),i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})},xz=async(t,e)=>{if(t.statusCode>=300)return bz(t,e);let r=await qr(t.body,e),n={};return n=Xz(r.GetCallerIdentityResult,e),{$metadata:Me(t),...n}};j.de_GetCallerIdentityCommand=xz;var bz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body),i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})},Cz=async(t,e)=>{if(t.statusCode>=300)return Oz(t,e);let r=await qr(t.body,e),n={};return n=Zz(r.GetFederationTokenResult,e),{$metadata:Me(t),...n}};j.de_GetFederationTokenCommand=Cz;var Oz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Wp(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bp(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ha(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},Az=async(t,e)=>{if(t.statusCode>=300)return Tz(t,e);let r=await qr(t.body,e),n={};return n=eH(r.GetSessionTokenResult,e),{$metadata:Me(t),...n}};j.de_GetSessionTokenCommand=Az;var Tz=async(t,e)=>{let r={...t,body:await Nn(t.body,e)},n=bn(t,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ha(r,e);default:let i=r.body;return vn({output:t,parsedBody:i.Error,errorCode:n})}},xg=async(t,e)=>{let r=t.body,n=Qz(r.Error,e),i=new En.ExpiredTokenException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Pz=async(t,e)=>{let r=t.body,n=tH(r.Error,e),i=new En.IDPCommunicationErrorException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},iT=async(t,e)=>{let r=t.body,n=rH(r.Error,e),i=new En.IDPRejectedClaimException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Rz=async(t,e)=>{let r=t.body,n=nH(r.Error,e),i=new En.InvalidAuthorizationMessageException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},oT=async(t,e)=>{let r=t.body,n=iH(r.Error,e),i=new En.InvalidIdentityTokenException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Wp=async(t,e)=>{let r=t.body,n=oH(r.Error,e),i=new En.MalformedPolicyDocumentException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Bp=async(t,e)=>{let r=t.body,n=sH(r.Error,e),i=new En.PackedPolicyTooLargeException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Ha=async(t,e)=>{let r=t.body,n=aH(r.Error,e),i=new En.RegionDisabledException({$metadata:Me(t),...n});return(0,P.decorateServiceException)(i,r)},Iz=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let n=Vp(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=sT(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}if(t.TransitiveTagKeys!=null){let n=$z(t.TransitiveTagKeys,e);t.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([i,o])=>{let s=`TransitiveTagKeys.${i}`;r[s]=o})}if(t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),t.ProvidedContexts!=null){let n=Bz(t.ProvidedContexts,e);t.ProvidedContexts?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([i,o])=>{let s=`ProvidedContexts.${i}`;r[s]=o})}return r},qz=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.PrincipalArn!=null&&(r.PrincipalArn=t.PrincipalArn),t.SAMLAssertion!=null&&(r.SAMLAssertion=t.SAMLAssertion),t.PolicyArns!=null){let n=Vp(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},Dz=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let n=Vp(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},Mz=(t,e)=>{let r={};return t.EncodedMessage!=null&&(r.EncodedMessage=t.EncodedMessage),r},kz=(t,e)=>{let r={};return t.AccessKeyId!=null&&(r.AccessKeyId=t.AccessKeyId),r},Fz=(t,e)=>({}),Lz=(t,e)=>{let r={};if(t.Name!=null&&(r.Name=t.Name),t.Policy!=null&&(r.Policy=t.Policy),t.PolicyArns!=null){let n=Vp(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}if(t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=sT(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}return r},Uz=(t,e)=>{let r={};return t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),r},Vp=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=jz(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},jz=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},Wz=(t,e)=>{let r={};return t.ProviderArn!=null&&(r.ProviderArn=t.ProviderArn),t.ContextAssertion!=null&&(r.ContextAssertion=t.ContextAssertion),r},Bz=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=Wz(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},Vz=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},$z=(t,e)=>{let r={},n=1;for(let i of t)i!==null&&(r[`member.${n}`]=i,n++);return r},sT=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=Vz(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},bg=(t,e)=>{let r={};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,P.expectString)(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},zz=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Ga(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=bg(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},Hz=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Ga(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=bg(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.Subject!==void 0&&(r.Subject=(0,P.expectString)(t.Subject)),t.SubjectType!==void 0&&(r.SubjectType=(0,P.expectString)(t.SubjectType)),t.Issuer!==void 0&&(r.Issuer=(0,P.expectString)(t.Issuer)),t.Audience!==void 0&&(r.Audience=(0,P.expectString)(t.Audience)),t.NameQualifier!==void 0&&(r.NameQualifier=(0,P.expectString)(t.NameQualifier)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},Gz=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Ga(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,P.expectString)(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=bg(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=(0,P.expectString)(t.Provider)),t.Audience!==void 0&&(r.Audience=(0,P.expectString)(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},Ga=(t,e)=>{let r={};return t.AccessKeyId!==void 0&&(r.AccessKeyId=(0,P.expectString)(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,P.expectString)(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=(0,P.expectString)(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(t.Expiration))),r},Kz=(t,e)=>{let r={};return t.DecodedMessage!==void 0&&(r.DecodedMessage=(0,P.expectString)(t.DecodedMessage)),r},Qz=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},Yz=(t,e)=>{let r={};return t.FederatedUserId!==void 0&&(r.FederatedUserId=(0,P.expectString)(t.FederatedUserId)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},Jz=(t,e)=>{let r={};return t.Account!==void 0&&(r.Account=(0,P.expectString)(t.Account)),r},Xz=(t,e)=>{let r={};return t.UserId!==void 0&&(r.UserId=(0,P.expectString)(t.UserId)),t.Account!==void 0&&(r.Account=(0,P.expectString)(t.Account)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},Zz=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Ga(t.Credentials,e)),t.FederatedUser!==void 0&&(r.FederatedUser=Yz(t.FederatedUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),r},eH=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Ga(t.Credentials,e)),r},tH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},rH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},nH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},iH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},oH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},sH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},aH=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},Me=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),cH=(t,e)=>(0,P.collectBody)(t,e).then(r=>e.utf8Encoder(r)),vn=(0,P.withBaseException)(oz.STSServiceException),Sn=async(t,e,r,n,i)=>{let{hostname:o,protocol:s="https",port:a,path:u}=await t.endpoint(),l={protocol:s,hostname:o,port:a,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+r:u+r,headers:e};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new nz.HttpRequest(l)},wn={"content-type":"application/x-www-form-urlencoded"},qr=(t,e)=>cH(t,e).then(r=>{if(r.length){let n=new iz.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i=n.parse(r),o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),(0,P.getValueFromTextNode)(a)}return{}}),Nn=async(t,e)=>{let r=await qr(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},xn=t=>Object.entries(t).map(([e,r])=>(0,P.extendedEncodeURIComponent)(e)+"="+(0,P.extendedEncodeURIComponent)(r)).join("&"),bn=(t,e)=>{if(e.Error?.Code!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"}});var $p=c(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.AssumeRoleCommand=wo.$Command=void 0;var dH=wr(),uH=Q(),lH=se(),cT=A();Object.defineProperty(wo,"$Command",{enumerable:!0,get:function(){return cT.Command}});var pH=H(),fH=_n(),aT=Dr(),Cg=class t extends cT.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,lH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,uH.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,dH.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:fH.AssumeRoleResponseFilterSensitiveLog,[pH.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,aT.se_AssumeRoleCommand)(e,r)}deserialize(e,r){return(0,aT.de_AssumeRoleCommand)(e,r)}};wo.AssumeRoleCommand=Cg});var zp=c(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.AssumeRoleWithWebIdentityCommand=No.$Command=void 0;var mH=Q(),hH=se(),lT=A();Object.defineProperty(No,"$Command",{enumerable:!0,get:function(){return lT.Command}});var yH=H(),dT=_n(),uT=Dr(),Og=class t extends lT.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,hH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,mH.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:dT.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:dT.AssumeRoleWithWebIdentityResponseFilterSensitiveLog,[yH.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,uT.se_AssumeRoleWithWebIdentityCommand)(e,r)}deserialize(e,r){return(0,uT.de_AssumeRoleWithWebIdentityCommand)(e,r)}};No.AssumeRoleWithWebIdentityCommand=Og});var Ag=c(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.decorateDefaultCredentialProvider=tr.getDefaultRoleAssumerWithWebIdentity=tr.getDefaultRoleAssumer=void 0;var _H=$p(),gH=zp(),pT="us-east-1",fT=t=>typeof t!="function"?t===void 0?pT:t:async()=>{try{return await t()}catch{return pT}},EH=(t,e)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:a,region:u,requestHandler:l}=t;r=new e({logger:a,credentialDefaultProvider:()=>async()=>n,region:fT(u||t.region),...l?{requestHandler:l}:{}})}let{Credentials:s}=await r.send(new _H.AssumeRoleCommand(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};tr.getDefaultRoleAssumer=EH;var vH=(t,e)=>{let r;return async n=>{if(!r){let{logger:o,region:s,requestHandler:a}=t;r=new e({logger:o,region:fT(s||t.region),...a?{requestHandler:a}:{}})}let{Credentials:i}=await r.send(new gH.AssumeRoleWithWebIdentityCommand(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};tr.getDefaultRoleAssumerWithWebIdentity=vH;var SH=t=>e=>t({roleAssumer:(0,tr.getDefaultRoleAssumer)(e,e.stsClientCtor),roleAssumerWithWebIdentity:(0,tr.getDefaultRoleAssumerWithWebIdentity)(e,e.stsClientCtor),...e});tr.decorateDefaultCredentialProvider=SH});var hT=c(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.emitWarningIfUnsupportedVersion=void 0;var mT=!1,wH=t=>{t&&!mT&&parseInt(t.substring(1,t.indexOf(".")))<16&&(mT=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};Hp.emitWarningIfUnsupportedVersion=wH});var yT=c(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var NH=(x(),w(N));NH.__exportStar(hT(),Tg)});var _T=c(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn._toNum=Cn._toBool=Cn._toStr=void 0;var xH=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t};Cn._toStr=xH;var bH=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t};Cn._toBool=bH;var CH=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t};Cn._toNum=CH});var gT=c(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.awsExpectUnion=void 0;var OH=A(),AH=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,OH.expectUnion)(t)};Gp.awsExpectUnion=AH});var vT=c(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var ET=(x(),w(N));ET.__exportStar(_T(),Kp);ET.__exportStar(gT(),Kp)});var Ka=c(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var ST=(x(),w(N));ST.__exportStar(yT(),Qp);ST.__exportStar(vT(),Qp)});var wT=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.fromEnv=ke.ENV_EXPIRATION=ke.ENV_SESSION=ke.ENV_SECRET=ke.ENV_KEY=void 0;var TH=G();ke.ENV_KEY="AWS_ACCESS_KEY_ID";ke.ENV_SECRET="AWS_SECRET_ACCESS_KEY";ke.ENV_SESSION="AWS_SESSION_TOKEN";ke.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var PH=()=>async()=>{let t=process.env[ke.ENV_KEY],e=process.env[ke.ENV_SECRET],r=process.env[ke.ENV_SESSION],n=process.env[ke.ENV_EXPIRATION];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new TH.CredentialsProviderError("Unable to find environment variable credentials.")};ke.fromEnv=PH});var Rg=c(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var RH=(x(),w(N));RH.__exportStar(wT(),Pg)});var Jp=c(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.httpRequest=void 0;var Ig=G(),IH=z("buffer"),qH=z("http");function DH(t){return new Promise((e,r)=>{var n;let i=(0,qH.request)({method:"GET",...t,hostname:(n=t.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",o=>{r(Object.assign(new Ig.ProviderError("Unable to connect to instance metadata service"),o)),i.destroy()}),i.on("timeout",()=>{r(new Ig.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Ig.ProviderError("Error response received from instance metadata service"),{statusCode:s})),i.destroy());let a=[];o.on("data",u=>{a.push(u)}),o.on("end",()=>{e(IH.Buffer.concat(a)),i.destroy()})}),i.end()})}Yp.httpRequest=DH});var qg=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.fromImdsCredentials=xo.isImdsCredentials=void 0;var MH=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string";xo.isImdsCredentials=MH;var kH=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});xo.fromImdsCredentials=kH});var Xp=c(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.providerConfigFromInit=rr.DEFAULT_MAX_RETRIES=rr.DEFAULT_TIMEOUT=void 0;rr.DEFAULT_TIMEOUT=1e3;rr.DEFAULT_MAX_RETRIES=0;var FH=({maxRetries:t=rr.DEFAULT_MAX_RETRIES,timeout:e=rr.DEFAULT_TIMEOUT})=>({maxRetries:t,timeout:e});rr.providerConfigFromInit=FH});var Dg=c(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.retry=void 0;var LH=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};Zp.retry=LH});var xT=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.fromContainerMetadata=Ne.ENV_CMDS_AUTH_TOKEN=Ne.ENV_CMDS_RELATIVE_URI=Ne.ENV_CMDS_FULL_URI=void 0;var ef=G(),UH=z("url"),jH=Jp(),NT=qg(),WH=Xp(),BH=Dg();Ne.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";Ne.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";Ne.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var VH=(t={})=>{let{timeout:e,maxRetries:r}=(0,WH.providerConfigFromInit)(t);return()=>(0,BH.retry)(async()=>{let n=await KH(),i=JSON.parse(await $H(e,n));if(!(0,NT.isImdsCredentials)(i))throw new ef.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,NT.fromImdsCredentials)(i)},r)};Ne.fromContainerMetadata=VH;var $H=async(t,e)=>(process.env[Ne.ENV_CMDS_AUTH_TOKEN]&&(e.headers={...e.headers,Authorization:process.env[Ne.ENV_CMDS_AUTH_TOKEN]}),(await(0,jH.httpRequest)({...e,timeout:t})).toString()),zH="169.254.170.2",HH={localhost:!0,"127.0.0.1":!0},GH={"http:":!0,"https:":!0},KH=async()=>{if(process.env[Ne.ENV_CMDS_RELATIVE_URI])return{hostname:zH,path:process.env[Ne.ENV_CMDS_RELATIVE_URI]};if(process.env[Ne.ENV_CMDS_FULL_URI]){let t=(0,UH.parse)(process.env[Ne.ENV_CMDS_FULL_URI]);if(!t.hostname||!(t.hostname in HH))throw new ef.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in GH))throw new ef.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ef.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Ne.ENV_CMDS_RELATIVE_URI} or ${Ne.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var bT=c(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.InstanceMetadataV1FallbackError=void 0;var QH=G(),Mg=class t extends QH.CredentialsProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,t.prototype)}};tf.InstanceMetadataV1FallbackError=Mg});var CT=c(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.Endpoint=void 0;var YH;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(YH=Qa.Endpoint||(Qa.Endpoint={}))});var OT=c(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.ENDPOINT_CONFIG_OPTIONS=nr.CONFIG_ENDPOINT_NAME=nr.ENV_ENDPOINT_NAME=void 0;nr.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";nr.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";nr.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>t[nr.ENV_ENDPOINT_NAME],configFileSelector:t=>t[nr.CONFIG_ENDPOINT_NAME],default:void 0}});var kg=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.EndpointMode=void 0;var JH;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(JH=Ya.EndpointMode||(Ya.EndpointMode={}))});var AT=c(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ENDPOINT_MODE_CONFIG_OPTIONS=ir.CONFIG_ENDPOINT_MODE_NAME=ir.ENV_ENDPOINT_MODE_NAME=void 0;var XH=kg();ir.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";ir.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";ir.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ir.ENV_ENDPOINT_MODE_NAME],configFileSelector:t=>t[ir.CONFIG_ENDPOINT_MODE_NAME],default:XH.EndpointMode.IPv4}});var Lg=c(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getInstanceMetadataEndpoint=void 0;var PT=Yt(),ZH=ni(),TT=CT(),e3=OT(),Fg=kg(),t3=AT(),r3=async()=>(0,ZH.parseUrl)(await n3()||await i3());rf.getInstanceMetadataEndpoint=r3;var n3=async()=>(0,PT.loadConfig)(e3.ENDPOINT_CONFIG_OPTIONS)(),i3=async()=>{let t=await(0,PT.loadConfig)(t3.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(t){case Fg.EndpointMode.IPv4:return TT.Endpoint.IPv4;case Fg.EndpointMode.IPv6:return TT.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(Fg.EndpointMode)}`)}}});var RT=c(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.getExtendedInstanceMetadataCredentials=void 0;var o3=5*60,s3=5*60,a3="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",c3=(t,e)=>{var r;let n=o3+Math.floor(Math.random()*s3),i=new Date(Date.now()+n*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+a3);let o=(r=t.originalExpiration)!==null&&r!==void 0?r:t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:i}};nf.getExtendedInstanceMetadataCredentials=c3});var qT=c(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.staticStabilityProvider=void 0;var IT=RT(),d3=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=(0,IT.getExtendedInstanceMetadataCredentials)(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=(0,IT.getExtendedInstanceMetadataCredentials)(n,r);else throw o}return n=i,i}};of.staticStabilityProvider=d3});var jT=c(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.fromInstanceMetadata=void 0;var u3=Yt(),LT=G(),l3=bT(),jg=Jp(),DT=qg(),p3=Xp(),MT=Dg(),f3=Lg(),m3=qT(),UT="/latest/meta-data/iam/security-credentials/",h3="/latest/api/token",Ug="AWS_EC2_METADATA_V1_DISABLED",kT="ec2_metadata_v1_disabled",FT="x-aws-ec2-metadata-token",y3=(t={})=>(0,m3.staticStabilityProvider)(_3(t),{logger:t.logger});sf.fromInstanceMetadata=y3;var _3=t=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:o}=(0,p3.providerConfigFromInit)(t),s=async(a,u)=>{var l;if(e||((l=u.headers)===null||l===void 0?void 0:l[FT])==null){let m=!1,h=!1,y=await(0,u3.loadConfig)({environmentVariableSelector:E=>{let v=E[Ug];if(h=!!v&&v!=="false",v===void 0)throw new LT.CredentialsProviderError(`${Ug} not set in env, checking config file next.`);return h},configFileSelector:E=>{let v=E[kT];return m=!!v&&v!=="false",m},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||y){let E=[];throw t.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&E.push(`config file profile (${kT})`),h&&E.push(`process environment variable (${Ug})`),new l3.InstanceMetadataV1FallbackError(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let f=(await(0,MT.retry)(async()=>{let m;try{m=await E3(u)}catch(h){throw h.statusCode===401&&(e=!1),h}return m},a)).trim();return(0,MT.retry)(async()=>{let m;try{m=await v3(f,u)}catch(h){throw h.statusCode===401&&(e=!1),h}return m},a)};return async()=>{let a=await(0,f3.getInstanceMetadataEndpoint)();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let u;try{u=(await g3({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[FT]:u},timeout:i})}}},g3=async t=>(0,jg.httpRequest)({...t,path:h3,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),E3=async t=>(await(0,jg.httpRequest)({...t,path:UT})).toString(),v3=async(t,e)=>{let r=JSON.parse((await(0,jg.httpRequest)({...e,path:UT+t})).toString());if(!(0,DT.isImdsCredentials)(r))throw new LT.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,DT.fromImdsCredentials)(r)}});var BT=c(WT=>{"use strict";Object.defineProperty(WT,"__esModule",{value:!0})});var cf=c(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.getInstanceMetadataEndpoint=or.httpRequest=void 0;var af=(x(),w(N));af.__exportStar(xT(),or);af.__exportStar(jT(),or);af.__exportStar(Xp(),or);af.__exportStar(BT(),or);var S3=Jp();Object.defineProperty(or,"httpRequest",{enumerable:!0,get:function(){return S3.httpRequest}});var w3=Lg();Object.defineProperty(or,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return w3.getInstanceMetadataEndpoint}})});var $T=c(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.resolveCredentialSource=void 0;var N3=Rg(),VT=cf(),x3=G(),b3=(t,e)=>{let r={EcsContainer:VT.fromContainerMetadata,Ec2InstanceMetadata:VT.fromInstanceMetadata,Environment:N3.fromEnv};if(t in r)return r[t]();throw new x3.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};df.resolveCredentialSource=b3});var zT=c(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.resolveAssumeRoleCredentials=bo.isAssumeRoleProfile=void 0;var Wg=G(),C3=Tt(),O3=$T(),A3=Bg(),T3=t=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(P3(t)||R3(t));bo.isAssumeRoleProfile=T3;var P3=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",R3=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",I3=async(t,e,r,n={})=>{let i=e[t];if(!r.roleAssumer)throw new Wg.CredentialsProviderError(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=i;if(o&&o in n)throw new Wg.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,C3.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let s=o?(0,A3.resolveProfileData)(o,e,r,{...n,[o]:!0}):(0,O3.resolveCredentialSource)(i.credential_source,t)(),a={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:u}=i;if(u){if(!r.mfaCodeProvider)throw new Wg.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=u,a.TokenCode=await r.mfaCodeProvider(u)}let l=await s;return r.roleAssumer(l,a)};bo.resolveAssumeRoleCredentials=I3});var HT=c(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.getValidatedProcessCredentials=void 0;var q3=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};uf.getValidatedProcessCredentials=q3});var GT=c(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.resolveProcessCredentials=void 0;var Vg=G(),D3=z("child_process"),M3=z("util"),k3=HT(),F3=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let i=(0,M3.promisify)(D3.exec);try{let{stdout:o}=await i(n),s;try{s=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return(0,k3.getValidatedProcessCredentials)(t,s)}catch(o){throw new Vg.CredentialsProviderError(o.message)}}else throw new Vg.CredentialsProviderError(`Profile ${t} did not contain credential_process.`)}else throw new Vg.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`)};lf.resolveProcessCredentials=F3});var QT=c(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.fromProcess=void 0;var KT=Tt(),L3=GT(),U3=(t={})=>async()=>{let e=await(0,KT.parseKnownFiles)(t);return(0,L3.resolveProcessCredentials)((0,KT.getProfileName)(t),e)};pf.fromProcess=U3});var zg=c($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});var j3=(x(),w(N));j3.__exportStar(QT(),$g)});var YT=c(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.resolveProcessCredentials=Co.isProcessProfile=void 0;var W3=zg(),B3=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string";Co.isProcessProfile=B3;var V3=async(t,e)=>(0,W3.fromProcess)({...t,profile:e})();Co.resolveProcessCredentials=V3});var Hg=c(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.isSsoProfile=void 0;var $3=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");ff.isSsoProfile=$3});var JT=c(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.resolveClientEndpointParameters=void 0;var z3=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});mf.resolveClientEndpointParameters=z3});var XT=c((hye,H3)=>{H3.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.451.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Gg=c(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.crtAvailability=void 0;hf.crtAvailability={isCrtAvailable:!1}});var ZT=c(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.isCrtAvailable=void 0;var G3=Gg(),K3=()=>G3.crtAvailability.isCrtAvailable?["md/crt-avail"]:null;yf.isCrtAvailable=K3});var Ja=c(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.defaultUserAgent=gt.UA_APP_ID_INI_NAME=gt.UA_APP_ID_ENV_NAME=gt.crtAvailability=void 0;var Q3=Yt(),eP=z("os"),Kg=z("process"),Y3=ZT(),J3=Gg();Object.defineProperty(gt,"crtAvailability",{enumerable:!0,get:function(){return J3.crtAvailability}});gt.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";gt.UA_APP_ID_INI_NAME="sdk-ua-app-id";var X3=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],["ua","2.0"],[`os/${(0,eP.platform)()}`,(0,eP.release)()],["lang/js"],["md/nodejs",`${Kg.versions.node}`]],n=(0,Y3.isCrtAvailable)();n&&r.push(n),t&&r.push([`api/${t}`,e]),Kg.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Kg.env.AWS_EXECUTION_ENV}`]);let i=(0,Q3.loadConfig)({environmentVariableSelector:s=>s[gt.UA_APP_ID_ENV_NAME],configFileSelector:s=>s[gt.UA_APP_ID_INI_NAME],default:void 0})(),o;return async()=>{if(!o){let s=await i;o=s?[...r,[`app/${s}`]]:[...r]}return o}};gt.defaultUserAgent=X3});var Xa=c(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.Hash=void 0;var Qg=Gn(),Z3=$t(),eG=z("buffer"),tP=z("crypto"),Yg=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update((0,Z3.toUint8Array)(rP(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,tP.createHmac)(this.algorithmIdentifier,rP(this.secret)):(0,tP.createHash)(this.algorithmIdentifier)}};_f.Hash=Yg;function rP(t,e){return eG.Buffer.isBuffer(t)?t:typeof t=="string"?(0,Qg.fromString)(t,e):ArrayBuffer.isView(t)?(0,Qg.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,Qg.fromArrayBuffer)(t)}});var iP=c(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.calculateBodyLength=void 0;var nP=z("fs"),tG=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,nP.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,nP.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};gf.calculateBodyLength=tG});var Za=c(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});var rG=(x(),w(N));rG.__exportStar(iP(),Jg)});var EP=c(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.ruleSet=void 0;var hP="required",vt="fn",St="argv",To="ref",oP=!0,sP="isSet",ec="booleanEquals",Oo="error",Ao="endpoint",Mr="tree",Xg="PartitionResult",Zg="getAttr",aP={[hP]:!1,type:"String"},cP={[hP]:!0,default:!1,type:"Boolean"},dP={[To]:"Endpoint"},yP={[vt]:ec,[St]:[{[To]:"UseFIPS"},!0]},_P={[vt]:ec,[St]:[{[To]:"UseDualStack"},!0]},Et={},uP={[vt]:Zg,[St]:[{[To]:Xg},"supportsFIPS"]},gP={[To]:Xg},lP={[vt]:ec,[St]:[!0,{[vt]:Zg,[St]:[gP,"supportsDualStack"]}]},pP=[yP],fP=[_P],mP=[{[To]:"Region"}],nG={version:"1.0",parameters:{Region:aP,UseDualStack:cP,UseFIPS:cP,Endpoint:aP},rules:[{conditions:[{[vt]:sP,[St]:[dP]}],rules:[{conditions:pP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Oo},{conditions:fP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Oo},{endpoint:{url:dP,properties:Et,headers:Et},type:Ao}],type:Mr},{conditions:[{[vt]:sP,[St]:mP}],rules:[{conditions:[{[vt]:"aws.partition",[St]:mP,assign:Xg}],rules:[{conditions:[yP,_P],rules:[{conditions:[{[vt]:ec,[St]:[oP,uP]},lP],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Et,headers:Et},type:Ao}],type:Mr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Oo}],type:Mr},{conditions:pP,rules:[{conditions:[{[vt]:ec,[St]:[uP,oP]}],rules:[{conditions:[{[vt]:"stringEquals",[St]:[{[vt]:Zg,[St]:[gP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Et,headers:Et},type:Ao},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Et,headers:Et},type:Ao}],type:Mr},{error:"FIPS is enabled but this partition does not support FIPS",type:Oo}],type:Mr},{conditions:fP,rules:[{conditions:[lP],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Et,headers:Et},type:Ao}],type:Mr},{error:"DualStack is enabled but this partition does not support DualStack",type:Oo}],type:Mr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Et,headers:Et},type:Ao}],type:Mr}],type:Mr},{error:"Invalid Configuration: Missing Region",type:Oo}]};Ef.ruleSet=nG});var vP=c(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.defaultEndpointResolver=void 0;var iG=zt(),oG=EP(),sG=(t,e={})=>(0,iG.resolveEndpoint)(oG.ruleSet,{endpointParams:t,logger:e.logger});vf.defaultEndpointResolver=sG});var NP=c(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.getRuntimeConfig=void 0;var aG=A(),cG=ni(),SP=fo(),wP=$t(),dG=vP(),uG=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??SP.fromBase64,base64Encoder:t?.base64Encoder??SP.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??dG.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new aG.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??cG.parseUrl,utf8Decoder:t?.utf8Decoder??wP.fromUtf8,utf8Encoder:t?.utf8Encoder??wP.toUtf8});Sf.getRuntimeConfig=uG});var xP=c(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.IMDS_REGION_PATH=Je.DEFAULTS_MODE_OPTIONS=Je.ENV_IMDS_DISABLED=Je.AWS_DEFAULT_REGION_ENV=Je.AWS_REGION_ENV=Je.AWS_EXECUTION_ENV=void 0;Je.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";Je.AWS_REGION_ENV="AWS_REGION";Je.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";Je.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";Je.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];Je.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var bP=c(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var lG="AWS_DEFAULTS_MODE",pG="defaults_mode";wf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[lG],configFileSelector:t=>t[pG],default:"legacy"}});var AP=c(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.resolveDefaultsModeConfig=void 0;var fG=Gt(),CP=cf(),OP=Yt(),mG=G(),On=xP(),hG=bP(),yG=({region:t=(0,OP.loadConfig)(fG.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,OP.loadConfig)(hG.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,mG.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return _G(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${On.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});Nf.resolveDefaultsModeConfig=yG;var _G=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await gG();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},gG=async()=>{var t;if(process.env[On.AWS_EXECUTION_ENV]&&(process.env[On.AWS_REGION_ENV]||process.env[On.AWS_DEFAULT_REGION_ENV]))return(t=process.env[On.AWS_REGION_ENV])!==null&&t!==void 0?t:process.env[On.AWS_DEFAULT_REGION_ENV];if(!process.env[On.ENV_IMDS_DISABLED])try{let e=await(0,CP.getInstanceMetadataEndpoint)();return(await(0,CP.httpRequest)({...e,path:On.IMDS_REGION_PATH})).toString()}catch{}}});var tc=c(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});var EG=(x(),w(N));EG.__exportStar(AP(),eE)});var RP=c(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.getRuntimeConfig=void 0;var vG=(x(),w(N)),SG=vG.__importDefault(XT()),wG=Ka(),NG=Ja(),xf=Gt(),xG=Xa(),TP=Pr(),rc=Yt(),PP=yo(),bG=Za(),CG=yt(),OG=NP(),AG=A(),TG=tc(),PG=A(),RG=t=>{(0,PG.emitWarningIfUnsupportedVersion)(process.version);let e=(0,TG.resolveDefaultsModeConfig)(t),r=()=>e().then(AG.loadConfigsForDefaultMode),n=(0,OG.getRuntimeConfig)(t);return(0,wG.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??bG.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,NG.defaultUserAgent)({serviceId:n.serviceId,clientVersion:SG.default.version}),maxAttempts:t?.maxAttempts??(0,rc.loadConfig)(TP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,rc.loadConfig)(xf.NODE_REGION_CONFIG_OPTIONS,xf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new PP.NodeHttpHandler(r),retryMode:t?.retryMode??(0,rc.loadConfig)({...TP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||CG.DEFAULT_RETRY_MODE}),sha256:t?.sha256??xG.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??PP.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,rc.loadConfig)(xf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,rc.loadConfig)(xf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};bf.getRuntimeConfig=RG});var IP=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.resolveAwsRegionExtensionConfiguration=Po.getAwsRegionExtensionConfiguration=void 0;var IG=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}};Po.getAwsRegionExtensionConfiguration=IG;var qG=t=>({region:t.region()});Po.resolveAwsRegionExtensionConfiguration=qG});var qP=c(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.NODE_REGION_CONFIG_FILE_OPTIONS=wt.NODE_REGION_CONFIG_OPTIONS=wt.REGION_INI_NAME=wt.REGION_ENV_NAME=void 0;wt.REGION_ENV_NAME="AWS_REGION";wt.REGION_INI_NAME="region";wt.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:t=>t[wt.REGION_ENV_NAME],configFileSelector:t=>t[wt.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};wt.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var tE=c(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.isFipsRegion=void 0;var DG=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));Cf.isFipsRegion=DG});var DP=c(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.getRealRegion=void 0;var MG=tE(),kG=t=>(0,MG.isFipsRegion)(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;Of.getRealRegion=kG});var kP=c(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.resolveRegionConfig=void 0;var MP=DP(),FG=tE(),LG=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return(0,MP.getRealRegion)(e);let n=await e();return(0,MP.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return(0,FG.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Af.resolveRegionConfig=LG});var LP=c(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var FP=(x(),w(N));FP.__exportStar(qP(),Tf);FP.__exportStar(kP(),Tf)});var nc=c(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var UP=(x(),w(N));UP.__exportStar(IP(),Pf);UP.__exportStar(LP(),Pf)});var VP=c(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.resolveRuntimeExtensions=void 0;var jP=nc(),WP=ve(),BP=A(),rE=t=>t,UG=(t,e)=>{let r={...rE((0,jP.getAwsRegionExtensionConfiguration)(t)),...rE((0,BP.getDefaultExtensionConfiguration)(t)),...rE((0,WP.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,jP.resolveAwsRegionExtensionConfiguration)(r),...(0,BP.resolveDefaultRuntimeConfig)(r),...(0,WP.resolveHttpHandlerRuntimeConfig)(r)}};Rf.resolveRuntimeExtensions=UG});var ic=c(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.SSOClient=Ro.__Client=void 0;var $P=la(),jG=pa(),WG=fa(),zP=Ca(),BG=Gt(),VG=Ta(),$G=Q(),HP=Pr(),GP=A();Object.defineProperty(Ro,"__Client",{enumerable:!0,get:function(){return GP.Client}});var zG=JT(),HG=RP(),GG=VP(),nE=class extends GP.Client{constructor(...[e]){let r=(0,HG.getRuntimeConfig)(e||{}),n=(0,zG.resolveClientEndpointParameters)(r),i=(0,BG.resolveRegionConfig)(n),o=(0,$G.resolveEndpointConfig)(i),s=(0,HP.resolveRetryConfig)(o),a=(0,$P.resolveHostHeaderConfig)(s),u=(0,zP.resolveUserAgentConfig)(a),l=(0,GG.resolveRuntimeExtensions)(u,e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,HP.getRetryPlugin)(this.config)),this.middlewareStack.use((0,VG.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,$P.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,jG.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,WG.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,zP.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Ro.SSOClient=nE});var If=c(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.SSOServiceException=Io.__ServiceException=void 0;var KP=A();Object.defineProperty(Io,"__ServiceException",{enumerable:!0,get:function(){return KP.ServiceException}});var iE=class t extends KP.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Io.SSOServiceException=iE});var fi=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.LogoutRequestFilterSensitiveLog=ae.ListAccountsRequestFilterSensitiveLog=ae.ListAccountRolesRequestFilterSensitiveLog=ae.GetRoleCredentialsResponseFilterSensitiveLog=ae.RoleCredentialsFilterSensitiveLog=ae.GetRoleCredentialsRequestFilterSensitiveLog=ae.UnauthorizedException=ae.TooManyRequestsException=ae.ResourceNotFoundException=ae.InvalidRequestException=void 0;var qo=A(),qf=If(),oE=class t extends qf.SSOServiceException{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.InvalidRequestException=oE;var sE=class t extends qf.SSOServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.ResourceNotFoundException=sE;var aE=class t extends qf.SSOServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.TooManyRequestsException=aE;var cE=class t extends qf.SSOServiceException{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.UnauthorizedException=cE;var KG=t=>({...t,...t.accessToken&&{accessToken:qo.SENSITIVE_STRING}});ae.GetRoleCredentialsRequestFilterSensitiveLog=KG;var QG=t=>({...t,...t.secretAccessKey&&{secretAccessKey:qo.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:qo.SENSITIVE_STRING}});ae.RoleCredentialsFilterSensitiveLog=QG;var YG=t=>({...t,...t.roleCredentials&&{roleCredentials:(0,ae.RoleCredentialsFilterSensitiveLog)(t.roleCredentials)}});ae.GetRoleCredentialsResponseFilterSensitiveLog=YG;var JG=t=>({...t,...t.accessToken&&{accessToken:qo.SENSITIVE_STRING}});ae.ListAccountRolesRequestFilterSensitiveLog=JG;var XG=t=>({...t,...t.accessToken&&{accessToken:qo.SENSITIVE_STRING}});ae.ListAccountsRequestFilterSensitiveLog=XG;var ZG=t=>({...t,...t.accessToken&&{accessToken:qo.SENSITIVE_STRING}});ae.LogoutRequestFilterSensitiveLog=ZG});var oc=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.de_LogoutCommand=xe.de_ListAccountsCommand=xe.de_ListAccountRolesCommand=xe.de_GetRoleCredentialsCommand=xe.se_LogoutCommand=xe.se_ListAccountsCommand=xe.se_ListAccountRolesCommand=xe.se_GetRoleCredentialsCommand=void 0;var Df=ve(),q=A(),Mf=fi(),e6=If(),t6=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},jf,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,u=(0,q.map)({role_name:[,(0,q.expectNonNull)(t.roleName,"roleName")],account_id:[,(0,q.expectNonNull)(t.accountId,"accountId")]}),l;return new Df.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:u,body:l})};xe.se_GetRoleCredentialsCommand=t6;var r6=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},jf,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/assignment/roles`,u=(0,q.map)({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()],account_id:[,(0,q.expectNonNull)(t.accountId,"accountId")]}),l;return new Df.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:u,body:l})};xe.se_ListAccountRolesCommand=r6;var n6=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},jf,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/assignment/accounts`,u=(0,q.map)({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()]}),l;return new Df.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:u,body:l})};xe.se_ListAccountsCommand=n6;var i6=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},jf,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/logout`,u;return new Df.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};xe.se_LogoutCommand=i6;var o6=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return s6(t,e);let r=(0,q.map)({$metadata:An(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await Wf(t.body,e)),"body"),i=(0,q.take)(n,{roleCredentials:q._json});return Object.assign(r,i),r};xe.de_GetRoleCredentialsCommand=o6;var s6=async(t,e)=>{let r={...t,body:await Bf(t.body,e)},n=Vf(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ff(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await dE(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Lf(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Uf(r,e);default:let i=r.body;return kf({output:t,parsedBody:i,errorCode:n})}},a6=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return c6(t,e);let r=(0,q.map)({$metadata:An(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await Wf(t.body,e)),"body"),i=(0,q.take)(n,{nextToken:q.expectString,roleList:q._json});return Object.assign(r,i),r};xe.de_ListAccountRolesCommand=a6;var c6=async(t,e)=>{let r={...t,body:await Bf(t.body,e)},n=Vf(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ff(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await dE(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Lf(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Uf(r,e);default:let i=r.body;return kf({output:t,parsedBody:i,errorCode:n})}},d6=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return u6(t,e);let r=(0,q.map)({$metadata:An(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await Wf(t.body,e)),"body"),i=(0,q.take)(n,{accountList:q._json,nextToken:q.expectString});return Object.assign(r,i),r};xe.de_ListAccountsCommand=d6;var u6=async(t,e)=>{let r={...t,body:await Bf(t.body,e)},n=Vf(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ff(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await dE(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Lf(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Uf(r,e);default:let i=r.body;return kf({output:t,parsedBody:i,errorCode:n})}},l6=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return p6(t,e);let r=(0,q.map)({$metadata:An(t)});return await(0,q.collectBody)(t.body,e),r};xe.de_LogoutCommand=l6;var p6=async(t,e)=>{let r={...t,body:await Bf(t.body,e)},n=Vf(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ff(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Lf(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Uf(r,e);default:let i=r.body;return kf({output:t,parsedBody:i,errorCode:n})}},kf=(0,q.withBaseException)(e6.SSOServiceException),Ff=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new Mf.InvalidRequestException({$metadata:An(t),...r});return(0,q.decorateServiceException)(o,t.body)},dE=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new Mf.ResourceNotFoundException({$metadata:An(t),...r});return(0,q.decorateServiceException)(o,t.body)},Lf=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new Mf.TooManyRequestsException({$metadata:An(t),...r});return(0,q.decorateServiceException)(o,t.body)},Uf=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new Mf.UnauthorizedException({$metadata:An(t),...r});return(0,q.decorateServiceException)(o,t.body)},An=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),f6=(t,e)=>(0,q.collectBody)(t,e).then(r=>e.utf8Encoder(r)),jf=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Wf=(t,e)=>f6(t,e).then(r=>r.length?JSON.parse(r):{}),Bf=async(t,e)=>{let r=await Wf(t,e);return r.message=r.message??r.Message,r},Vf=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var lE=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.GetRoleCredentialsCommand=Do.$Command=void 0;var m6=Q(),h6=se(),JP=A();Object.defineProperty(Do,"$Command",{enumerable:!0,get:function(){return JP.Command}});var y6=H(),QP=fi(),YP=oc(),uE=class t extends JP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,h6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,m6.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:QP.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:QP.GetRoleCredentialsResponseFilterSensitiveLog,[y6.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,YP.se_GetRoleCredentialsCommand)(e,r)}deserialize(e,r){return(0,YP.de_GetRoleCredentialsCommand)(e,r)}};Do.GetRoleCredentialsCommand=uE});var $f=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ListAccountRolesCommand=Mo.$Command=void 0;var _6=Q(),g6=se(),ZP=A();Object.defineProperty(Mo,"$Command",{enumerable:!0,get:function(){return ZP.Command}});var E6=H(),v6=fi(),XP=oc(),pE=class t extends ZP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,g6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_6.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:v6.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[E6.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccountRoles"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,XP.se_ListAccountRolesCommand)(e,r)}deserialize(e,r){return(0,XP.de_ListAccountRolesCommand)(e,r)}};Mo.ListAccountRolesCommand=pE});var zf=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.ListAccountsCommand=ko.$Command=void 0;var S6=Q(),w6=se(),tR=A();Object.defineProperty(ko,"$Command",{enumerable:!0,get:function(){return tR.Command}});var N6=H(),x6=fi(),eR=oc(),fE=class t extends tR.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,w6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,S6.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:x6.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[N6.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccounts"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,eR.se_ListAccountsCommand)(e,r)}deserialize(e,r){return(0,eR.de_ListAccountsCommand)(e,r)}};ko.ListAccountsCommand=fE});var hE=c(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.LogoutCommand=Fo.$Command=void 0;var b6=Q(),C6=se(),nR=A();Object.defineProperty(Fo,"$Command",{enumerable:!0,get:function(){return nR.Command}});var O6=H(),A6=fi(),rR=oc(),mE=class t extends nR.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,C6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,b6.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:A6.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[O6.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"Logout"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,rR.se_LogoutCommand)(e,r)}deserialize(e,r){return(0,rR.de_LogoutCommand)(e,r)}};Fo.LogoutCommand=mE});var iR=c(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.SSO=void 0;var T6=A(),P6=lE(),R6=$f(),I6=zf(),q6=hE(),D6=ic(),M6={GetRoleCredentialsCommand:P6.GetRoleCredentialsCommand,ListAccountRolesCommand:R6.ListAccountRolesCommand,ListAccountsCommand:I6.ListAccountsCommand,LogoutCommand:q6.LogoutCommand},Hf=class extends D6.SSOClient{};Gf.SSO=Hf;(0,T6.createAggregatedClient)(M6,Hf)});var oR=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Kf=(x(),w(N));Kf.__exportStar(lE(),Lo);Kf.__exportStar($f(),Lo);Kf.__exportStar(zf(),Lo);Kf.__exportStar(hE(),Lo)});var aR=c(sR=>{"use strict";Object.defineProperty(sR,"__esModule",{value:!0})});var cR=c(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.paginateListAccountRoles=void 0;var k6=$f(),F6=ic(),L6=async(t,e,...r)=>await t.send(new k6.ListAccountRolesCommand(e),...r);async function*U6(t,e,...r){let n=t.startingToken||void 0,i=!0,o;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof F6.SSOClient)o=await L6(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let s=n;n=o.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==s))}return void 0}Qf.paginateListAccountRoles=U6});var dR=c(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.paginateListAccounts=void 0;var j6=zf(),W6=ic(),B6=async(t,e,...r)=>await t.send(new j6.ListAccountsCommand(e),...r);async function*V6(t,e,...r){let n=t.startingToken||void 0,i=!0,o;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof W6.SSOClient)o=await B6(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let s=n;n=o.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==s))}return void 0}Yf.paginateListAccounts=V6});var uR=c(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var yE=(x(),w(N));yE.__exportStar(aR(),sc);yE.__exportStar(cR(),sc);yE.__exportStar(dR(),sc)});var lR=c(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});var $6=(x(),w(N));$6.__exportStar(fi(),_E)});var pR=c(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.SSOServiceException=void 0;var ac=(x(),w(N));ac.__exportStar(ic(),kr);ac.__exportStar(iR(),kr);ac.__exportStar(oR(),kr);ac.__exportStar(uR(),kr);ac.__exportStar(lR(),kr);ba();var z6=If();Object.defineProperty(kr,"SSOServiceException",{enumerable:!0,get:function(){return z6.SSOServiceException}})});var Zf=c(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.UnsupportedGrantTypeException=Y.UnauthorizedClientException=Y.SlowDownException=Y.SSOOIDCClient=Y.InvalidScopeException=Y.InvalidRequestException=Y.InvalidClientException=Y.InternalServerException=Y.ExpiredTokenException=Y.CreateTokenCommand=Y.AuthorizationPendingException=Y.AccessDeniedException=void 0;var fR=la(),H6=pa(),G6=fa(),mR=Ca(),K6=Gt(),Q6=Ta(),Y6=Q(),hR=Pr(),J6=A(),X6=t=>{var e,r;return{...t,useDualstackEndpoint:(e=t.useDualstackEndpoint)!==null&&e!==void 0?e:!1,useFipsEndpoint:(r=t.useFipsEndpoint)!==null&&r!==void 0?r:!1,defaultSigningName:"awsssooidc"}},Z6={version:"3.429.0"},e8=Ja(),Jf=Gt(),t8=Xa(),yR=Pr(),cc=Yt(),_R=yo(),r8=Za(),n8=yt(),i8=A(),o8=ni(),gR=fo(),ER=$t(),s8=zt(),IR="required",Pt="fn",Rt="argv",Wo="ref",vR="isSet",Fr="tree",Uo="error",jo="endpoint",EE="PartitionResult",vE="getAttr",SR={[IR]:!1,type:"String"},wR={[IR]:!0,default:!1,type:"Boolean"},NR={[Wo]:"Endpoint"},qR={[Pt]:"booleanEquals",[Rt]:[{[Wo]:"UseFIPS"},!0]},DR={[Pt]:"booleanEquals",[Rt]:[{[Wo]:"UseDualStack"},!0]},Nt={},xR={[Pt]:"booleanEquals",[Rt]:[!0,{[Pt]:vE,[Rt]:[{[Wo]:EE},"supportsFIPS"]}]},MR={[Wo]:EE},bR={[Pt]:"booleanEquals",[Rt]:[!0,{[Pt]:vE,[Rt]:[MR,"supportsDualStack"]}]},CR=[qR],OR=[DR],AR=[{[Wo]:"Region"}],a8={version:"1.0",parameters:{Region:SR,UseDualStack:wR,UseFIPS:wR,Endpoint:SR},rules:[{conditions:[{[Pt]:vR,[Rt]:[NR]}],type:Fr,rules:[{conditions:CR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Uo},{conditions:OR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Uo},{endpoint:{url:NR,properties:Nt,headers:Nt},type:jo}]},{conditions:[{[Pt]:vR,[Rt]:AR}],type:Fr,rules:[{conditions:[{[Pt]:"aws.partition",[Rt]:AR,assign:EE}],type:Fr,rules:[{conditions:[qR,DR],type:Fr,rules:[{conditions:[xR,bR],type:Fr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:jo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Uo}]},{conditions:CR,type:Fr,rules:[{conditions:[xR],type:Fr,rules:[{conditions:[{[Pt]:"stringEquals",[Rt]:["aws-us-gov",{[Pt]:vE,[Rt]:[MR,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Nt,headers:Nt},type:jo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:jo}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Uo}]},{conditions:OR,type:Fr,rules:[{conditions:[bR],type:Fr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:jo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Uo}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:jo}]}]},{error:"Invalid Configuration: Missing Region",type:Uo}]},c8=a8,d8=(t,e={})=>(0,s8.resolveEndpoint)(c8,{endpointParams:t,logger:e.logger}),u8=t=>{var e,r,n,i,o,s,a,u,l,p;return{apiVersion:"2019-06-10",base64Decoder:(e=t?.base64Decoder)!==null&&e!==void 0?e:gR.fromBase64,base64Encoder:(r=t?.base64Encoder)!==null&&r!==void 0?r:gR.toBase64,disableHostPrefix:(n=t?.disableHostPrefix)!==null&&n!==void 0?n:!1,endpointProvider:(i=t?.endpointProvider)!==null&&i!==void 0?i:d8,extensions:(o=t?.extensions)!==null&&o!==void 0?o:[],logger:(s=t?.logger)!==null&&s!==void 0?s:new i8.NoOpLogger,serviceId:(a=t?.serviceId)!==null&&a!==void 0?a:"SSO OIDC",urlParser:(u=t?.urlParser)!==null&&u!==void 0?u:o8.parseUrl,utf8Decoder:(l=t?.utf8Decoder)!==null&&l!==void 0?l:ER.fromUtf8,utf8Encoder:(p=t?.utf8Encoder)!==null&&p!==void 0?p:ER.toUtf8}},l8=A(),p8=tc(),f8=A(),m8=t=>{var e,r,n,i,o,s,a,u,l,p;(0,f8.emitWarningIfUnsupportedVersion)(process.version);let f=(0,p8.resolveDefaultsModeConfig)(t),m=()=>f().then(l8.loadConfigsForDefaultMode),h=u8(t);return{...h,...t,runtime:"node",defaultsMode:f,bodyLengthChecker:(e=t?.bodyLengthChecker)!==null&&e!==void 0?e:r8.calculateBodyLength,defaultUserAgentProvider:(r=t?.defaultUserAgentProvider)!==null&&r!==void 0?r:(0,e8.defaultUserAgent)({serviceId:h.serviceId,clientVersion:Z6.version}),maxAttempts:(n=t?.maxAttempts)!==null&&n!==void 0?n:(0,cc.loadConfig)(yR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(i=t?.region)!==null&&i!==void 0?i:(0,cc.loadConfig)(Jf.NODE_REGION_CONFIG_OPTIONS,Jf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(o=t?.requestHandler)!==null&&o!==void 0?o:new _R.NodeHttpHandler(m),retryMode:(s=t?.retryMode)!==null&&s!==void 0?s:(0,cc.loadConfig)({...yR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await m()).retryMode||n8.DEFAULT_RETRY_MODE}),sha256:(a=t?.sha256)!==null&&a!==void 0?a:t8.Hash.bind(null,"sha256"),streamCollector:(u=t?.streamCollector)!==null&&u!==void 0?u:_R.streamCollector,useDualstackEndpoint:(l=t?.useDualstackEndpoint)!==null&&l!==void 0?l:(0,cc.loadConfig)(Jf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(p=t?.useFipsEndpoint)!==null&&p!==void 0?p:(0,cc.loadConfig)(Jf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}},TR=nc(),PR=ve(),RR=A(),gE=t=>t,h8=(t,e)=>{let r={...gE((0,TR.getAwsRegionExtensionConfiguration)(t)),...gE((0,RR.getDefaultExtensionConfiguration)(t)),...gE((0,PR.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,TR.resolveAwsRegionExtensionConfiguration)(r),...(0,RR.resolveDefaultRuntimeConfig)(r),...(0,PR.resolveHttpHandlerRuntimeConfig)(r)}},kR=class extends J6.Client{constructor(...[t]){let e=m8(t||{}),r=X6(e),n=(0,K6.resolveRegionConfig)(r),i=(0,Y6.resolveEndpointConfig)(n),o=(0,hR.resolveRetryConfig)(i),s=(0,fR.resolveHostHeaderConfig)(o),a=(0,mR.resolveUserAgentConfig)(s),u=h8(a,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,hR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Q6.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,fR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H6.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G6.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,mR.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Y.SSOOIDCClient=kR;var y8=A(),_8=Q(),g8=se(),E8=A(),v8=H(),SE=ve(),g=A(),S8=A(),ot=class FR extends S8.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,FR.prototype)}},LR=class UR extends ot{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,UR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.AccessDeniedException=LR;var jR=class WR extends ot{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,WR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.AuthorizationPendingException=jR;var BR=class VR extends ot{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,VR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.ExpiredTokenException=BR;var $R=class zR extends ot{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,zR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InternalServerException=$R;var HR=class GR extends ot{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,GR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidClientException=HR;var w8=class KR extends ot{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,KR.prototype),this.error=e.error,this.error_description=e.error_description}},QR=class YR extends ot{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,YR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidRequestException=QR;var JR=class XR extends ot{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,XR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidScopeException=JR;var ZR=class eI extends ot{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,eI.prototype),this.error=e.error,this.error_description=e.error_description}};Y.SlowDownException=ZR;var tI=class rI extends ot{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,rI.prototype),this.error=e.error,this.error_description=e.error_description}};Y.UnauthorizedClientException=tI;var nI=class iI extends ot{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,iI.prototype),this.error=e.error,this.error_description=e.error_description}};Y.UnsupportedGrantTypeException=nI;var N8=class oI extends ot{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,oI.prototype),this.error=e.error,this.error_description=e.error_description}},x8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/token`,u;return u=JSON.stringify((0,g.take)(t,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:l=>(0,g._json)(l)})),new SE.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})},b8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/client/register`,u;return u=JSON.stringify((0,g.take)(t,{clientName:[],clientType:[],scopes:l=>(0,g._json)(l)})),new SE.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})},C8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/device_authorization`,u;return u=JSON.stringify((0,g.take)(t,{clientId:[],clientSecret:[],startUrl:[]})),new SE.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})},O8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return A8(t,e);let r=(0,g.map)({$metadata:Be(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Xf(t.body,e)),"body"),i=(0,g.take)(n,{accessToken:g.expectString,expiresIn:g.expectInt32,idToken:g.expectString,refreshToken:g.expectString,tokenType:g.expectString});return Object.assign(r,i),r},A8=async(t,e)=>{let r={...t,body:await bE(t.body,e)},n=CE(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await q8(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await D8(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await M8(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await NE(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await sI(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await F8(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await xE(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await aI(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await cI(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await dI(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await L8(r,e);default:let i=r.body;return wE({output:t,parsedBody:i,errorCode:n})}},T8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return P8(t,e);let r=(0,g.map)({$metadata:Be(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Xf(t.body,e)),"body"),i=(0,g.take)(n,{authorizationEndpoint:g.expectString,clientId:g.expectString,clientIdIssuedAt:g.expectLong,clientSecret:g.expectString,clientSecretExpiresAt:g.expectLong,tokenEndpoint:g.expectString});return Object.assign(r,i),r},P8=async(t,e)=>{let r={...t,body:await bE(t.body,e)},n=CE(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await NE(r,e);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await k8(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await xE(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await aI(r,e);default:let i=r.body;return wE({output:t,parsedBody:i,errorCode:n})}},R8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return I8(t,e);let r=(0,g.map)({$metadata:Be(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Xf(t.body,e)),"body"),i=(0,g.take)(n,{deviceCode:g.expectString,expiresIn:g.expectInt32,interval:g.expectInt32,userCode:g.expectString,verificationUri:g.expectString,verificationUriComplete:g.expectString});return Object.assign(r,i),r},I8=async(t,e)=>{let r={...t,body:await bE(t.body,e)},n=CE(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await NE(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await sI(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await xE(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await cI(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await dI(r,e);default:let i=r.body;return wE({output:t,parsedBody:i,errorCode:n})}},wE=(0,g.withBaseException)(ot),q8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new LR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},D8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new jR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},M8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new BR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},NE=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new $R({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},sI=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new HR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},k8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new N8({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},F8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new w8({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},xE=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new QR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},aI=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new JR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},cI=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new ZR({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},dI=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new tI({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},L8=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new nI({$metadata:Be(t),...r});return(0,g.decorateServiceException)(o,t.body)},Be=t=>{var e,r;return{httpStatusCode:t.statusCode,requestId:(r=(e=t.headers["x-amzn-requestid"])!==null&&e!==void 0?e:t.headers["x-amzn-request-id"])!==null&&r!==void 0?r:t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}},U8=(t,e)=>(0,g.collectBody)(t,e).then(r=>e.utf8Encoder(r)),Xf=(t,e)=>U8(t,e).then(r=>r.length?JSON.parse(r):{}),bE=async(t,e)=>{var r;let n=await Xf(t,e);return n.message=(r=n.message)!==null&&r!==void 0?r:n.Message,n},CE=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)},uI=class lI extends E8.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,g8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_8.getEndpointPlugin)(r,lI.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[v8.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return x8(e,r)}deserialize(e,r){return O8(e,r)}};Y.CreateTokenCommand=uI;var j8=Q(),W8=se(),B8=A(),V8=H(),$8=class pI extends B8.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,W8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,j8.getEndpointPlugin)(r,pI.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[V8.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return b8(e,r)}deserialize(e,r){return T8(e,r)}},z8=Q(),H8=se(),G8=A(),K8=H(),Q8=class fI extends G8.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,H8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,z8.getEndpointPlugin)(r,fI.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[K8.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return C8(e,r)}deserialize(e,r){return R8(e,r)}},Y8={CreateTokenCommand:uI,RegisterClientCommand:$8,StartDeviceAuthorizationCommand:Q8},J8=class extends kR{};(0,y8.createAggregatedClient)(Y8,J8)});var em=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.REFRESH_MESSAGE=Bo.EXPIRE_WINDOW_MS=void 0;Bo.EXPIRE_WINDOW_MS=5*60*1e3;Bo.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var mI=c(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.getSsoOidcClient=void 0;var X8=Zf(),OE={},Z8=t=>{if(OE[t])return OE[t];let e=new X8.SSOOIDCClient({region:t});return OE[t]=e,e};tm.getSsoOidcClient=Z8});var hI=c(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.getNewSsoOidcToken=void 0;var e4=Zf(),t4=mI(),r4=(t,e)=>(0,t4.getSsoOidcClient)(e).send(new e4.CreateTokenCommand({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));rm.getNewSsoOidcToken=r4});var yI=c(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.validateTokenExpiry=void 0;var n4=G(),i4=em(),o4=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new n4.TokenProviderError(`Token is expired. ${i4.REFRESH_MESSAGE}`,!1)};nm.validateTokenExpiry=o4});var _I=c(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.validateTokenKey=void 0;var s4=G(),a4=em(),c4=(t,e,r=!1)=>{if(typeof e>"u")throw new s4.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${a4.REFRESH_MESSAGE}`,!1)};im.validateTokenKey=c4});var gI=c(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.writeSSOTokenToFile=void 0;var d4=Tt(),u4=z("fs"),{writeFile:l4}=u4.promises,p4=(t,e)=>{let r=(0,d4.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return l4(r,n)};om.writeSSOTokenToFile=p4});var AE=c(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.fromSso=void 0;var dc=G(),sm=Tt(),EI=em(),f4=hI(),vI=yI(),mi=_I(),m4=gI(),SI=new Date(0),h4=(t={})=>async()=>{let e=await(0,sm.parseKnownFiles)(t),r=(0,sm.getProfileName)(t),n=e[r];if(n){if(!n.sso_session)throw new dc.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new dc.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let i=n.sso_session,s=(await(0,sm.loadSsoSessionData)(t))[i];if(!s)throw new dc.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!s[h])throw new dc.TokenProviderError(`Sso session '${i}' is missing required property '${h}'.`,!1);let a=s.sso_start_url,u=s.sso_region,l;try{l=await(0,sm.getSSOTokenFromFile)(i)}catch{throw new dc.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${EI.REFRESH_MESSAGE}`,!1)}(0,mi.validateTokenKey)("accessToken",l.accessToken),(0,mi.validateTokenKey)("expiresAt",l.expiresAt);let{accessToken:p,expiresAt:f}=l,m={token:p,expiration:new Date(f)};if(m.expiration.getTime()-Date.now()>EI.EXPIRE_WINDOW_MS)return m;if(Date.now()-SI.getTime()<30*1e3)return(0,vI.validateTokenExpiry)(m),m;(0,mi.validateTokenKey)("clientId",l.clientId,!0),(0,mi.validateTokenKey)("clientSecret",l.clientSecret,!0),(0,mi.validateTokenKey)("refreshToken",l.refreshToken,!0);try{SI.setTime(Date.now());let h=await(0,f4.getNewSsoOidcToken)(l,u);(0,mi.validateTokenKey)("accessToken",h.accessToken),(0,mi.validateTokenKey)("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await(0,m4.writeSSOTokenToFile)(i,{...l,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return(0,vI.validateTokenExpiry)(m),m}};am.fromSso=h4});var wI=c(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.fromStatic=void 0;var y4=G(),_4=({token:t})=>async()=>{if(!t||!t.token)throw new y4.TokenProviderError("Please pass a valid token to fromStatic",!1);return t};cm.fromStatic=_4});var NI=c(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.nodeProvider=void 0;var TE=G(),g4=AE(),E4=(t={})=>(0,TE.memoize)((0,TE.chain)((0,g4.fromSso)(t),async()=>{throw new TE.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);dm.nodeProvider=E4});var xI=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var um=(x(),w(N));um.__exportStar(Zf(),Vo);um.__exportStar(AE(),Vo);um.__exportStar(wI(),Vo);um.__exportStar(NI(),Vo)});var CI=c(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.resolveSSOCredentials=void 0;var bI=pR(),v4=xI(),uc=G(),S4=Tt(),lc=!1,w4=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:s})=>{let a,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let v=await(0,v4.fromSso)({profile:s})();a={accessToken:v.token,expiresAt:new Date(v.expiration).toISOString()}}catch(v){throw new uc.CredentialsProviderError(v.message,lc)}else try{a=await(0,S4.getSSOTokenFromFile)(t)}catch{throw new uc.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,lc)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new uc.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,lc);let{accessToken:l}=a,p=o||new bI.SSOClient({region:n}),f;try{f=await p.send(new bI.GetRoleCredentialsCommand({accountId:r,roleName:i,accessToken:l}))}catch(v){throw uc.CredentialsProviderError.from(v,lc)}let{roleCredentials:{accessKeyId:m,secretAccessKey:h,sessionToken:y,expiration:E}={}}=f;if(!m||!h||!y||!E)throw new uc.CredentialsProviderError("SSO returns an invalid temporary credential.",lc);return{accessKeyId:m,secretAccessKey:h,sessionToken:y,expiration:new Date(E)}};lm.resolveSSOCredentials=w4});var PE=c(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.validateSsoProfile=void 0;var N4=G(),x4=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:i}=t;if(!e||!r||!n||!i)throw new N4.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};pm.validateSsoProfile=x4});var AI=c(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.fromSSO=void 0;var pc=G(),RE=Tt(),b4=Hg(),OI=CI(),C4=PE(),O4=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,ssoSession:s}=t,a=(0,RE.getProfileName)(t);if(!e&&!r&&!n&&!i&&!s){let l=(await(0,RE.parseKnownFiles)(t))[a];if(!l)throw new pc.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,b4.isSsoProfile)(l))throw new pc.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(l?.sso_session){let v=(await(0,RE.loadSsoSessionData)(t))[l.sso_session],T=` configurations in profile ${a} and sso-session ${l.sso_session}`;if(n&&n!==v.sso_region)throw new pc.CredentialsProviderError("Conflicting SSO region"+T,!1);if(e&&e!==v.sso_start_url)throw new pc.CredentialsProviderError("Conflicting SSO start_url"+T,!1);l.sso_region=v.sso_region,l.sso_start_url=v.sso_start_url}let{sso_start_url:p,sso_account_id:f,sso_region:m,sso_role_name:h,sso_session:y}=(0,C4.validateSsoProfile)(l);return(0,OI.resolveSSOCredentials)({ssoStartUrl:p,ssoSession:y,ssoAccountId:f,ssoRegion:m,ssoRoleName:h,ssoClient:o,profile:a})}else{if(!e||!r||!n||!i)throw new pc.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,OI.resolveSSOCredentials)({ssoStartUrl:e,ssoSession:s,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:a})}};fm.fromSSO=O4});var PI=c(TI=>{"use strict";Object.defineProperty(TI,"__esModule",{value:!0})});var hm=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var mm=(x(),w(N));mm.__exportStar(AI(),$o);mm.__exportStar(Hg(),$o);mm.__exportStar(PI(),$o);mm.__exportStar(PE(),$o)});var II=c(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.resolveSsoCredentials=zo.isSsoProfile=void 0;var RI=hm(),A4=hm();Object.defineProperty(zo,"isSsoProfile",{enumerable:!0,get:function(){return A4.isSsoProfile}});var T4=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:i,sso_role_name:o}=(0,RI.validateSsoProfile)(t);return(0,RI.fromSSO)({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:i,ssoRoleName:o})()};zo.resolveSsoCredentials=T4});var qI=c(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.resolveStaticCredentials=Ho.isStaticCredsProfile=void 0;var P4=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1;Ho.isStaticCredsProfile=P4;var R4=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});Ho.resolveStaticCredentials=R4});var IE=c(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.fromWebToken=void 0;var I4=G(),q4=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:i,policyArns:o,policy:s,durationSeconds:a,roleAssumerWithWebIdentity:u}=t;if(!u)throw new I4.CredentialsProviderError(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return u({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:i,PolicyArns:o,Policy:s,DurationSeconds:a})};ym.fromWebToken=q4});var DI=c(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.fromTokenFile=void 0;var D4=G(),M4=z("fs"),k4=IE(),F4="AWS_WEB_IDENTITY_TOKEN_FILE",L4="AWS_ROLE_ARN",U4="AWS_ROLE_SESSION_NAME",j4=(t={})=>async()=>{var e,r,n;let i=(e=t?.webIdentityTokenFile)!==null&&e!==void 0?e:process.env[F4],o=(r=t?.roleArn)!==null&&r!==void 0?r:process.env[L4],s=(n=t?.roleSessionName)!==null&&n!==void 0?n:process.env[U4];if(!i||!o)throw new D4.CredentialsProviderError("Web identity configuration not specified");return(0,k4.fromWebToken)({...t,webIdentityToken:(0,M4.readFileSync)(i,{encoding:"ascii"}),roleArn:o,roleSessionName:s})()};_m.fromTokenFile=j4});var qE=c(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});var MI=(x(),w(N));MI.__exportStar(DI(),gm);MI.__exportStar(IE(),gm)});var kI=c(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.resolveWebIdentityCredentials=Go.isWebIdentityProfile=void 0;var W4=qE(),B4=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1;Go.isWebIdentityProfile=B4;var V4=async(t,e)=>(0,W4.fromTokenFile)({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();Go.resolveWebIdentityCredentials=V4});var Bg=c(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.resolveProfileData=void 0;var $4=G(),FI=zT(),LI=YT(),UI=II(),Em=qI(),jI=kI(),z4=async(t,e,r,n={})=>{let i=e[t];if(Object.keys(n).length>0&&(0,Em.isStaticCredsProfile)(i))return(0,Em.resolveStaticCredentials)(i);if((0,FI.isAssumeRoleProfile)(i))return(0,FI.resolveAssumeRoleCredentials)(t,e,r,n);if((0,Em.isStaticCredsProfile)(i))return(0,Em.resolveStaticCredentials)(i);if((0,jI.isWebIdentityProfile)(i))return(0,jI.resolveWebIdentityCredentials)(i,r);if((0,LI.isProcessProfile)(i))return(0,LI.resolveProcessCredentials)(r,t);if((0,UI.isSsoProfile)(i))return(0,UI.resolveSsoCredentials)(i);throw new $4.CredentialsProviderError(`Profile ${t} could not be found or parsed in shared credentials file.`)};vm.resolveProfileData=z4});var BI=c(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.fromIni=void 0;var WI=Tt(),H4=Bg(),G4=(t={})=>async()=>{let e=await(0,WI.parseKnownFiles)(t);return(0,H4.resolveProfileData)((0,WI.getProfileName)(t),e,t)};Sm.fromIni=G4});var VI=c(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});var K4=(x(),w(N));K4.__exportStar(BI(),DE)});var $I=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.remoteProvider=hi.ENV_IMDS_DISABLED=void 0;var wm=cf(),Q4=G();hi.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var Y4=t=>process.env[wm.ENV_CMDS_RELATIVE_URI]||process.env[wm.ENV_CMDS_FULL_URI]?(0,wm.fromContainerMetadata)(t):process.env[hi.ENV_IMDS_DISABLED]?async()=>{throw new Q4.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,wm.fromInstanceMetadata)(t);hi.remoteProvider=Y4});var zI=c(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.defaultProvider=void 0;var J4=Rg(),X4=VI(),Z4=zg(),e5=hm(),t5=qE(),ME=G(),r5=Tt(),n5=$I(),i5=(t={})=>(0,ME.memoize)((0,ME.chain)(...t.profile||process.env[r5.ENV_PROFILE]?[]:[(0,J4.fromEnv)()],(0,e5.fromSSO)(t),(0,X4.fromIni)(t),(0,Z4.fromProcess)(t),(0,t5.fromTokenFile)(t),(0,n5.remoteProvider)(t),async()=>{throw new ME.CredentialsProviderError("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);Nm.defaultProvider=i5});var FE=c(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});var o5=(x(),w(N));o5.__exportStar(zI(),kE)});var fq=c(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.ruleSet=void 0;var nq="required",M="type",V="fn",$="argv",Pn="ref",HI=!1,LE=!0,Tn="booleanEquals",Te="stringEquals",iq="sigv4",oq="sts",sq="us-east-1",re="endpoint",GI="https://sts.{Region}.{PartitionResult#dnsSuffix}",sr="tree",Ko="error",jE="getAttr",KI={[nq]:!1,[M]:"String"},UE={[nq]:!0,default:!1,[M]:"Boolean"},aq={[Pn]:"Endpoint"},QI={[V]:"isSet",[$]:[{[Pn]:"Region"}]},Pe={[Pn]:"Region"},YI={[V]:"aws.partition",[$]:[Pe],assign:"PartitionResult"},cq={[Pn]:"UseFIPS"},dq={[Pn]:"UseDualStack"},Fe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:iq,signingName:oq,signingRegion:sq}]},headers:{}},st={},JI={conditions:[{[V]:Te,[$]:[Pe,"aws-global"]}],[re]:Fe,[M]:re},uq={[V]:Tn,[$]:[cq,!0]},lq={[V]:Tn,[$]:[dq,!0]},XI={[V]:jE,[$]:[{[Pn]:"PartitionResult"},"supportsFIPS"]},pq={[Pn]:"PartitionResult"},ZI={[V]:Tn,[$]:[!0,{[V]:jE,[$]:[pq,"supportsDualStack"]}]},eq=[{[V]:"isSet",[$]:[aq]}],tq=[uq],rq=[lq],s5={version:"1.0",parameters:{Region:KI,UseDualStack:UE,UseFIPS:UE,Endpoint:KI,UseGlobalEndpoint:UE},rules:[{conditions:[{[V]:Tn,[$]:[{[Pn]:"UseGlobalEndpoint"},LE]},{[V]:"not",[$]:eq},QI,YI,{[V]:Tn,[$]:[cq,HI]},{[V]:Tn,[$]:[dq,HI]}],rules:[{conditions:[{[V]:Te,[$]:[Pe,"ap-northeast-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"ap-south-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"ap-southeast-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"ap-southeast-2"]}],endpoint:Fe,[M]:re},JI,{conditions:[{[V]:Te,[$]:[Pe,"ca-central-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"eu-central-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"eu-north-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"eu-west-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"eu-west-2"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"eu-west-3"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"sa-east-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,sq]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"us-east-2"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"us-west-1"]}],endpoint:Fe,[M]:re},{conditions:[{[V]:Te,[$]:[Pe,"us-west-2"]}],endpoint:Fe,[M]:re},{endpoint:{url:GI,properties:{authSchemes:[{name:iq,signingName:oq,signingRegion:"{Region}"}]},headers:st},[M]:re}],[M]:sr},{conditions:eq,rules:[{conditions:tq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[M]:Ko},{conditions:rq,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[M]:Ko},{endpoint:{url:aq,properties:st,headers:st},[M]:re}],[M]:sr},{conditions:[QI],rules:[{conditions:[YI],rules:[{conditions:[uq,lq],rules:[{conditions:[{[V]:Tn,[$]:[LE,XI]},ZI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:st,headers:st},[M]:re}],[M]:sr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[M]:Ko}],[M]:sr},{conditions:tq,rules:[{conditions:[{[V]:Tn,[$]:[XI,LE]}],rules:[{conditions:[{[V]:Te,[$]:[{[V]:jE,[$]:[pq,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:st,headers:st},[M]:re},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:st,headers:st},[M]:re}],[M]:sr},{error:"FIPS is enabled but this partition does not support FIPS",[M]:Ko}],[M]:sr},{conditions:rq,rules:[{conditions:[ZI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:st,headers:st},[M]:re}],[M]:sr},{error:"DualStack is enabled but this partition does not support DualStack",[M]:Ko}],[M]:sr},JI,{endpoint:{url:GI,properties:st,headers:st},[M]:re}],[M]:sr}],[M]:sr},{error:"Invalid Configuration: Missing Region",[M]:Ko}]};xm.ruleSet=s5});var mq=c(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.defaultEndpointResolver=void 0;var a5=zt(),c5=fq(),d5=(t,e={})=>(0,a5.resolveEndpoint)(c5.ruleSet,{endpointParams:t,logger:e.logger});bm.defaultEndpointResolver=d5});var _q=c(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.getRuntimeConfig=void 0;var u5=A(),l5=ni(),hq=fo(),yq=$t(),p5=mq(),f5=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??hq.fromBase64,base64Encoder:t?.base64Encoder??hq.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??p5.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new u5.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??l5.parseUrl,utf8Decoder:t?.utf8Decoder??yq.fromUtf8,utf8Encoder:t?.utf8Encoder??yq.toUtf8});Cm.getRuntimeConfig=f5});var vq=c(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.getRuntimeConfig=void 0;var m5=(x(),w(N)),h5=m5.__importDefault(bA()),y5=Ag(),_5=Ka(),g5=FE(),E5=Ja(),Om=Gt(),v5=Xa(),gq=Pr(),fc=Yt(),Eq=yo(),S5=Za(),w5=yt(),N5=_q(),x5=A(),b5=tc(),C5=A(),O5=t=>{(0,C5.emitWarningIfUnsupportedVersion)(process.version);let e=(0,b5.resolveDefaultsModeConfig)(t),r=()=>e().then(x5.loadConfigsForDefaultMode),n=(0,N5.getRuntimeConfig)(t);return(0,_5.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??S5.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,y5.decorateDefaultCredentialProvider)(g5.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,E5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:h5.default.version}),maxAttempts:t?.maxAttempts??(0,fc.loadConfig)(gq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,fc.loadConfig)(Om.NODE_REGION_CONFIG_OPTIONS,Om.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new Eq.NodeHttpHandler(r),retryMode:t?.retryMode??(0,fc.loadConfig)({...gq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||w5.DEFAULT_RETRY_MODE}),sha256:t?.sha256??v5.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??Eq.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,fc.loadConfig)(Om.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,fc.loadConfig)(Om.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Am.getRuntimeConfig=O5});var xq=c(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.resolveRuntimeExtensions=void 0;var Sq=nc(),wq=ve(),Nq=A(),WE=t=>t,A5=(t,e)=>{let r={...WE((0,Sq.getAwsRegionExtensionConfiguration)(t)),...WE((0,Nq.getDefaultExtensionConfiguration)(t)),...WE((0,wq.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,Sq.resolveAwsRegionExtensionConfiguration)(r),...(0,Nq.resolveDefaultRuntimeConfig)(r),...(0,wq.resolveHttpHandlerRuntimeConfig)(r)}};Tm.resolveRuntimeExtensions=A5});var Pm=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.STSClient=Qo.__Client=void 0;var bq=la(),T5=pa(),P5=fa(),R5=NA(),Cq=Ca(),I5=Gt(),q5=Ta(),D5=Q(),Oq=Pr(),Aq=A();Object.defineProperty(Qo,"__Client",{enumerable:!0,get:function(){return Aq.Client}});var M5=xA(),k5=vq(),F5=xq(),BE=class t extends Aq.Client{constructor(...[e]){let r=(0,k5.getRuntimeConfig)(e||{}),n=(0,M5.resolveClientEndpointParameters)(r),i=(0,I5.resolveRegionConfig)(n),o=(0,D5.resolveEndpointConfig)(i),s=(0,Oq.resolveRetryConfig)(o),a=(0,bq.resolveHostHeaderConfig)(s),u=(0,R5.resolveStsAuthConfig)(a,{stsClientCtor:t}),l=(0,Cq.resolveUserAgentConfig)(u),p=(0,F5.resolveRuntimeExtensions)(l,e?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Oq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,q5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,T5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,P5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cq.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Qo.STSClient=BE});var $E=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.AssumeRoleWithSAMLCommand=Yo.$Command=void 0;var L5=Q(),U5=se(),Rq=A();Object.defineProperty(Yo,"$Command",{enumerable:!0,get:function(){return Rq.Command}});var j5=H(),Tq=_n(),Pq=Dr(),VE=class t extends Rq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,U5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,L5.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:Tq.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:Tq.AssumeRoleWithSAMLResponseFilterSensitiveLog,[j5.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithSAML"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,Pq.se_AssumeRoleWithSAMLCommand)(e,r)}deserialize(e,r){return(0,Pq.de_AssumeRoleWithSAMLCommand)(e,r)}};Yo.AssumeRoleWithSAMLCommand=VE});var HE=c(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.DecodeAuthorizationMessageCommand=Jo.$Command=void 0;var W5=wr(),B5=Q(),V5=se(),qq=A();Object.defineProperty(Jo,"$Command",{enumerable:!0,get:function(){return qq.Command}});var $5=H(),Iq=Dr(),zE=class t extends qq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,V5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,B5.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,W5.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[$5.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"DecodeAuthorizationMessage"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,Iq.se_DecodeAuthorizationMessageCommand)(e,r)}deserialize(e,r){return(0,Iq.de_DecodeAuthorizationMessageCommand)(e,r)}};Jo.DecodeAuthorizationMessageCommand=zE});var KE=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.GetAccessKeyInfoCommand=Xo.$Command=void 0;var z5=wr(),H5=Q(),G5=se(),Mq=A();Object.defineProperty(Xo,"$Command",{enumerable:!0,get:function(){return Mq.Command}});var K5=H(),Dq=Dr(),GE=class t extends Mq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,G5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,H5.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,z5.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[K5.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetAccessKeyInfo"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,Dq.se_GetAccessKeyInfoCommand)(e,r)}deserialize(e,r){return(0,Dq.de_GetAccessKeyInfoCommand)(e,r)}};Xo.GetAccessKeyInfoCommand=GE});var YE=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.GetCallerIdentityCommand=Zo.$Command=void 0;var Q5=wr(),Y5=Q(),J5=se(),Fq=A();Object.defineProperty(Zo,"$Command",{enumerable:!0,get:function(){return Fq.Command}});var X5=H(),kq=Dr(),QE=class t extends Fq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,J5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Y5.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,Q5.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[X5.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetCallerIdentity"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,kq.se_GetCallerIdentityCommand)(e,r)}deserialize(e,r){return(0,kq.de_GetCallerIdentityCommand)(e,r)}};Zo.GetCallerIdentityCommand=QE});var XE=c(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.GetFederationTokenCommand=es.$Command=void 0;var Z5=wr(),eK=Q(),tK=se(),Uq=A();Object.defineProperty(es,"$Command",{enumerable:!0,get:function(){return Uq.Command}});var rK=H(),nK=_n(),Lq=Dr(),JE=class t extends Uq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,tK.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,eK.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,Z5.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:nK.GetFederationTokenResponseFilterSensitiveLog,[rK.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetFederationToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,Lq.se_GetFederationTokenCommand)(e,r)}deserialize(e,r){return(0,Lq.de_GetFederationTokenCommand)(e,r)}};es.GetFederationTokenCommand=JE});var ev=c(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.GetSessionTokenCommand=ts.$Command=void 0;var iK=wr(),oK=Q(),sK=se(),Wq=A();Object.defineProperty(ts,"$Command",{enumerable:!0,get:function(){return Wq.Command}});var aK=H(),cK=_n(),jq=Dr(),ZE=class t extends Wq.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,sK.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,oK.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,iK.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:cK.GetSessionTokenResponseFilterSensitiveLog,[aK.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetSessionToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,jq.se_GetSessionTokenCommand)(e,r)}deserialize(e,r){return(0,jq.de_GetSessionTokenCommand)(e,r)}};ts.GetSessionTokenCommand=ZE});var Bq=c(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.STS=void 0;var dK=A(),uK=$p(),lK=$E(),pK=zp(),fK=HE(),mK=KE(),hK=YE(),yK=XE(),_K=ev(),gK=Pm(),EK={AssumeRoleCommand:uK.AssumeRoleCommand,AssumeRoleWithSAMLCommand:lK.AssumeRoleWithSAMLCommand,AssumeRoleWithWebIdentityCommand:pK.AssumeRoleWithWebIdentityCommand,DecodeAuthorizationMessageCommand:fK.DecodeAuthorizationMessageCommand,GetAccessKeyInfoCommand:mK.GetAccessKeyInfoCommand,GetCallerIdentityCommand:hK.GetCallerIdentityCommand,GetFederationTokenCommand:yK.GetFederationTokenCommand,GetSessionTokenCommand:_K.GetSessionTokenCommand},Rm=class extends gK.STSClient{};Im.STS=Rm;(0,dK.createAggregatedClient)(EK,Rm)});var Vq=c(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var Rn=(x(),w(N));Rn.__exportStar($p(),ar);Rn.__exportStar($E(),ar);Rn.__exportStar(zp(),ar);Rn.__exportStar(HE(),ar);Rn.__exportStar(KE(),ar);Rn.__exportStar(YE(),ar);Rn.__exportStar(XE(),ar);Rn.__exportStar(ev(),ar)});var $q=c(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});var vK=(x(),w(N));vK.__exportStar(_n(),tv)});var Kq=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.decorateDefaultCredentialProvider=cr.getDefaultRoleAssumerWithWebIdentity=cr.getDefaultRoleAssumer=void 0;var zq=Ag(),Hq=Pm(),Gq=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,SK=(t={},e)=>(0,zq.getDefaultRoleAssumer)(t,Gq(Hq.STSClient,e));cr.getDefaultRoleAssumer=SK;var wK=(t={},e)=>(0,zq.getDefaultRoleAssumerWithWebIdentity)(t,Gq(Hq.STSClient,e));cr.getDefaultRoleAssumerWithWebIdentity=wK;var NK=t=>e=>t({roleAssumer:(0,cr.getDefaultRoleAssumer)(e),roleAssumerWithWebIdentity:(0,cr.getDefaultRoleAssumerWithWebIdentity)(e),...e});cr.decorateDefaultCredentialProvider=NK});var Qq=c(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.STSServiceException=void 0;var mc=(x(),w(N));mc.__exportStar(Pm(),Lr);mc.__exportStar(Bq(),Lr);mc.__exportStar(Vq(),Lr);mc.__exportStar($q(),Lr);mc.__exportStar(Kq(),Lr);ba();var xK=Up();Object.defineProperty(Lr,"STSServiceException",{enumerable:!0,get:function(){return xK.STSServiceException}})});var d1=c(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.ruleSet=void 0;var s1="required",ur="fn",lr="argv",ns="ref",Yq=!0,Jq="isSet",yc="booleanEquals",rs="error",hc="endpoint",Ur="tree",rv="PartitionResult",Xq={[s1]:!1,type:"String"},Zq={[s1]:!0,default:!1,type:"Boolean"},e1={[ns]:"Endpoint"},a1={[ur]:yc,[lr]:[{[ns]:"UseFIPS"},!0]},c1={[ur]:yc,[lr]:[{[ns]:"UseDualStack"},!0]},dr={},t1={[ur]:"getAttr",[lr]:[{[ns]:rv},"supportsFIPS"]},r1={[ur]:yc,[lr]:[!0,{[ur]:"getAttr",[lr]:[{[ns]:rv},"supportsDualStack"]}]},n1=[a1],i1=[c1],o1=[{[ns]:"Region"}],bK={version:"1.0",parameters:{Region:Xq,UseDualStack:Zq,UseFIPS:Zq,Endpoint:Xq},rules:[{conditions:[{[ur]:Jq,[lr]:[e1]}],rules:[{conditions:n1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:rs},{conditions:i1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:rs},{endpoint:{url:e1,properties:dr,headers:dr},type:hc}],type:Ur},{conditions:[{[ur]:Jq,[lr]:o1}],rules:[{conditions:[{[ur]:"aws.partition",[lr]:o1,assign:rv}],rules:[{conditions:[a1,c1],rules:[{conditions:[{[ur]:yc,[lr]:[Yq,t1]},r1],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dr,headers:dr},type:hc}],type:Ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:rs}],type:Ur},{conditions:n1,rules:[{conditions:[{[ur]:yc,[lr]:[t1,Yq]}],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dr,headers:dr},type:hc}],type:Ur},{error:"FIPS is enabled but this partition does not support FIPS",type:rs}],type:Ur},{conditions:i1,rules:[{conditions:[r1],rules:[{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dr,headers:dr},type:hc}],type:Ur},{error:"DualStack is enabled but this partition does not support DualStack",type:rs}],type:Ur},{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dnsSuffix}",properties:dr,headers:dr},type:hc}],type:Ur}],type:Ur},{error:"Invalid Configuration: Missing Region",type:rs}]};qm.ruleSet=bK});var u1=c(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.defaultEndpointResolver=void 0;var CK=zt(),OK=d1(),AK=(t,e={})=>(0,CK.resolveEndpoint)(OK.ruleSet,{endpointParams:t,logger:e.logger});Dm.defaultEndpointResolver=AK});var f1=c(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.getRuntimeConfig=void 0;var TK=A(),PK=ni(),l1=fo(),p1=$t(),RK=u1(),IK=t=>({apiVersion:"2018-08-01",base64Decoder:t?.base64Decoder??l1.fromBase64,base64Encoder:t?.base64Encoder??l1.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??RK.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new TK.NoOpLogger,serviceId:t?.serviceId??"RDS Data",urlParser:t?.urlParser??PK.parseUrl,utf8Decoder:t?.utf8Decoder??p1.fromUtf8,utf8Encoder:t?.utf8Encoder??p1.toUtf8});Mm.getRuntimeConfig=IK});var y1=c(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.getRuntimeConfig=void 0;var qK=(x(),w(N)),DK=qK.__importDefault(wA()),MK=Qq(),kK=Ka(),FK=FE(),LK=Ja(),km=Gt(),UK=Xa(),m1=Pr(),_c=Yt(),h1=yo(),jK=Za(),WK=yt(),BK=f1(),VK=A(),$K=tc(),zK=A(),HK=t=>{(0,zK.emitWarningIfUnsupportedVersion)(process.version);let e=(0,$K.resolveDefaultsModeConfig)(t),r=()=>e().then(VK.loadConfigsForDefaultMode),n=(0,BK.getRuntimeConfig)(t);return(0,kK.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??jK.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,MK.decorateDefaultCredentialProvider)(FK.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,LK.defaultUserAgent)({serviceId:n.serviceId,clientVersion:DK.default.version}),maxAttempts:t?.maxAttempts??(0,_c.loadConfig)(m1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,_c.loadConfig)(km.NODE_REGION_CONFIG_OPTIONS,km.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new h1.NodeHttpHandler(r),retryMode:t?.retryMode??(0,_c.loadConfig)({...m1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||WK.DEFAULT_RETRY_MODE}),sha256:t?.sha256??UK.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??h1.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,_c.loadConfig)(km.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,_c.loadConfig)(km.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Fm.getRuntimeConfig=HK});var v1=c(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.resolveRuntimeExtensions=void 0;var _1=nc(),g1=ve(),E1=A(),nv=t=>t,GK=(t,e)=>{let r={...nv((0,_1.getAwsRegionExtensionConfiguration)(t)),...nv((0,E1.getDefaultExtensionConfiguration)(t)),...nv((0,g1.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,_1.resolveAwsRegionExtensionConfiguration)(r),...(0,E1.resolveDefaultRuntimeConfig)(r),...(0,g1.resolveHttpHandlerRuntimeConfig)(r)}};Lm.resolveRuntimeExtensions=GK});var ov=c(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.RDSDataClient=is.__Client=void 0;var S1=la(),KK=pa(),QK=fa(),w1=wr(),N1=Ca(),YK=Gt(),JK=Ta(),XK=Q(),x1=Pr(),b1=A();Object.defineProperty(is,"__Client",{enumerable:!0,get:function(){return b1.Client}});var ZK=SA(),eQ=y1(),tQ=v1(),iv=class extends b1.Client{constructor(...[e]){let r=(0,eQ.getRuntimeConfig)(e||{}),n=(0,ZK.resolveClientEndpointParameters)(r),i=(0,YK.resolveRegionConfig)(n),o=(0,XK.resolveEndpointConfig)(i),s=(0,x1.resolveRetryConfig)(o),a=(0,S1.resolveHostHeaderConfig)(s),u=(0,w1.resolveAwsAuthConfig)(a),l=(0,N1.resolveUserAgentConfig)(u),p=(0,tQ.resolveRuntimeExtensions)(l,e?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,x1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,JK.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,S1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,KK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,QK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,w1.getAwsAuthPlugin)(this.config)),this.middlewareStack.use((0,N1.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};is.RDSDataClient=iv});var Um=c(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.RDSDataServiceException=os.__ServiceException=void 0;var C1=A();Object.defineProperty(os,"__ServiceException",{enumerable:!0,get:function(){return C1.ServiceException}});var sv=class t extends C1.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};os.RDSDataServiceException=sv});var mv=c(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.Value=B.Field=B.ArrayValue=B.LongReturnType=B.RecordsFormatType=B.DecimalReturnType=B.NotFoundException=B.StatementTimeoutException=B.ServiceUnavailableError=B.InternalServerErrorException=B.ForbiddenException=B.TypeHint=B.BadRequestException=B.AccessDeniedException=void 0;var yi=Um(),av=class t extends yi.RDSDataServiceException{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};B.AccessDeniedException=av;var cv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"BadRequestException",$fault:"client",...e}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};B.BadRequestException=cv;B.TypeHint={DATE:"DATE",DECIMAL:"DECIMAL",JSON:"JSON",TIME:"TIME",TIMESTAMP:"TIMESTAMP",UUID:"UUID"};var dv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};B.ForbiddenException=dv;var uv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"InternalServerErrorException",$fault:"server",...e}),this.name="InternalServerErrorException",this.$fault="server",Object.setPrototypeOf(this,t.prototype)}};B.InternalServerErrorException=uv;var lv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"ServiceUnavailableError",$fault:"server",...e}),this.name="ServiceUnavailableError",this.$fault="server",Object.setPrototypeOf(this,t.prototype)}};B.ServiceUnavailableError=lv;var pv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"StatementTimeoutException",$fault:"client",...e}),this.name="StatementTimeoutException",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.dbConnectionId=e.dbConnectionId}};B.StatementTimeoutException=pv;var fv=class t extends yi.RDSDataServiceException{constructor(e){super({name:"NotFoundException",$fault:"client",...e}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};B.NotFoundException=fv;B.DecimalReturnType={DOUBLE_OR_LONG:"DOUBLE_OR_LONG",STRING:"STRING"};B.RecordsFormatType={JSON:"JSON",NONE:"NONE"};B.LongReturnType={LONG:"LONG",STRING:"STRING"};var rQ;(function(t){t.visit=(e,r)=>e.booleanValues!==void 0?r.booleanValues(e.booleanValues):e.longValues!==void 0?r.longValues(e.longValues):e.doubleValues!==void 0?r.doubleValues(e.doubleValues):e.stringValues!==void 0?r.stringValues(e.stringValues):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):r._(e.$unknown[0],e.$unknown[1])})(rQ=B.ArrayValue||(B.ArrayValue={}));var nQ;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.booleanValue!==void 0?r.booleanValue(e.booleanValue):e.longValue!==void 0?r.longValue(e.longValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValue!==void 0?r.arrayValue(e.arrayValue):r._(e.$unknown[0],e.$unknown[1])})(nQ=B.Field||(B.Field={}));var iQ;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.bitValue!==void 0?r.bitValue(e.bitValue):e.bigIntValue!==void 0?r.bigIntValue(e.bigIntValue):e.intValue!==void 0?r.intValue(e.intValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.realValue!==void 0?r.realValue(e.realValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):e.structValue!==void 0?r.structValue(e.structValue):r._(e.$unknown[0],e.$unknown[1])})(iQ=B.Value||(B.Value={}))});var gi=c(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.de_RollbackTransactionCommand=J.de_ExecuteStatementCommand=J.de_ExecuteSqlCommand=J.de_CommitTransactionCommand=J.de_BeginTransactionCommand=J.de_BatchExecuteStatementCommand=J.se_RollbackTransactionCommand=J.se_ExecuteStatementCommand=J.se_ExecuteSqlCommand=J.se_CommitTransactionCommand=J.se_BeginTransactionCommand=J.se_BatchExecuteStatementCommand=void 0;var gc=Ka(),ss=ve(),_=A(),jr=mv(),oQ=Um(),sQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/BatchExecute`,u;return u=JSON.stringify((0,_.take)(t,{database:[],parameterSets:l=>AQ(l,e),resourceArn:[],schema:[],secretArn:[],sql:[],transactionId:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_BatchExecuteStatementCommand=sQ;var aQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/BeginTransaction`,u;return u=JSON.stringify((0,_.take)(t,{database:[],resourceArn:[],schema:[],secretArn:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_BeginTransactionCommand=aQ;var cQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/CommitTransaction`,u;return u=JSON.stringify((0,_.take)(t,{resourceArn:[],secretArn:[],transactionId:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_CommitTransactionCommand=cQ;var dQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/ExecuteSql`,u;return u=JSON.stringify((0,_.take)(t,{awsSecretStoreArn:[],database:[],dbClusterOrInstanceArn:[],schema:[],sqlStatements:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_ExecuteSqlCommand=dQ;var uQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/Execute`,u;return u=JSON.stringify((0,_.take)(t,{continueAfterTimeout:[],database:[],formatRecordsAs:[],includeResultMetadata:[],parameters:l=>T1(l,e),resourceArn:[],resultSetOptions:l=>(0,_._json)(l),schema:[],secretArn:[],sql:[],transactionId:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_ExecuteStatementCommand=uQ;var lQ=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/RollbackTransaction`,u;return u=JSON.stringify((0,_.take)(t,{resourceArn:[],secretArn:[],transactionId:[]})),new ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:u})};J.se_RollbackTransactionCommand=lQ;var pQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return fQ(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{updateResults:o=>WQ(o,e)});return Object.assign(r,i),r};J.de_BatchExecuteStatementCommand=pQ;var fQ=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Ec(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},mQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return hQ(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{transactionId:_.expectString});return Object.assign(r,i),r};J.de_BeginTransactionCommand=mQ;var hQ=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Ec(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},yQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return _Q(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{transactionStatus:_.expectString});return Object.assign(r,i),r};J.de_CommitTransactionCommand=yQ;var _Q=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await O1(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Ec(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},gQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return EQ(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{sqlStatementResults:o=>LQ(o,e)});return Object.assign(r,i),r};J.de_ExecuteSqlCommand=gQ;var EQ=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},vQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return SQ(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{columnMetadata:_._json,formattedRecords:_.expectString,generatedFields:o=>hv(o,e),numberOfRecordsUpdated:_.expectLong,records:o=>kQ(o,e)});return Object.assign(r,i),r};J.de_ExecuteStatementCommand=vQ;var SQ=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Ec(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},wQ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return NQ(t,e);let r=(0,_.map)({$metadata:at(t)}),n=(0,_.expectNonNull)((0,_.expectObject)(await _i(t.body,e)),"body"),i=(0,_.take)(n,{transactionStatus:_.expectString});return Object.assign(r,i),r};J.de_RollbackTransactionCommand=wQ;var NQ=async(t,e)=>{let r={...t,body:await fs(t.body,e)},n=ms(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await cs(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await ds(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await us(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await ls(r,e);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await O1(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await ps(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Ec(r,e);default:let i=r.body;return as({output:t,parsedBody:i,errorCode:n})}},as=(0,_.withBaseException)(oQ.RDSDataServiceException),cs=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{message:_.expectString});Object.assign(r,i);let o=new jr.AccessDeniedException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},ds=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{message:_.expectString});Object.assign(r,i);let o=new jr.BadRequestException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},us=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{message:_.expectString});Object.assign(r,i);let o=new jr.ForbiddenException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},ls=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{});Object.assign(r,i);let o=new jr.InternalServerErrorException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},O1=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{message:_.expectString});Object.assign(r,i);let o=new jr.NotFoundException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},ps=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{});Object.assign(r,i);let o=new jr.ServiceUnavailableError({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},Ec=async(t,e)=>{let r=(0,_.map)({}),n=t.body,i=(0,_.take)(n,{dbConnectionId:_.expectLong,message:_.expectString});Object.assign(r,i);let o=new jr.StatementTimeoutException({$metadata:at(t),...r});return(0,_.decorateServiceException)(o,t.body)},xQ=(t,e)=>t.filter(r=>r!=null).map(r=>A1(r,e)),A1=(t,e)=>jr.ArrayValue.visit(t,{arrayValues:r=>({arrayValues:xQ(r,e)}),booleanValues:r=>({booleanValues:(0,_._json)(r)}),doubleValues:r=>({doubleValues:bQ(r,e)}),longValues:r=>({longValues:(0,_._json)(r)}),stringValues:r=>({stringValues:(0,_._json)(r)}),_:(r,n)=>({name:n})}),bQ=(t,e)=>t.filter(r=>r!=null).map(r=>(0,_.serializeFloat)(r)),CQ=(t,e)=>jr.Field.visit(t,{arrayValue:r=>({arrayValue:A1(r,e)}),blobValue:r=>({blobValue:e.base64Encoder(r)}),booleanValue:r=>({booleanValue:r}),doubleValue:r=>({doubleValue:(0,_.serializeFloat)(r)}),isNull:r=>({isNull:r}),longValue:r=>({longValue:r}),stringValue:r=>({stringValue:r}),_:(r,n)=>({name:n})}),OQ=(t,e)=>(0,_.take)(t,{name:[],typeHint:[],value:r=>CQ(r,e)}),AQ=(t,e)=>t.filter(r=>r!=null).map(r=>T1(r,e)),T1=(t,e)=>t.filter(r=>r!=null).map(r=>OQ(r,e)),TQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>P1((0,gc.awsExpectUnion)(n),e)),P1=(t,e)=>t.arrayValues!=null?{arrayValues:TQ(t.arrayValues,e)}:t.booleanValues!=null?{booleanValues:(0,_._json)(t.booleanValues)}:t.doubleValues!=null?{doubleValues:PQ(t.doubleValues,e)}:t.longValues!=null?{longValues:(0,_._json)(t.longValues)}:t.stringValues!=null?{stringValues:(0,_._json)(t.stringValues)}:{$unknown:Object.entries(t)[0]},R1=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>I1((0,gc.awsExpectUnion)(n),e)),PQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>(0,_.limitedParseDouble)(n)),RQ=(t,e)=>t.arrayValue!=null?{arrayValue:P1((0,gc.awsExpectUnion)(t.arrayValue),e)}:t.blobValue!=null?{blobValue:e.base64Decoder(t.blobValue)}:(0,_.expectBoolean)(t.booleanValue)!==void 0?{booleanValue:(0,_.expectBoolean)(t.booleanValue)}:(0,_.limitedParseDouble)(t.doubleValue)!==void 0?{doubleValue:(0,_.limitedParseDouble)(t.doubleValue)}:(0,_.expectBoolean)(t.isNull)!==void 0?{isNull:(0,_.expectBoolean)(t.isNull)}:(0,_.expectLong)(t.longValue)!==void 0?{longValue:(0,_.expectLong)(t.longValue)}:(0,_.expectString)(t.stringValue)!==void 0?{stringValue:(0,_.expectString)(t.stringValue)}:{$unknown:Object.entries(t)[0]},hv=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>RQ((0,gc.awsExpectUnion)(n),e)),IQ=(t,e)=>(0,_.take)(t,{values:r=>MQ(r,e)}),qQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>IQ(n,e)),DQ=(t,e)=>(0,_.take)(t,{records:r=>qQ(r,e),resultSetMetadata:_._json}),MQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>I1((0,gc.awsExpectUnion)(n),e)),kQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>hv(n,e)),FQ=(t,e)=>(0,_.take)(t,{numberOfRecordsUpdated:_.expectLong,resultFrame:r=>DQ(r,e)}),LQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>FQ(n,e)),UQ=(t,e)=>(0,_.take)(t,{attributes:r=>R1(r,e)}),jQ=(t,e)=>(0,_.take)(t,{generatedFields:r=>hv(r,e)}),WQ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>jQ(n,e)),I1=(t,e)=>t.arrayValues!=null?{arrayValues:R1(t.arrayValues,e)}:(0,_.expectLong)(t.bigIntValue)!==void 0?{bigIntValue:(0,_.expectLong)(t.bigIntValue)}:(0,_.expectBoolean)(t.bitValue)!==void 0?{bitValue:(0,_.expectBoolean)(t.bitValue)}:t.blobValue!=null?{blobValue:e.base64Decoder(t.blobValue)}:(0,_.limitedParseDouble)(t.doubleValue)!==void 0?{doubleValue:(0,_.limitedParseDouble)(t.doubleValue)}:(0,_.expectInt32)(t.intValue)!==void 0?{intValue:(0,_.expectInt32)(t.intValue)}:(0,_.expectBoolean)(t.isNull)!==void 0?{isNull:(0,_.expectBoolean)(t.isNull)}:(0,_.limitedParseFloat32)(t.realValue)!==void 0?{realValue:(0,_.limitedParseFloat32)(t.realValue)}:(0,_.expectString)(t.stringValue)!==void 0?{stringValue:(0,_.expectString)(t.stringValue)}:t.structValue!=null?{structValue:UQ(t.structValue,e)}:{$unknown:Object.entries(t)[0]},at=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),BQ=(t,e)=>(0,_.collectBody)(t,e).then(r=>e.utf8Encoder(r)),_i=(t,e)=>BQ(t,e).then(r=>r.length?JSON.parse(r):{}),fs=async(t,e)=>{let r=await _i(t,e);return r.message=r.message??r.Message,r},ms=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var _v=c(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.BatchExecuteStatementCommand=hs.$Command=void 0;var VQ=Q(),$Q=se(),D1=A();Object.defineProperty(hs,"$Command",{enumerable:!0,get:function(){return D1.Command}});var zQ=H(),q1=gi(),yv=class t extends D1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,$Q.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,VQ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[zQ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BatchExecuteStatement"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,q1.se_BatchExecuteStatementCommand)(e,r)}deserialize(e,r){return(0,q1.de_BatchExecuteStatementCommand)(e,r)}};hs.BatchExecuteStatementCommand=yv});var Ev=c(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.BeginTransactionCommand=ys.$Command=void 0;var HQ=Q(),GQ=se(),k1=A();Object.defineProperty(ys,"$Command",{enumerable:!0,get:function(){return k1.Command}});var KQ=H(),M1=gi(),gv=class t extends k1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,GQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,HQ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"BeginTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[KQ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BeginTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,M1.se_BeginTransactionCommand)(e,r)}deserialize(e,r){return(0,M1.de_BeginTransactionCommand)(e,r)}};ys.BeginTransactionCommand=gv});var Sv=c(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.CommitTransactionCommand=_s.$Command=void 0;var QQ=Q(),YQ=se(),L1=A();Object.defineProperty(_s,"$Command",{enumerable:!0,get:function(){return L1.Command}});var JQ=H(),F1=gi(),vv=class t extends L1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,YQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,QQ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"CommitTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[JQ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"CommitTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,F1.se_CommitTransactionCommand)(e,r)}deserialize(e,r){return(0,F1.de_CommitTransactionCommand)(e,r)}};_s.CommitTransactionCommand=vv});var Nv=c(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.ExecuteSqlCommand=gs.$Command=void 0;var XQ=Q(),ZQ=se(),j1=A();Object.defineProperty(gs,"$Command",{enumerable:!0,get:function(){return j1.Command}});var e9=H(),U1=gi(),wv=class t extends j1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,ZQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,XQ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"ExecuteSqlCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[e9.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteSql"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,U1.se_ExecuteSqlCommand)(e,r)}deserialize(e,r){return(0,U1.de_ExecuteSqlCommand)(e,r)}};gs.ExecuteSqlCommand=wv});var bv=c(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.ExecuteStatementCommand=Es.$Command=void 0;var t9=Q(),r9=se(),B1=A();Object.defineProperty(Es,"$Command",{enumerable:!0,get:function(){return B1.Command}});var n9=H(),W1=gi(),xv=class t extends B1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,r9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,t9.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[n9.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteStatement"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,W1.se_ExecuteStatementCommand)(e,r)}deserialize(e,r){return(0,W1.de_ExecuteStatementCommand)(e,r)}};Es.ExecuteStatementCommand=xv});var Ov=c(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.RollbackTransactionCommand=vs.$Command=void 0;var i9=Q(),o9=se(),$1=A();Object.defineProperty(vs,"$Command",{enumerable:!0,get:function(){return $1.Command}});var s9=H(),V1=gi(),Cv=class t extends $1.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,o9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,i9.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,u={logger:o,clientName:"RDSDataClient",commandName:"RollbackTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[s9.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"RollbackTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),u)}serialize(e,r){return(0,V1.se_RollbackTransactionCommand)(e,r)}deserialize(e,r){return(0,V1.de_RollbackTransactionCommand)(e,r)}};vs.RollbackTransactionCommand=Cv});var z1=c(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.RDSData=void 0;var a9=A(),c9=_v(),d9=Ev(),u9=Sv(),l9=Nv(),p9=bv(),f9=Ov(),m9=ov(),h9={BatchExecuteStatementCommand:c9.BatchExecuteStatementCommand,BeginTransactionCommand:d9.BeginTransactionCommand,CommitTransactionCommand:u9.CommitTransactionCommand,ExecuteSqlCommand:l9.ExecuteSqlCommand,ExecuteStatementCommand:p9.ExecuteStatementCommand,RollbackTransactionCommand:f9.RollbackTransactionCommand},jm=class extends m9.RDSDataClient{};Wm.RDSData=jm;(0,a9.createAggregatedClient)(h9,jm)});var H1=c(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var Ss=(x(),w(N));Ss.__exportStar(_v(),In);Ss.__exportStar(Ev(),In);Ss.__exportStar(Sv(),In);Ss.__exportStar(Nv(),In);Ss.__exportStar(bv(),In);Ss.__exportStar(Ov(),In)});var G1=c(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var y9=(x(),w(N));y9.__exportStar(mv(),Av)});var K1=c(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.RDSDataServiceException=void 0;var Bm=(x(),w(N));Bm.__exportStar(ov(),qn);Bm.__exportStar(z1(),qn);Bm.__exportStar(H1(),qn);Bm.__exportStar(G1(),qn);ba();var _9=Um();Object.defineProperty(qn,"RDSDataServiceException",{enumerable:!0,get:function(){return _9.RDSDataServiceException}})});import g9 from"path";function Wr(t){return typeof t>"u"||t===void 0}function _e(t){return typeof t=="string"}function Iv(t){return typeof t=="number"}function Sc(t){return typeof t=="boolean"}function wc(t){return t===null}function qv(t){return t instanceof Date}function Dv(t){return typeof t=="bigint"}function ne(t){return typeof t=="function"}function Ie(t){return typeof t=="object"&&t!==null}function Mv(t){return t[t.length-1]}function d(t){return Object.freeze(t)}function qt(t){return Array.isArray(t)}function Br(t){return t}var X=d({is(t){return t.kind==="AlterTableNode"},create(t){return d({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return d({...t,...e})},cloneWithColumnAlteration(t,e){return d({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}});var D=d({is(t){return t.kind==="IdentifierNode"},create(t){return d({kind:"IdentifierNode",name:t})}});var Dt=d({is(t){return t.kind==="CreateIndexNode"},create(t){return d({kind:"CreateIndexNode",name:D.create(t)})},cloneWith(t,e){return d({...t,...e})},cloneWithColumns(t,e){return d({...t,columns:[...t.columns||[],...e]})}});var Nc=d({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return d({kind:"CreateSchemaNode",schema:D.create(t),...e})},cloneWith(t,e){return d({...t,...e})}});var kv=["preserve rows","delete rows","drop"],Xe=d({is(t){return t.kind==="CreateTableNode"},create(t){return d({kind:"CreateTableNode",table:t,columns:d([])})},cloneWithColumn(t,e){return d({...t,columns:d([...t.columns,e])})},cloneWithConstraint(t,e){return d({...t,constraints:t.constraints?d([...t.constraints,e]):d([e])})},cloneWithFrontModifier(t,e){return d({...t,frontModifiers:t.frontModifiers?d([...t.frontModifiers,e]):d([e])})},cloneWithEndModifier(t,e){return d({...t,endModifiers:t.endModifiers?d([...t.endModifiers,e]):d([e])})},cloneWith(t,e){return d({...t,...e})}});var Ve=d({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return d({kind:"SchemableIdentifierNode",identifier:D.create(t)})},createWithSchema(t,e){return d({kind:"SchemableIdentifierNode",schema:D.create(t),identifier:D.create(e)})}});var Ei=d({is(t){return t.kind==="DropIndexNode"},create(t,e){return d({kind:"DropIndexNode",name:Ve.create(t),...e})},cloneWith(t,e){return d({...t,...e})}});var Ns=d({is(t){return t.kind==="DropSchemaNode"},create(t,e){return d({kind:"DropSchemaNode",schema:D.create(t),...e})},cloneWith(t,e){return d({...t,...e})}});var xs=d({is(t){return t.kind==="DropTableNode"},create(t,e){return d({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return d({...t,...e})}});var $e=d({is(t){return t.kind==="AliasNode"},create(t,e){return d({kind:"AliasNode",node:t,alias:e})}});var ct=d({is(t){return t.kind==="TableNode"},create(t){return d({kind:"TableNode",table:Ve.create(t)})},createWithSchema(t,e){return d({kind:"TableNode",table:Ve.createWithSchema(t,e)})}});function ie(t){return Ie(t)&&ne(t.toOperationNode)}function Fv(t){return Ie(t)&&"expressionType"in t&&ie(t)}function Lv(t){return Ie(t)&&"expression"in t&&_e(t.alias)&&ie(t)}var Mt=d({is(t){return t.kind==="SelectModifierNode"},create(t){return d({kind:"SelectModifierNode",modifier:t})},createWithExpression(t){return d({kind:"SelectModifierNode",rawModifier:t})}});var pr=d({is(t){return t.kind==="AndNode"},create(t,e){return d({kind:"AndNode",left:t,right:e})}});var fr=d({is(t){return t.kind==="OrNode"},create(t,e){return d({kind:"OrNode",left:t,right:e})}});var vi=d({is(t){return t.kind==="OnNode"},create(t){return d({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return d({...t,on:e==="And"?pr.create(t.on,r):fr.create(t.on,r)})}});var qe=d({is(t){return t.kind==="JoinNode"},create(t,e){return d({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return d({kind:"JoinNode",joinType:t,table:e,on:vi.create(r)})},cloneWithOn(t,e){return d({...t,on:t.on?vi.cloneWithOperation(t.on,"And",e):vi.create(e)})},cloneWithOrOn(t,e){return d({...t,on:t.on?vi.cloneWithOperation(t.on,"Or",e):vi.create(e)})}});var bs=d({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return d({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}});var me=d({is(t){return t.kind==="RawNode"},create(t,e){return d({kind:"RawNode",sqlFragments:d(t),parameters:d(e)})},createWithSql(t){return me.create([t],[])},createWithChild(t){return me.create(["",""],[t])},createWithChildren(t){return me.create(new Array(t.length+1).fill(""),t)}});var Uv=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->"],nD=["+","-","*","/","%","^","&","|","#","<<",">>"],jv=[...Uv,...nD,"&&","||"],iD=["exists","not exists"],oD=["not","-",...iD],Wv=[...jv,...oD],Si=d({is(t){return t.kind==="OperatorNode"},create(t){return d({kind:"OperatorNode",operator:t})}});function zm(t){return _e(t)&&jv.includes(t)}function Hm(t){return _e(t)&&Uv.includes(t)}var Vr=d({is(t){return t.kind==="ParensNode"},create(t){return d({kind:"ParensNode",node:t})}});var L=d({is(t){return t.kind==="ColumnNode"},create(t){return d({kind:"ColumnNode",column:D.create(t)})}});var wi=d({is(t){return t.kind==="SelectAllNode"},create(){return d({kind:"SelectAllNode"})}});var Mn=d({is(t){return t.kind==="ReferenceNode"},create(t,e){return d({kind:"ReferenceNode",table:t,column:e})},createSelectAll(t){return d({kind:"ReferenceNode",table:t,column:wi.create()})}});var Bv=d({is(t){return t.kind==="OrderByItemNode"},create(t,e){return d({kind:"OrderByItemNode",orderBy:t,direction:e})}});function Vv(t){return t==="asc"||t==="desc"}function $r(t,e){return Bv.create(sD(t),aD(e))}function sD(t){return Ze(t)}function aD(t){if(t)return t==="asc"||t==="desc"?me.createWithSql(t):t.toOperationNode()}function Gm(t){return _e(t)?mr(t):t.toOperationNode()}function hr(t){return qt(t)?t.map(e=>Ze(e)):[Ze(t)]}function Ze(t){return kn(t)?zr(t):Gm(t)}function mr(t){let e=".";if(t.includes(e)){let r=t.split(e).map(Ym);if(r.length===3)return cD(r);if(r.length===2)return dD(r);throw new Error(`invalid column reference ${t}`)}else return L.create(t)}function $v(t){let e=" as ";if(t.includes(e)){let[r,n]=t.split(e).map(Ym);return $e.create(mr(r),D.create(n))}else return mr(t)}function Km(t){return L.create(t)}function Qm(t){let e=" ";if(t.includes(e)){let[r,n]=t.split(e).map(Ym);if(!Vv(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return $r(r,n)}else return Km(t)}function cD(t){let[e,r,n]=t;return Mn.create(ct.createWithSchema(e,r),L.create(n))}function dD(t){let[e,r]=t;return Mn.create(ct.create(e),L.create(r))}function Ym(t){return t.trim()}var xc=d({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return d({kind:"PrimitiveValueListNode",values:d([...t])})}});var Ni=d({is(t){return t.kind==="ValueListNode"},create(t){return d({kind:"ValueListNode",values:d(t)})}});var we=d({is(t){return t.kind==="ValueNode"},create(t){return d({kind:"ValueNode",value:t})},createImmediate(t){return d({kind:"ValueNode",value:t,immediate:!0})}});function bc(t){return qt(t)?uD(t):et(t)}function et(t){return kn(t)?zr(t):we.create(t)}function uD(t){return t.some(kn)?Ni.create(t.map(e=>et(e))):xc.create(t)}var yr=d({is(t){return t.kind==="OrderByNode"},create(t){return d({kind:"OrderByNode",items:d([t])})},cloneWithItem(t,e){return d({...t,items:d([...t.items,e])})}});var Jm=d({is(t){return t.kind==="PartitionByNode"},create(t){return d({kind:"PartitionByNode",items:d(t)})},cloneWithItems(t,e){return d({...t,items:d([...t.items,...e])})}});var Cs=d({is(t){return t.kind==="OverNode"},create(){return d({kind:"OverNode"})},cloneWithOrderByItem(t,e){return d({...t,orderBy:t.orderBy?yr.cloneWithItem(t.orderBy,e):yr.create(e)})},cloneWithPartitionByItems(t,e){return d({...t,partitionBy:t.partitionBy?Jm.cloneWithItems(t.partitionBy,e):Jm.create(e)})}});var Fn=d({is(t){return t.kind==="FromNode"},create(t){return d({kind:"FromNode",froms:d(t)})},cloneWithFroms(t,e){return d({...t,froms:d([...t.froms,...e])})}});var Xm=d({is(t){return t.kind==="GroupByNode"},create(t){return d({kind:"GroupByNode",items:d(t)})},cloneWithItems(t,e){return d({...t,items:d([...t.items,...e])})}});var Os=d({is(t){return t.kind==="HavingNode"},create(t){return d({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return d({...t,having:e==="And"?pr.create(t.having,r):fr.create(t.having,r)})}});var I=d({is(t){return t.kind==="SelectQueryNode"},create(t,e){return d({kind:"SelectQueryNode",from:Fn.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return d({...t,selections:t.selections?d([...t.selections,...e]):d(e)})},cloneWithDistinctOn(t,e){return d({...t,distinctOn:t.distinctOn?d([...t.distinctOn,...e]):d(e)})},cloneWithFrontModifier(t,e){return d({...t,frontModifiers:t.frontModifiers?d([...t.frontModifiers,e]):d([e])})},cloneWithEndModifier(t,e){return d({...t,endModifiers:t.endModifiers?d([...t.endModifiers,e]):d([e])})},cloneWithOrderByItem(t,e){return d({...t,orderBy:t.orderBy?yr.cloneWithItem(t.orderBy,e):yr.create(e)})},cloneWithGroupByItems(t,e){return d({...t,groupBy:t.groupBy?Xm.cloneWithItems(t.groupBy,e):Xm.create(e)})},cloneWithLimit(t,e){return d({...t,limit:e})},cloneWithOffset(t,e){return d({...t,offset:e})},cloneWithHaving(t,e){return d({...t,having:t.having?Os.cloneWithOperation(t.having,"And",e):Os.create(e)})},cloneWithOrHaving(t,e){return d({...t,having:t.having?Os.cloneWithOperation(t.having,"Or",e):Os.create(e)})},cloneWithSetOperation(t,e){return d({...t,setOperations:t.setOperations?d([...t.setOperations,e]):d([e])})},cloneWithoutSelections(t){return d({...t,selections:[]})},cloneWithoutLimit(t){return d({...t,limit:void 0})},cloneWithoutOffset(t){return d({...t,offset:void 0})},cloneWithoutOrderBy(t){return d({...t,orderBy:void 0})}});var Cc=d({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return d({kind:"UnaryOperationNode",operator:t,operand:e})}});function ce(t){return Oc("exists",t)}function oe(t){return Oc("not exists",t)}function Oc(t,e){return Cc.create(Si.create(t),Ze(e))}function O(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var As=class t{#e;constructor(e){this.#e=d(e)}on(...e){return new t({...this.#e,joinNode:qe.cloneWithOn(this.#e.joinNode,Zm(e))})}orOn(...e){return new t({...this.#e,joinNode:qe.cloneWithOrOn(this.#e.joinNode,Zm(e))})}onRef(e,r,n){return new t({...this.#e,joinNode:qe.cloneWithOn(this.#e.joinNode,Z(e,r,n))})}orOnRef(e,r,n){return new t({...this.#e,joinNode:qe.cloneWithOrOn(this.#e.joinNode,Z(e,r,n))})}onExists(e){return new t({...this.#e,joinNode:qe.cloneWithOn(this.#e.joinNode,ce(e))})}onNotExists(e){return new t({...this.#e,joinNode:qe.cloneWithOn(this.#e.joinNode,oe(e))})}orOnExists(e){return new t({...this.#e,joinNode:qe.cloneWithOrOn(this.#e.joinNode,ce(e))})}orOnNotExists(e){return new t({...this.#e,joinNode:qe.cloneWithOrOn(this.#e.joinNode,oe(e))})}onTrue(){return new t({...this.#e,joinNode:qe.cloneWithOn(this.#e.joinNode,me.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}};O(As,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");var zv=d({is(t){return t.kind==="PartitionByItemNode"},create(t){return d({kind:"PartitionByItemNode",partitionBy:t})}});function Hv(t){return hr(t).map(zv.create)}var Ts=class t{#e;constructor(e){this.#e=d(e)}orderBy(e,r){return new t({overNode:Cs.cloneWithOrderByItem(this.#e.overNode,$r(e,r))})}partitionBy(e){return new t({overNode:Cs.cloneWithPartitionByItems(this.#e.overNode,Hv(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}};O(Ts,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");var xi=d({is(t){return t.kind==="SelectionNode"},create(t){return d({kind:"SelectionNode",selection:t})},createSelectAll(){return d({kind:"SelectionNode",selection:wi.create()})},createSelectAllFromTable(t){return d({kind:"SelectionNode",selection:Mn.createSelectAll(t)})}});var Ac=class{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return Gm(this.#e)}};function Gv(t){return Ie(t)&&ie(t)&&_e(t.dynamicReference)}function _r(t){return ne(t)?_r(t(Ue())):qt(t)?t.map(e=>Kv(e)):[Kv(t)]}function Kv(t){return _e(t)?xi.create($v(t)):Gv(t)?xi.create(t.toOperationNode()):xi.create(Tc(t))}function kt(t){return t?Array.isArray(t)?t.map(Qv):[Qv(t)]:[xi.createSelectAll()]}function Qv(t){if(_e(t))return xi.createSelectAllFromTable(de(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}var Yv=d({is(t){return t.kind==="ValuesNode"},create(t){return d({kind:"ValuesNode",values:d(t)})}});var Jv=d({is(t){return t.kind==="DefaultInsertValueNode"},create(){return d({kind:"DefaultInsertValueNode"})}});function Xv(t){let e=ne(t)?t(Ue()):t,r=qt(e)?e:d([e]);return lD(r)}function lD(t){let e=pD(t);return[d([...e.keys()].map(L.create)),Yv.create(t.map(r=>fD(r,e)))]}function pD(t){let e=new Map;for(let r of t){let n=Object.keys(r);for(let i of n)!e.has(i)&&r[i]!==void 0&&e.set(i,e.size)}return e}function fD(t,e){let r=Object.keys(t),n=Array.from({length:e.size}),i=!1;for(let s of r){let a=e.get(s);if(Wr(a))continue;let u=t[s];(Wr(u)||kn(u))&&(i=!0),n[a]=u}if(r.length<e.size||i){let s=Jv.create();return Ni.create(n.map(a=>Wr(a)?s:et(a)))}return xc.create(n)}var ze=d({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return d({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},cloneWith(t,e){return d({...t,...e})}});var Ln=d({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return d({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},cloneWithFromItems(t,e){return d({...t,from:t.from?Fn.cloneWithFroms(t.from,e):Fn.create(e)})},cloneWithUpdates(t,e){return d({...t,updates:t.updates?d([...t.updates,...e]):e})}});var eh=d({is(t){return t.kind==="UsingNode"},create(t){return d({kind:"UsingNode",tables:d(t)})},cloneWithTables(t,e){return d({...t,tables:d([...t.tables,...e])})}});var Hr=d({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return d({kind:"DeleteQueryNode",from:Fn.create(t),...e&&{with:e}})},cloneWithOrderByItem(t,e){return d({...t,orderBy:t.orderBy?yr.cloneWithItem(t.orderBy,e):yr.create(e)})},cloneWithLimit(t,e){return d({...t,limit:e})},cloneWithUsing(t,e){return d({...t,using:t.using!==void 0?eh.cloneWithTables(t.using,e):eh.create(e)})}});var ge=d({is(t){return t.kind==="WhereNode"},create(t){return d({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return d({...t,where:e==="And"?pr.create(t.where,r):fr.create(t.where,r)})}});var th=d({is(t){return t.kind==="ReturningNode"},create(t){return d({kind:"ReturningNode",selections:d(t)})},cloneWithSelections(t,e){return d({...t,selections:t.selections?d([...t.selections,...e]):d(e)})}});var Zv=d({is(t){return t.kind==="ExplainNode"},create(t,e){return d({kind:"ExplainNode",format:t,options:e})}});var C=d({is(t){return I.is(t)||ze.is(t)||Ln.is(t)||Hr.is(t)},cloneWithWhere(t,e){return d({...t,where:t.where?ge.cloneWithOperation(t.where,"And",e):ge.create(e)})},cloneWithOrWhere(t,e){return d({...t,where:t.where?ge.cloneWithOperation(t.where,"Or",e):ge.create(e)})},cloneWithJoin(t,e){return d({...t,joins:t.joins?d([...t.joins,e]):d([e])})},cloneWithReturning(t,e){return d({...t,returning:t.returning?th.cloneWithSelections(t.returning,e):th.create(e)})},cloneWithoutWhere(t){return d({...t,where:void 0})},cloneWithExplain(t,e,r){return d({...t,explain:Zv.create(e,r?.toOperationNode())})}});var e0=d({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return d({kind:"ColumnUpdateNode",column:t,value:e})}});function bi(t){let e=ne(t)?t(Ue()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>e0.create(L.create(r),et(n)))}var t0=d({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return d({kind:"OnDuplicateKeyNode",updates:t})}});var Ps=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get insertId(){return this.#e}get numInsertedOrUpdatedRows(){return this.#t}};for(let t of["insertId","numInsertedOrUpdatedRows"])Object.defineProperty(Ps.prototype,t,{enumerable:!0});var Ft=class extends Error{node;constructor(e){super("no result"),this.node=e}};function Gr(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}var K=d({is(t){return t.kind==="OnConflictNode"},create(){return d({kind:"OnConflictNode"})},cloneWith(t,e){return d({...t,...e})},cloneWithIndexWhere(t,e){return d({...t,indexWhere:t.indexWhere?ge.cloneWithOperation(t.indexWhere,"And",e):ge.create(e)})},cloneWithIndexOrWhere(t,e){return d({...t,indexWhere:t.indexWhere?ge.cloneWithOperation(t.indexWhere,"Or",e):ge.create(e)})},cloneWithUpdateWhere(t,e){return d({...t,updateWhere:t.updateWhere?ge.cloneWithOperation(t.updateWhere,"And",e):ge.create(e)})},cloneWithUpdateOrWhere(t,e){return d({...t,updateWhere:t.updateWhere?ge.cloneWithOperation(t.updateWhere,"Or",e):ge.create(e)})},cloneWithoutIndexWhere(t){return d({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return d({...t,updateWhere:void 0})}});var Rs=class t{#e;constructor(e){this.#e=d(e)}column(e){let r=L.create(e);return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?d([...this.#e.onConflictNode.columns,r]):d([r])})})}columns(e){let r=e.map(L.create);return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?d([...this.#e.onConflictNode.columns,...r]):d(r)})})}constraint(e){return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{constraint:D.create(e)})})}expression(e){return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,ce(e))})}whereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,oe(e))})}orWhereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,oe(e))})}clearWhere(){return new t({...this.#e,onConflictNode:K.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new Pc({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Rc({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{updates:bi(e)})})}$call(e){return e(this)}};O(Rs,"don't await OnConflictBuilder instances.");var Pc=class{#e;constructor(e){this.#e=d(e)}toOperationNode(){return this.#e.onConflictNode}};O(Pc,"don't await OnConflictDoNothingBuilder instances.");var Rc=class t{#e;constructor(e){this.#e=d(e)}where(...e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,ce(e))})}whereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,oe(e))})}orWhereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,oe(e))})}clearWhere(){return new t({...this.#e,onConflictNode:K.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}};O(Rc,"don't await OnConflictUpdateBuilder instances.");var Ci=class t{#e;constructor(e){this.#e=d(e)}values(e){let[r,n]=Xv(e);return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{columns:d(e.map(L.create))})})}expression(e){return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{values:zr(e)})})}ignore(){return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{ignore:!0})})}onConflict(e){return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{onConflict:e(new Rs({onConflictNode:K.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new t({...this.#e,queryNode:ze.cloneWith(this.#e.queryNode,{onDuplicateKey:t0.create(bi(e))})})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,_r(e))})}returningAll(){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,kt())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return e?r(this):new t({...this.#e})}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new Ps(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Ft){let r=await this.executeTakeFirst();if(r===void 0)throw Gr(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(Ci,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Is=class{#e;constructor(e){this.#e=e}get numDeletedRows(){return this.#e}};Object.defineProperty(Is.prototype,"numDeletedRows",{enumerable:!0});var Ic=d({is(t){return t.kind==="LimitNode"},create(t){return d({kind:"LimitNode",limit:we.create(t)})}});var qs=class t{#e;constructor(e){this.#e=d(e)}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}using(e){return new t({...this.#e,queryNode:Hr.cloneWithUsing(this.#e.queryNode,bt(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("FullJoin",e))})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,_r(e))})}returningAll(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,kt(e))})}orderBy(e,r){return new t({...this.#e,queryNode:Hr.cloneWithOrderByItem(this.#e.queryNode,$r(e,r))})}limit(e){return new t({...this.#e,queryNode:Hr.cloneWithLimit(this.#e.queryNode,Ic.create(e))})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new Is(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Ft){let r=await this.executeTakeFirst();if(r===void 0)throw Gr(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(qs,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Ds=class{#e;constructor(e){this.#e=e}get numUpdatedRows(){return this.#e}};Object.defineProperty(Ds.prototype,"numUpdatedRows",{enumerable:!0});var Ms=class t{#e;constructor(e){this.#e=d(e)}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}from(e){return new t({...this.#e,queryNode:Ln.cloneWithFromItems(this.#e.queryNode,bt(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("FullJoin",e))})}set(e){return new t({...this.#e,queryNode:Ln.cloneWithUpdates(this.#e.queryNode,bi(e))})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,_r(e))})}returningAll(){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,kt())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new Ds(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Ft){let r=await this.executeTakeFirst();if(r===void 0)throw Gr(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(Ms,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var r0=d({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return d({kind:"CommonTableExpressionNode",name:t,expression:e})}});var rh=d({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return d({kind:"CommonTableExpressionNameNode",table:ct.create(t),columns:e?d(e.map(L.create)):void 0})}});function nh(t,e){let r=e(n0());return r0.create(mD(t),r.toOperationNode())}function mD(t){if(t.includes("(")){let e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(i=>i.trim());return rh.create(r,n)}else return rh.create(t)}var ks=d({is(t){return t.kind==="WithNode"},create(t,e){return d({kind:"WithNode",expressions:d([t]),...e})},cloneWithExpression(t,e){return d({...t,expressions:d([...t.expressions,e])})}});var i0=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function o0(t){let e="";for(let r=0;r<t;++r)e+=hD();return e}function hD(){return i0[~~(Math.random()*i0.length)]}function W(){return new ih}var ih=class{#e;get queryId(){return this.#e===void 0&&(this.#e=o0(8)),this.#e}};var Oi=class{nodeStack=[];#e=d({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);let r=this.transformNodeImpl(e);return this.nodeStack.pop(),d(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&d(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",table:this.transformNode(e.table),column:this.transformNode(e.column)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:d([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where)}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}};var yD=d({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0}),qc=class extends Oi{#e;#t=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);let r=this.#n(e);for(let i of r)this.#t.add(i);let n=super.transformNodeImpl(e);for(let i of r)this.#t.delete(i);return n}transformSchemableIdentifier(e){let r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:D.create(this.#e)}}transformReferences(e){let r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:ct.createWithSchema(this.#e,r.table.table.identifier.name)}}#r(e){return e.kind in yD}#n(e){let r=new Set;if("name"in e&&e.name&&Ve.is(e.name)&&this.#o(e.name,r),"from"in e&&e.from)for(let n of e.from.froms)this.#i(n,r);if("into"in e&&e.into&&this.#i(e.into,r),"table"in e&&e.table&&this.#i(e.table,r),"joins"in e&&e.joins)for(let n of e.joins)this.#i(n.table,r);return"with"in e&&e.with&&this.#s(e.with,r),r}#i(e,r){let n=ct.is(e)?e:$e.is(e)&&ct.is(e.node)?e.node:null;n&&this.#o(n.table,r)}#o(e,r){this.#t.has(e.identifier.name)||r.add(e.identifier.name)}#s(e,r){for(let n of e.expressions)r.delete(n.name.table.table.identifier.name)}};var tt=class{#e;constructor(e){this.#e=new qc(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}};var Ai=class t{#e;constructor(e){this.#e=d(e)}selectFrom(e){return new gr({queryId:W(),executor:this.#e.executor,queryNode:I.create(bt(e),this.#e.withNode)})}insertInto(e){return new Ci({queryId:W(),executor:this.#e.executor,queryNode:ze.create(de(e),this.#e.withNode)})}replaceInto(e){return new Ci({queryId:W(),executor:this.#e.executor,queryNode:ze.create(de(e),this.#e.withNode,!0)})}deleteFrom(e){return new qs({queryId:W(),executor:this.#e.executor,queryNode:Hr.create(bt(e),this.#e.withNode)})}updateTable(e){return new Ms({queryId:W(),executor:this.#e.executor,queryNode:Ln.create(Kr(e),this.#e.withNode)})}with(e,r){let n=nh(e,r);return new t({...this.#e,withNode:this.#e.withNode?ks.cloneWithExpression(this.#e.withNode,n):ks.create(n)})}withRecursive(e,r){let n=nh(e,r);return new t({...this.#e,withNode:this.#e.withNode?ks.cloneWithExpression(this.#e.withNode,n):ks.create(n,{recursive:!0})})}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new tt(e))})}};var Fs=class{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}};var s0=new Set;function a0(t){s0.has(t)||(s0.add(t),console.log(t))}var _D=d([]),Ti=class{#e;constructor(e=_D){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(let n of this.#e){let i=n.transformQuery({node:e,queryId:r});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{let i=await n.executeQuery(e),o=await this.#t(i,r);return gD(i,o),o})}async*stream(e,r,n){let i=new Fs,o=new Fs;this.provideConnection(async a=>(i.resolve(a),await o.promise)).catch(a=>i.reject(a));let s=await i.promise;try{for await(let a of s.streamQuery(e,r))yield await this.#t(a,n)}finally{o.resolve()}}async#t(e,r){for(let n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}};function gD(t,e){let{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||a0("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}var oh=class t extends Ti{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new t([...this.plugins,e])}withPlugins(e){return new t([...this.plugins,...e])}withPluginAtFront(e){return new t([e,...this.plugins])}withoutPlugins(){return new t([])}},Un=new oh;function sh(){return new gr({queryId:W(),executor:Un,queryNode:I.create(bt([]))})}function n0(){return new Ai({executor:Un})}function Dc(t,e){return new As({joinNode:qe.create(t,Kr(e))})}function c0(){return new Ts({overNode:Cs.create()})}var Ls=d({is(t){return t.kind==="WhenNode"},create(t){return d({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return d({...t,result:e})}});var je=d({is(t){return t.kind==="CaseNode"},create(t){return d({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return d({...t,when:d(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return d({...t,when:t.when?d([...t.when.slice(0,-1),Ls.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return d({...t,...e})}});function Mc(t,e,r){if(!zm(e)&&!ie(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return SD(e,r)?wD(t,e,r):bs.create(Ze(t),dh(e),bc(r))}function ED(t,e,r){if(!zm(e)&&!ie(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return bs.create(Ze(t),dh(e),Ze(r))}function vD(t,e,r){if(!Hm(e)&&!ie(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return Mc(t,e,r)}function Z(t,e,r){if(!Hm(e)&&!ie(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return ED(t,e,r)}function Ee(t){return kc("where",t)}function ah(t){return kc("having",t)}function Zm(t){return kc("on",t)}function ch(t){return kc("when",t)}function kc(t,e){if(e.length===3)return vD(e[0],e[1],e[2]);if(e.length===1)return ND(t,e[0]);throw d0(t,e)}function SD(t,e){return(t==="is"||t==="is not")&&(wc(e)||Sc(e))}function wD(t,e,r){return bs.create(Ze(t),dh(e),we.createImmediate(r))}function dh(t){if(_e(t)&&Wv.includes(t))return Si.create(t);if(ie(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function ND(t,e){if(ne(e)){if(t==="when")throw new Error("when method doesn't accept a callback as an argument");return xD[t](e)}else if(ie(e)){let r=e.toOperationNode();if(me.is(r)||bs.is(r)||Cc.is(r)||Vr.is(r)||je.is(r))return r}else if(t==="when")return we.create(e);throw d0(t,e)}function d0(t,e){return new Error(`invalid arguments passed to a '${t}' method: ${JSON.stringify(e)}`)}var xD=d({where(t){let e=sh(),r=Ue(),i=t(Object.assign(e,r)).toOperationNode();if(I.is(i)){if(!i.where)throw new Error("no `where` methods called inside a group callback");return Vr.create(i.where.where)}else return i},having(t){let e=sh(),r=Ue(),i=t(Object.assign(e,r)).toOperationNode();if(I.is(i)){if(!i.having)throw new Error("no `having` methods called inside a group callback");return Vr.create(i.having.having)}else return i},on(t){let e=Dc("InnerJoin","table"),r=Ue(),i=t(Object.assign(e,r)).toOperationNode();if(qe.is(i)){if(!i.on)throw new Error("no `on` methods called inside a group callback");return Vr.create(i.on.on)}else return i}});function Ce(t,e){if(e.length===3)return CD(t,e[0],e[1],e[2]);if(e.length===2)return bD(t,e[0],e[1]);throw new Error("not implemented")}function bD(t,e,r){return r(Dc(t,e)).toOperationNode()}function CD(t,e,r,n){return qe.createWithOn(t,Kr(e),Z(r,"=",n))}var u0=d({is(t){return t.kind==="OffsetNode"},create(t){return d({kind:"OffsetNode",offset:we.create(t)})}});var l0=d({is(t){return t.kind==="GroupByItemNode"},create(t){return d({kind:"GroupByItemNode",groupBy:t})}});function p0(t){return t=ne(t)?t(Ue()):t,hr(t).map(l0.create)}var Fc=d({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return d({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function jn(t,e,r){return Fc.create(t,e.toOperationNode(),r)}var gr=class t{#e;constructor(e){this.#e=d(e)}get expressionType(){}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}having(...e){return new t({...this.#e,queryNode:I.cloneWithHaving(this.#e.queryNode,ah(e))})}havingRef(e,r,n){return new t({...this.#e,queryNode:I.cloneWithHaving(this.#e.queryNode,Z(e,r,n))})}orHaving(...e){return new t({...this.#e,queryNode:I.cloneWithOrHaving(this.#e.queryNode,ah(e))})}orHavingRef(e,r,n){return new t({...this.#e,queryNode:I.cloneWithOrHaving(this.#e.queryNode,Z(e,r,n))})}havingExists(e){return new t({...this.#e,queryNode:I.cloneWithHaving(this.#e.queryNode,ce(e))})}havingNotExist(e){return new t({...this.#e,queryNode:I.cloneWithHaving(this.#e.queryNode,oe(e))})}havingNotExists(e){return new t({...this.#e,queryNode:I.cloneWithHaving(this.#e.queryNode,oe(e))})}orHavingExists(e){return new t({...this.#e,queryNode:I.cloneWithOrHaving(this.#e.queryNode,ce(e))})}orHavingNotExists(e){return new t({...this.#e,queryNode:I.cloneWithOrHaving(this.#e.queryNode,oe(e))})}select(e){return new t({...this.#e,queryNode:I.cloneWithSelections(this.#e.queryNode,_r(e))})}distinctOn(e){return new t({...this.#e,queryNode:I.cloneWithDistinctOn(this.#e.queryNode,hr(e))})}modifyFront(e){return new t({...this.#e,queryNode:I.cloneWithFrontModifier(this.#e.queryNode,Mt.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.createWithExpression(e.toOperationNode()))})}distinct(){return new t({...this.#e,queryNode:I.cloneWithFrontModifier(this.#e.queryNode,Mt.create("Distinct"))})}forUpdate(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("ForUpdate"))})}forShare(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("ForShare"))})}forKeyShare(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("ForKeyShare"))})}forNoKeyUpdate(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("ForNoKeyUpdate"))})}skipLocked(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("SkipLocked"))})}noWait(){return new t({...this.#e,queryNode:I.cloneWithEndModifier(this.#e.queryNode,Mt.create("NoWait"))})}selectAll(e){return new t({...this.#e,queryNode:I.cloneWithSelections(this.#e.queryNode,kt(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("FullJoin",e))})}innerJoinLateral(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("LateralInnerJoin",e))})}leftJoinLateral(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Ce("LateralLeftJoin",e))})}orderBy(e,r){return new t({...this.#e,queryNode:I.cloneWithOrderByItem(this.#e.queryNode,$r(e,r))})}groupBy(e){return new t({...this.#e,queryNode:I.cloneWithGroupByItems(this.#e.queryNode,p0(e))})}limit(e){return new t({...this.#e,queryNode:I.cloneWithLimit(this.#e.queryNode,Ic.create(e))})}offset(e){return new t({...this.#e,queryNode:I.cloneWithOffset(this.#e.queryNode,u0.create(e))})}union(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("union",e,!1))})}unionAll(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("union",e,!0))})}intersect(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("intersect",e,!1))})}intersectAll(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("intersect",e,!0))})}except(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("except",e,!1))})}exceptAll(e){return new t({...this.#e,queryNode:I.cloneWithSetOperation(this.#e.queryNode,jn("except",e,!0))})}as(e){return new uh(this,e)}clearSelect(){return new t({...this.#e,queryNode:I.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new t({...this.#e,queryNode:I.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new t({...this.#e,queryNode:I.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new t({...this.#e,queryNode:I.cloneWithoutOrderBy(this.#e.queryNode)})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Ft){let r=await this.executeTakeFirst();if(r===void 0)throw Gr(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(gr,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var uh=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return $e.create(this.#e.toOperationNode(),D.create(this.#t))}};var fe=class t{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new lh(this,e)}$castTo(){return new t(this.#e)}toOperationNode(){return this.#e}},lh=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return $e.create(this.#e.toOperationNode(),ie(this.#t)?this.#t.toOperationNode():D.create(this.#t))}};var He=d({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return d({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return d({...t,distinct:!0})},cloneWithFilter(t,e){return d({...t,filter:t.filter?ge.cloneWithOperation(t.filter,"And",e):ge.create(e)})},cloneWithOrFilter(t,e){return d({...t,filter:t.filter?ge.cloneWithOperation(t.filter,"Or",e):ge.create(e)})},cloneWithOver(t,e){return d({...t,over:e})}});var f0=d({is(t){return t.kind==="FunctionNode"},create(t,e){return d({kind:"FunctionNode",func:t,arguments:e})}});var Pi=class t{#e;constructor(e){this.#e=d(e)}get expressionType(){}as(e){return new ph(this,e)}distinct(){return new t({...this.#e,aggregateFunctionNode:He.cloneWithDistinct(this.#e.aggregateFunctionNode)})}filterWhere(...e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithFilter(this.#e.aggregateFunctionNode,Ee(e))})}filterWhereExists(e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithFilter(this.#e.aggregateFunctionNode,ce(e))})}filterWhereNotExists(e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithFilter(this.#e.aggregateFunctionNode,oe(e))})}filterWhereRef(e,r,n){return new t({...this.#e,aggregateFunctionNode:He.cloneWithFilter(this.#e.aggregateFunctionNode,Z(e,r,n))})}orFilterWhere(...e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithOrFilter(this.#e.aggregateFunctionNode,Ee(e))})}orFilterWhereExists(e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithOrFilter(this.#e.aggregateFunctionNode,ce(e))})}orFilterWhereNotExists(e){return new t({...this.#e,aggregateFunctionNode:He.cloneWithOrFilter(this.#e.aggregateFunctionNode,oe(e))})}orFilterWhereRef(e,r,n){return new t({...this.#e,aggregateFunctionNode:He.cloneWithOrFilter(this.#e.aggregateFunctionNode,Z(e,r,n))})}over(e){let r=c0();return new t({...this.#e,aggregateFunctionNode:He.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}toOperationNode(){return this.#e.aggregateFunctionNode}};O(Pi,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var ph=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return $e.create(this.#e.toOperationNode(),D.create(this.#t))}};function Lc(){let t=(r,n)=>new fe(f0.create(r,hr(n))),e=(r,n)=>new Pi({aggregateFunctionNode:He.create(r,n?hr(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(r,...n){return t("coalesce",[r,...n])},count(r){return e("count",[r])},countAll(r){return new Pi({aggregateFunctionNode:He.create("count",kt(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])}})}var Ri=class{#e;constructor(e){this.#e=d(e)}when(...e){return new Uc({...this.#e,node:je.cloneWithWhen(this.#e.node,Ls.create(ch(e)))})}},Uc=class{#e;constructor(e){this.#e=d(e)}then(e){return new fh({...this.#e,node:je.cloneWithThen(this.#e.node,et(e))})}},fh=class{#e;constructor(e){this.#e=d(e)}when(...e){return new Uc({...this.#e,node:je.cloneWithWhen(this.#e.node,Ls.create(ch(e)))})}else(e){return new mh({...this.#e,node:je.cloneWith(this.#e.node,{else:et(e)})})}end(){return new fe(je.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new fe(je.cloneWith(this.#e.node,{isStatement:!0}))}},mh=class{#e;constructor(e){this.#e=d(e)}end(){return new fe(je.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new fe(je.cloneWith(this.#e.node,{isStatement:!0}))}};function m0(t=Un){function e(r,n){return new fe(Oc(r,n))}return{get fn(){return Lc()},selectFrom(r){return new gr({queryId:W(),executor:t,queryNode:I.create(bt(r))})},case(r){return new Ri({node:je.create(Wr(r)?void 0:Ze(r))})},ref(r){return new fe(mr(r))},val(r){return new fe(bc(r))},cmpr(r,n,i){return new fe(Mc(r,n,i))},bxp(r,n,i){return new fe(Mc(r,n,i))},unary:e,not(r){return e("not",r)},exists(r){return e("exists",r)},neg(r){return e("-",r)},and(r){if(r.length===0)return new fe(we.createImmediate(!0));if(r.length===1)return new fe(r[0].toOperationNode());let n=pr.create(r[0].toOperationNode(),r[1].toOperationNode());for(let i=2;i<r.length;++i)n=pr.create(n,r[i].toOperationNode());return new fe(Vr.create(n))},or(r){if(r.length===0)return new fe(we.createImmediate(!1));if(r.length===1)return new fe(r[0].toOperationNode());let n=fr.create(r[0].toOperationNode(),r[1].toOperationNode());for(let i=2;i<r.length;++i)n=fr.create(n,r[i].toOperationNode());return new fe(Vr.create(n))},withSchema(r){return m0(t.withPluginAtFront(new tt(r)))}}}function Ue(t){return m0()}function zr(t){if(ie(t))return t.toOperationNode();if(ne(t))return t(Ue()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Tc(t){if(ie(t))return t.toOperationNode();if(ne(t))return t(Ue()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function kn(t){return Fv(t)||Lv(t)||ne(t)}function bt(t){return qt(t)?t.map(e=>Kr(e)):[Kr(t)]}function Kr(t){return _e(t)?OD(t):Tc(t)}function OD(t){let e=" as ";if(t.includes(e)){let[r,n]=t.split(e).map(h0);return $e.create(de(r),D.create(n))}else return de(t)}function de(t){let e=".";if(t.includes(e)){let[r,n]=t.split(e).map(h0);return ct.createWithSchema(r,n)}else return ct.create(t)}function h0(t){return t.trim()}var hh=d({is(t){return t.kind==="AddColumnNode"},create(t){return d({kind:"AddColumnNode",column:t})}});var Er=d({is(t){return t.kind==="AlterColumnNode"},create(t){return d({kind:"AlterColumnNode",column:L.create(t)})},cloneWith(t,e){return d({...t,...e})}});var ee=d({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return d({kind:"ColumnDefinitionNode",column:L.create(t),dataType:e})},cloneWithFrontModifier(t,e){return d({...t,frontModifiers:t.frontModifiers?d([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return d({...t,endModifiers:t.endModifiers?d([...t.endModifiers,e]):[e]})},cloneWith(t,e){return d({...t,...e})}});var yh=d({is(t){return t.kind==="DropColumnNode"},create(t){return d({kind:"DropColumnNode",column:L.create(t)})}});var _h=d({is(t){return t.kind==="RenameColumnNode"},create(t,e){return d({kind:"RenameColumnNode",column:L.create(t),renameTo:L.create(e)})}});var Ii=d({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return d({kind:"CheckConstraintNode",expression:t,name:e?D.create(e):void 0})}});var y0=["no action","restrict","cascade","set null","set default"],qi=d({is(t){return t.kind==="ReferencesNode"},create(t,e){return d({kind:"ReferencesNode",table:t,columns:d([...e])})},cloneWithOnDelete(t,e){return d({...t,onDelete:e})},cloneWithOnUpdate(t,e){return d({...t,onUpdate:e})}});function jc(t){return ie(t)?t.toOperationNode():we.createImmediate(t)}var Us=d({is(t){return t.kind==="GeneratedNode"},create(t){return d({kind:"GeneratedNode",...t})},createWithExpression(t){return d({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return d({...t,...e})}});var _0=d({is(t){return t.kind==="DefaultValueNode"},create(t){return d({kind:"DefaultValueNode",defaultValue:t})}});function Di(t){if(y0.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Lt=class t{#e;constructor(e){this.#e=e}autoIncrement(){return new t(ee.cloneWith(this.#e,{autoIncrement:!0}))}primaryKey(){return new t(ee.cloneWith(this.#e,{primaryKey:!0}))}references(e){let r=mr(e);if(!Mn.is(r)||wi.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new t(ee.cloneWith(this.#e,{references:qi.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new t(ee.cloneWith(this.#e,{references:qi.cloneWithOnDelete(this.#e.references,Di(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new t(ee.cloneWith(this.#e,{references:qi.cloneWithOnUpdate(this.#e.references,Di(e))}))}unique(){return new t(ee.cloneWith(this.#e,{unique:!0}))}notNull(){return new t(ee.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new t(ee.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new t(ee.cloneWith(this.#e,{defaultTo:_0.create(jc(e))}))}check(e){return new t(ee.cloneWith(this.#e,{check:Ii.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new t(ee.cloneWith(this.#e,{generated:Us.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new t(ee.cloneWith(this.#e,{generated:Us.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new t(ee.cloneWith(this.#e,{generated:Us.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new t(ee.cloneWith(this.#e,{generated:Us.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new t(ee.cloneWithFrontModifier(this.#e,e.toOperationNode()))}modifyEnd(e){return new t(ee.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}};O(Lt,"don't await ColumnDefinitionBuilder instances directly.");var gh=d({is(t){return t.kind==="ModifyColumnNode"},create(t){return d({kind:"ModifyColumnNode",column:t})}});var g0=d({is(t){return t.kind==="DataTypeNode"},create(t){return d({kind:"DataTypeNode",dataType:t})}});function vr(t){return ie(t)?t.toOperationNode():g0.create(t)}var Wn=d({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return d({kind:"ForeignKeyConstraintNode",columns:t,references:qi.create(e,r),name:n?D.create(n):void 0})},cloneWith(t,e){return d({...t,...e})}});var Bn=class t{#e;constructor(e){this.#e=e}onDelete(e){return new t(Wn.cloneWith(this.#e,{onDelete:Di(e)}))}onUpdate(e){return new t(Wn.cloneWith(this.#e,{onUpdate:Di(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}};O(Bn,"don't await ForeignKeyConstraintBuilder instances directly.");var js=d({is(t){return t.kind==="AddConstraintNode"},create(t){return d({kind:"AddConstraintNode",constraint:t})}});var Wc=d({is(t){return t.kind==="UniqueConstraintNode"},create(t,e){return d({kind:"UniqueConstraintNode",columns:d(t.map(L.create)),name:e?D.create(e):void 0})}});var Mi=d({is(t){return t.kind==="DropConstraintNode"},create(t){return d({kind:"DropConstraintNode",constraintName:D.create(t)})},cloneWith(t,e){return d({...t,...e})}});var $n=class{alterColumnNode;constructor(e){this.alterColumnNode=e}setDataType(e){return new Vn(Er.cloneWith(this.alterColumnNode,{dataType:vr(e)}))}setDefault(e){return new Vn(Er.cloneWith(this.alterColumnNode,{setDefault:jc(e)}))}dropDefault(){return new Vn(Er.cloneWith(this.alterColumnNode,{dropDefault:!0}))}setNotNull(){return new Vn(Er.cloneWith(this.alterColumnNode,{setNotNull:!0}))}dropNotNull(){return new Vn(Er.cloneWith(this.alterColumnNode,{dropNotNull:!0}))}$call(e){return e(this)}},Vn=class extends $n{toOperationNode(){return this.alterColumnNode}};var Qr=class{#e;constructor(e){this.#e=d(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Qr,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var Ws=class t{#e;constructor(e){this.#e=d(e)}onDelete(e){return new t({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new t({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(X.cloneWithTableProps(this.#e.node,{addConstraint:js.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Ws,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var Bs=class t{#e;constructor(e){this.#e=d(e)}ifExists(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Mi.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Mi.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Mi.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Bs,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");var Vs=class{#e;constructor(e){this.#e=d(e)}renameTo(e){return new Qr({...this.#e,node:X.cloneWithTableProps(this.#e.node,{renameTo:de(e)})})}setSchema(e){return new Qr({...this.#e,node:X.cloneWithTableProps(this.#e.node,{setSchema:D.create(e)})})}alterColumn(e,r){let n=r(new $n(Er.create(e)));return new Yr({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Yr({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,yh.create(e))})}renameColumn(e,r){return new Yr({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,_h.create(e,r))})}addColumn(e,r,n=Br){let i=n(new Lt(ee.create(e,vr(r))));return new Yr({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,hh.create(i.toOperationNode()))})}modifyColumn(e,r,n=Br){let i=n(new Lt(ee.create(e,vr(r))));return new Yr({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,gh.create(i.toOperationNode()))})}addUniqueConstraint(e,r){return new Qr({...this.#e,node:X.cloneWithTableProps(this.#e.node,{addConstraint:js.create(Wc.create(r,e))})})}addCheckConstraint(e,r){return new Qr({...this.#e,node:X.cloneWithTableProps(this.#e.node,{addConstraint:js.create(Ii.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,i){return new Ws({...this.#e,constraintBuilder:new Bn(Wn.create(r.map(L.create),de(n),i.map(L.create),e))})}dropConstraint(e){return new Bs({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Mi.create(e)})})}$call(e){return e(this)}call(e){return this.$call(e)}},Yr=class t{#e;constructor(e){this.#e=d(e)}alterColumn(e,r){let n=r(new $n(Er.create(e)));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,yh.create(e))})}renameColumn(e,r){return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,_h.create(e,r))})}addColumn(e,r,n=Br){let i=n(new Lt(ee.create(e,vr(r))));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,hh.create(i.toOperationNode()))})}modifyColumn(e,r,n=Br){let i=n(new Lt(ee.create(e,vr(r))));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,gh.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Vs,"don't await AlterTableBuilder instances");O($n,"don't await AlterColumnBuilder instances");O(Yr,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");var ki=class extends Oi{transformValue(e){return{...super.transformValue(e),immediate:!0}}};var $s=class t{#e;constructor(e){this.#e=d(e)}ifNotExists(){return new t({...this.#e,node:Dt.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new t({...this.#e,node:Dt.cloneWith(this.#e.node,{unique:!0})})}on(e){return new t({...this.#e,node:Dt.cloneWith(this.#e.node,{table:de(e)})})}column(e){return new t({...this.#e,node:Dt.cloneWithColumns(this.#e.node,[Qm(e)])})}columns(e){return new t({...this.#e,node:Dt.cloneWithColumns(this.#e.node,e.map(Qm))})}expression(e){return new t({...this.#e,node:Dt.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new t({...this.#e,node:Dt.cloneWith(this.#e.node,{using:me.createWithSql(e)})})}where(...e){let r=new ki;return new t({...this.#e,node:C.cloneWithWhere(this.#e.node,r.transformNode(Ee(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O($s,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var zs=class t{#e;constructor(e){this.#e=d(e)}ifNotExists(){return new t({...this.#e,node:Nc.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(zs,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");var E0=d({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return d({kind:"PrimaryKeyConstraintNode",columns:d(t.map(L.create)),name:e?D.create(e):void 0})}});function v0(t){if(kv.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var Hs=class t{#e;constructor(e){this.#e=d(e)}temporary(){return new t({...this.#e,node:Xe.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new t({...this.#e,node:Xe.cloneWith(this.#e.node,{onCommit:v0(e)})})}ifNotExists(){return new t({...this.#e,node:Xe.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Br){let i=n(new Lt(ee.create(e,vr(r))));return new t({...this.#e,node:Xe.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new t({...this.#e,node:Xe.cloneWithConstraint(this.#e.node,E0.create(r,e))})}addUniqueConstraint(e,r){return new t({...this.#e,node:Xe.cloneWithConstraint(this.#e.node,Wc.create(r,e))})}addCheckConstraint(e,r){return new t({...this.#e,node:Xe.cloneWithConstraint(this.#e.node,Ii.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,i,o=Br){let s=o(new Bn(Wn.create(r.map(L.create),de(n),i.map(L.create),e)));return new t({...this.#e,node:Xe.cloneWithConstraint(this.#e.node,s.toOperationNode())})}modifyFront(e){return new t({...this.#e,node:Xe.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new t({...this.#e,node:Xe.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}$call(e){return e(this)}call(e){return this.$call(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Hs,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var Gs=class t{#e;constructor(e){this.#e=d(e)}on(e){return new t({...this.#e,node:Ei.cloneWith(this.#e.node,{table:de(e)})})}ifExists(){return new t({...this.#e,node:Ei.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Ei.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Gs,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var Ks=class t{#e;constructor(e){this.#e=d(e)}ifExists(){return new t({...this.#e,node:Ns.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Ns.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Ks,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var Qs=class t{#e;constructor(e){this.#e=d(e)}ifExists(){return new t({...this.#e,node:xs.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:xs.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Qs,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");var Ct=d({is(t){return t.kind==="CreateViewNode"},create(t){return d({kind:"CreateViewNode",name:Ve.create(t)})},cloneWith(t,e){return d({...t,...e})}});var Bc=class{#e=new ki;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}};var Ys=class t{#e;constructor(e){this.#e=d(e)}temporary(){return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{columns:e.map(Km)})})}as(e){let r=e.withPlugin(new Bc).toOperationNode();return new t({...this.#e,node:Ct.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Ys,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");var Fi=d({is(t){return t.kind==="DropViewNode"},create(t){return d({kind:"DropViewNode",name:Ve.create(t)})},cloneWith(t,e){return d({...t,...e})}});var Js=class t{#e;constructor(e){this.#e=d(e)}materialized(){return new t({...this.#e,node:Fi.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new t({...this.#e,node:Fi.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Fi.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Js,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");var Vc=d({is(t){return t.kind==="CreateTypeNode"},create(t){return d({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return d({...t,enum:Ni.create(e.map(r=>we.createImmediate(r)))})}});var Xs=class t{#e;constructor(e){this.#e=d(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new t({...this.#e,node:Vc.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Xs,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");var $c=d({is(t){return t.kind==="DropTypeNode"},create(t){return d({kind:"DropTypeNode",name:t})},cloneWith(t,e){return d({...t,...e})}});var Zs=class t{#e;constructor(e){this.#e=d(e)}ifExists(){return new t({...this.#e,node:$c.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(Zs,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Eh(t){let e=".";if(t.includes(e)){let r=t.split(e).map(AD);if(r.length===2)return Ve.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Ve.create(t)}function AD(t){return t.trim()}var zc=class t{#e;constructor(e){this.#e=e}createTable(e){return new Hs({queryId:W(),executor:this.#e,node:Xe.create(de(e))})}dropTable(e){return new Qs({queryId:W(),executor:this.#e,node:xs.create(de(e))})}createIndex(e){return new $s({queryId:W(),executor:this.#e,node:Dt.create(e)})}dropIndex(e){return new Gs({queryId:W(),executor:this.#e,node:Ei.create(e)})}createSchema(e){return new zs({queryId:W(),executor:this.#e,node:Nc.create(e)})}dropSchema(e){return new Ks({queryId:W(),executor:this.#e,node:Ns.create(e)})}alterTable(e){return new Vs({queryId:W(),executor:this.#e,node:X.create(de(e))})}createView(e){return new Ys({queryId:W(),executor:this.#e,node:Ct.create(e)})}dropView(e){return new Js({queryId:W(),executor:this.#e,node:Fi.create(e)})}createType(e){return new Xs({queryId:W(),executor:this.#e,node:Vc.create(Eh(e))})}dropType(e){return new Zs({queryId:W(),executor:this.#e,node:$c.create(Eh(e))})}withPlugin(e){return new t(this.#e.withPlugin(e))}withoutPlugins(){return new t(this.#e.withoutPlugins())}withSchema(e){return new t(this.#e.withPluginAtFront(new tt(e)))}};var Hc=class{ref(e){return new Ac(e)}};var Gc=class{#e;constructor(e){this.#e=e}async provideConnection(e){let r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}};var Kc=class t extends Ti{#e;#t;#r;constructor(e,r,n,i=[]){super(i),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new t(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new t(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new t(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new t(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new t(this.#e,this.#t,this.#r,[])}};function vh(){return typeof performance<"u"&&ne(performance.now)?performance.now():Date.now()}var Qc=class{#e;#t;#r;#n;#i=new WeakSet;constructor(e,r){this.#e=e,this.#t=r}async init(){this.#r||(this.#r=this.#e.init().catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){await this.init();let e=await this.#e.acquireConnection();return this.#i.has(e)||(this.#o()&&this.#s(e),this.#i.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#n||(this.#n=this.#e.destroy().catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#s(e){let r=e.executeQuery;e.executeQuery=async n=>{let i=vh();try{return await r.call(e,n)}catch(o){throw await this.#d(o,n,i),o}finally{await this.#u(n,i)}}}async#d(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async#u(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return vh()-e}};var ea=class{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t;let r=this.#r(e);return this.#t=r.then(()=>{this.#t=void 0}).catch(()=>{this.#t=void 0}),r}async#r(e){return await e(this.#e)}};var S0=["read uncommitted","read committed","repeatable read","serializable"];var Jse=d(["query","error"]),Yc=class{#e;#t;constructor(e){ne(e)?(this.#t=e,this.#e=d({query:!0,error:!0})):(this.#t=TD,this.#e=d({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}};function TD(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${t}`))}function w0(t){return Ie(t)&&ne(t.compile)}var Li=class t extends Ai{#e;constructor(e){let r,n;if(PD(e))r={executor:e.executor},n={...e};else{let i=e.dialect,o=i.createDriver(),s=i.createQueryCompiler(),a=i.createAdapter(),u=new Yc(e.log??[]),l=new Qc(o,u),p=new Gc(l),f=new Kc(s,a,p,e.plugins??[]);r={executor:f},n={config:e,executor:f,dialect:i,driver:l}}super(r),this.#e=d(n)}get schema(){return new zc(this.#e.executor)}get dynamic(){return new Hc}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new Ri({node:je.create(Wr(e)?void 0:zr(e))})}get fn(){return Lc()}transaction(){return new Xc({...this.#e})}connection(){return new Jc({...this.#e})}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new tt(e))})}withTables(){return new t({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=W()){let n=w0(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}},Sh=class t extends Li{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new tt(e))})}withTables(){return new t({...this.#e})}};function PD(t){return Ie(t)&&Ie(t.config)&&Ie(t.driver)&&Ie(t.executor)&&Ie(t.dialect)}var Jc=class{#e;constructor(e){this.#e=d(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{let n=this.#e.executor.withConnectionProvider(new ea(r)),i=new Li({...this.#e,executor:n});return await e(i)})}};O(Jc,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var Xc=class t{#e;constructor(e){this.#e=d(e)}setIsolationLevel(e){return new t({...this.#e,isolationLevel:e})}async execute(e){let{isolationLevel:r,...n}=this.#e,i={isolationLevel:r};return RD(i),this.#e.executor.provideConnection(async o=>{let s=this.#e.executor.withConnectionProvider(new ea(o)),a=new Sh({...n,executor:s});try{await this.#e.driver.beginTransaction(o,i);let u=await e(a);return await this.#e.driver.commitTransaction(o),u}catch(u){throw await this.#e.driver.rollbackTransaction(o),u}})}};O(Xc,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function RD(t){if(t.isolationLevel&&!S0.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var dt=class t{#e;constructor(e){this.#e=d(e)}get expressionType(){}as(e){return new wh(this,e)}$castTo(){return new t({...this.#e})}castTo(){return this.$castTo()}withPlugin(e){return new t({...this.#e,plugins:this.#e.plugins!==void 0?d([...this.#e.plugins,e]):d([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){let r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){let r=e!==void 0?e.getExecutor():Un;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}};O(dt,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var wh=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return $e.create(this.#e.toOperationNode(),ie(this.#t)?this.#t.toOperationNode():D.create(this.#t))}};var We=Object.assign((t,...e)=>new dt({queryId:W(),rawNode:me.create(t,e?.map(et)??[])}),{ref(t){return new dt({queryId:W(),rawNode:me.createWithChild(mr(t))})},val(t){return new dt({queryId:W(),rawNode:me.createWithChild(et(t))})},value(t){return this.val(t)},table(t){return new dt({queryId:W(),rawNode:me.createWithChild(de(t))})},id(...t){let e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",new dt({queryId:W(),rawNode:me.create(e,t.map(D.create))})},lit(t){return new dt({queryId:W(),rawNode:me.createWithChild(we.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return new dt({queryId:W(),rawNode:me.createWithSql(t)})},join(t,e=We`, `){let r=new Array(2*t.length-1),n=e.toOperationNode();for(let i=0;i<t.length;++i)r[2*i]=et(t[i]),i!==t.length-1&&(r[2*i+1]=n);return new dt({queryId:W(),rawNode:me.createWithChildren(r)})}});var Zc=class{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=d({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}};var Ui=class extends Zc{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.visitNode(e),d({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){let r=this.parentNode!==void 0&&!ze.is(this.parentNode)&&!Ct.is(this.parentNode)&&!Fc.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select "),e.distinctOn&&(this.compileDistinctOn(e.distinctOn),this.append(" ")),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.selections&&(this.compileList(e.selections),this.append(" ")),this.visitNode(e.from),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){let n=e.length-1;for(let i=0;i<=n;i++)this.visitNode(e[i]),i<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(e.into),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.values&&(this.append(" "),this.visitNode(e.values)),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),this.visitNode(e.from),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){this.visitNode(e.table),this.append("."),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!_e(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");let{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(qD[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){let{sqlFragments:r,parameters:n}=e;for(let i=0;i<r.length;++i)this.append(r[i]),n.length>i&&this.visitNode(n[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnDefinition(e){this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),this.visitNode(e.table),this.append(" set "),e.updates&&this.compileList(e.updates),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileList(e.columnAlterations)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(ID[e.modifier])}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Si.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){let r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper(),i="";for(let o of e)i+=o,o===r?i+=r:o===n&&(i+=n);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(_e(e))this.append(`'${e}'`);else if(Iv(e)||Sc(e))this.append(e.toString());else if(wc(e))this.append("null");else if(qv(e))this.appendImmediateValue(e.toISOString());else if(Dv(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}},ID=d({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),qD=d({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"});var ji=class{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}};var ed=class{transformQuery(e){return e.node}async transformResult(e){return e.result}};var ra="kysely_migration",Wi="kysely_migration_lock",Nh="migration_lock",xh=d({__noMigrations__:!0}),td=class{#e;constructor(e){this.#e=d(e)}async getMigrations(){let e=await this.#a(this.#n)?await this.#e.db.withPlugin(this.#o).selectFrom(this.#n).select(["name","timestamp"]).execute():[];return(await this.#f()).map(({name:n,...i})=>{let o=e.find(s=>s.name===n);return{name:n,migration:i,executedAt:o?new Date(o.timestamp):void 0}})}async migrateToLatest(){return this.#t(({migrations:e})=>e.length-1)}async migrateTo(e){return this.#t(({migrations:r})=>{if(e===xh)return-1;let n=r.findIndex(i=>i.name===e);if(n===-1)throw new Error(`migration "${e}" doesn't exist`);return n})}async migrateUp(){return this.#t(({currentIndex:e,migrations:r})=>Math.min(e+1,r.length-1))}async migrateDown(){return this.#t(({currentIndex:e})=>Math.max(e-1,-1))}async#t(e){try{return await this.#s(),await this.#h(e)}catch(r){return r instanceof ta?r.resultSet:{error:r}}}get#r(){return this.#e.migrationTableSchema}get#n(){return this.#e.migrationTableName??ra}get#i(){return this.#e.migrationLockTableName??Wi}get#o(){return this.#r?new tt(this.#r):new ed}async#s(){await this.#d(),await this.#u(),await this.#c(),await this.#m()}async#d(){if(this.#r&&!await this.#l())try{await this.#e.db.schema.createSchema(this.#r).ifNotExists().execute()}catch(e){if(!await this.#l())throw e}}async#u(){if(!await this.#a(this.#n))try{this.#r&&await this.#e.db.schema.createSchema(this.#r).ifNotExists().execute(),await this.#e.db.schema.withPlugin(this.#o).createTable(this.#n).ifNotExists().addColumn("name","varchar(255)",e=>e.notNull().primaryKey()).addColumn("timestamp","varchar(255)",e=>e.notNull()).execute()}catch(e){if(!await this.#a(this.#n))throw e}}async#c(){if(!await this.#a(this.#i))try{await this.#e.db.schema.withPlugin(this.#o).createTable(this.#i).ifNotExists().addColumn("id","varchar(255)",e=>e.notNull().primaryKey()).addColumn("is_locked","integer",e=>e.notNull().defaultTo(0)).execute()}catch(e){if(!await this.#a(this.#i))throw e}}async#m(){if(!await this.#p())try{await this.#e.db.withPlugin(this.#o).insertInto(this.#i).values({id:Nh,is_locked:0}).execute()}catch(e){if(!await this.#p())throw e}}async#l(){return(await this.#e.db.introspection.getSchemas()).some(r=>r.name===this.#r)}async#a(e){let r=this.#r;return(await this.#e.db.introspection.getTables({withInternalKyselyTables:!0})).some(i=>i.name===e&&(!r||i.schema===r))}async#p(){return!!await this.#e.db.withPlugin(this.#o).selectFrom(this.#i).where("id","=",Nh).select("id").executeTakeFirst()}async#h(e){let r=this.#e.db.getExecutor().adapter,n=d({lockTable:this.#e.migrationLockTableName??Wi,lockRowId:Nh,lockTableSchema:this.#e.migrationTableSchema}),i=async o=>{try{await r.acquireMigrationLock(o,n);let s=await this.#y(o);if(s.migrations.length===0)return{results:[]};let a=e(s);return a===void 0?{results:[]}:a<s.currentIndex?await this.#E(o,s,a):a>s.currentIndex?await this.#v(o,s,a):{results:[]}}finally{await r.releaseMigrationLock(o,n)}};return r.supportsTransactionalDdl?this.#e.db.transaction().execute(i):this.#e.db.connection().execute(i)}async#y(e){let r=await this.#f(),n=await this.#_(e);return this.#g(r,n),d({migrations:r,currentIndex:r.findIndex(i=>i.name===Mv(n))})}async#f(){let e=await this.#e.provider.getMigrations();return Object.keys(e).sort().map(r=>({...e[r],name:r}))}async#_(e){return(await e.withPlugin(this.#o).selectFrom(this.#n).select("name").orderBy("name").execute()).map(n=>n.name)}#g(e,r){for(let n of r)if(!e.some(i=>i.name===n))throw new Error(`corrupted migrations: previously executed migration ${n} is missing`);for(let n=0;n<r.length;++n)if(e[n].name!==r[n])throw new Error(`corrupted migrations: expected previously executed migration ${r[n]} to be at index ${n} but ${e[n].name} was found in its place. New migrations must always have a name that comes alphabetically after the last executed migration.`)}async#E(e,r,n){let i=[];for(let o=r.currentIndex;o>n;--o)i.push({migrationName:r.migrations[o].name,direction:"Down",status:"NotExecuted"});for(let o=0;o<i.length;++o){let s=r.migrations.find(a=>a.name===i[o].migrationName);try{s.down&&(await s.down(e),await e.withPlugin(this.#o).deleteFrom(this.#n).where("name","=",s.name).execute(),i[o]={migrationName:s.name,direction:"Down",status:"Success"})}catch(a){throw i[o]={migrationName:s.name,direction:"Down",status:"Error"},new ta({error:a,results:i})}}return{results:i}}async#v(e,r,n){let i=[];for(let o=r.currentIndex+1;o<=n;++o)i.push({migrationName:r.migrations[o].name,direction:"Up",status:"NotExecuted"});for(let o=0;o<i.length;++o){let s=r.migrations.find(a=>a.name===i[o].migrationName);try{await s.up(e),await e.withPlugin(this.#o).insertInto(this.#n).values({name:s.name,timestamp:new Date().toISOString()}).execute(),i[o]={migrationName:s.name,direction:"Up",status:"Success"}}catch(a){throw i[o]={migrationName:s.name,direction:"Up",status:"Error"},new ta({error:a,results:i})}}return{results:i}}},ta=class extends Error{#e;constructor(e){super(),this.#e=e}get resultSet(){return this.#e}};var DD=/"/g,rd=class extends Ui{sanitizeIdentifier(e){return e.replace(DD,'""')}};var MD=BigInt("3853314791062309107"),nd=class extends ji{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e){await We`select pg_advisory_xact_lock(${We.lit(MD)})`.execute(e)}async releaseMigrationLock(){}};var kD=/`/g,id=class extends Ui{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(kD,"``")}};var od=class{#e;constructor(e){this.#e=e}async getSchemas(){return(await this.#e.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(r=>({name:r.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",i=>i.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA"]).where("columns.TABLE_SCHEMA","=",We`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(r=r.where("columns.TABLE_NAME","!=",ra).where("columns.TABLE_NAME","!=",Wi));let n=await r.execute();return this.#t(n)}async getMetadata(e){return{tables:await this.getTables(e)}}#t(e){return e.reduce((r,n)=>{let i=r.find(o=>o.name===n.TABLE_NAME);return i||(i=d({name:n.TABLE_NAME,isView:n.TABLE_TYPE==="VIEW",schema:n.TABLE_SCHEMA,columns:[]}),r.push(i)),i.columns.push(d({name:n.COLUMN_NAME,dataType:n.DATA_TYPE,isNullable:n.IS_NULLABLE==="YES",isAutoIncrementing:n.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:n.COLUMN_DEFAULT!==null})),r},[])}};var N0="ea586330-2c93-47c8-908d-981d9d270f9d",FD=60*60,sd=class extends ji{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e){await We`select get_lock(${We.lit(N0)}, ${We.lit(FD)})`.execute(e)}async releaseMigrationLock(e){await We`select release_lock(${We.lit(N0)})`.execute(e)}};var ad=class{#e;constructor(e){this.#e=e}async init(){}async acquireConnection(){return new bh(this.#e)}async beginTransaction(e){await e.beginTransaction()}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async releaseConnection(e){}async destroy(){}},bh=class{#e;#t;constructor(e){this.#e=e}async beginTransaction(){let e=await this.#e.client.beginTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,database:this.#e.database});this.#t=e.transactionId}async commitTransaction(){if(!this.#t)throw new Error("Cannot commit a transaction before creating it");await this.#e.client.commitTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,transactionId:this.#t})}async rollbackTransaction(){if(!this.#t)throw new Error("Cannot rollback a transaction before creating it");await this.#e.client.rollbackTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,transactionId:this.#t})}async executeQuery(e){let r=await this.#e.client.executeStatement({transactionId:this.#t,secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,sql:e.sql,parameters:e.parameters,database:this.#e.database,includeResultMetadata:!0});if(!r.columnMetadata){let o=BigInt(r.numberOfRecordsUpdated||0);return{numAffectedRows:o,numUpdatedOrDeletedRows:o,insertId:r.generatedFields&&r.generatedFields.length>0?BigInt(r.generatedFields[0].longValue):void 0,rows:[]}}return{rows:r.records?.filter(o=>o.length!==0).map(o=>Object.fromEntries(o.map((s,a)=>[r.columnMetadata[a].label||r.columnMetadata[a].name,s.isNull?null:s.stringValue??s.doubleValue??s.longValue??s.booleanValue??this.#r(s.arrayValue)??s.blobValue??null])))||[]}}async*streamQuery(e,r){throw new Error("Data API does not support streaming")}#r(e){if(e)return e.stringValues??e.doubleValues??e.longValues??e.booleanValues??e.arrayValues?.map(this.#r)}};var cd=class extends rd{appendValue(e){let r=this.numParameters;this.append(this.getCurrentParameterPlaceholder()),this.addParameter({name:r.toString(),...x0(e)})}getCurrentParameterPlaceholder(){return":"+this.numParameters}},dd=class extends id{appendValue(e){let r=this.numParameters;this.append(this.getCurrentParameterPlaceholder()),this.addParameter({name:r.toString(),...x0(e)})}getCurrentParameterPlaceholder(){return":"+this.numParameters}};function x0(t){switch(typeof t){case"bigint":return{value:{doubleValue:Number(t)}};case"boolean":return{value:{booleanValue:t}};case"number":return Number.isInteger(t)?{value:{longValue:t}}:{value:{doubleValue:t}};case"object":if(t==null)return{value:{isNull:!0}};if(Buffer.isBuffer(t))return{value:{blobValue:t}};if(t instanceof Date)return{typeHint:"TIMESTAMP",value:{stringValue:b0(t.toISOString())}};if(t?.value&&jD(t.value))return t.typeHint&&t.value.stringValue&&typeof t.value.stringValue=="string"&&(t.value.stringValue=LD(t.typeHint,t.value.stringValue)),t;break;case"string":return{value:{stringValue:t}}}throw new Oh("Could not serialize value")}function LD(t,e){switch(t){case"DATE":return Ch(e).slice(0,10);case"TIME":return e.match(/^\d{4}-\d{2}-\d{2}/)?Ch(e).slice(11,23):UD(e);case"TIMESTAMP":return b0(Ch(e))}return e}function UD(t){let e=(t||"00:00:00").split(":");for(;e.length<3;)e.push("00");return e.join(":").slice(0,12)}function b0(t){return t.replace("T"," ").slice(0,23)}function Ch(t){return new Date(Date.parse(t)).toISOString()}function jD(t){for(let e of BD)if(t[e])return!0;if(t.arrayValue){for(let e of WD)if(t.arrayValue?.[e])return!0}return!1}var Oh=class t extends Error{constructor(e){super(e),this.name=t.name}},WD=["booleanValues","doubleValues","longValues","stringValues"],BD=["blobValue","booleanValue","doubleValue","isNull","longValue","stringValue"];var ud=class{#e;constructor(e){this.#e=e}async getSchemas(){return(await this.#e.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(r=>({name:r.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",this.#e.selectFrom("pg_class").select(We`true`.as("auto_incrementing")).whereRef("relnamespace","=","c.relnamespace").where("relkind","=","S").where("relname","=",We`c.relname || '_' || a.attname || '_seq'`).as("auto_incrementing")]).where(i=>i.where("c.relkind","=","r").orWhere("c.relkind","=","v")).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(r=r.where("c.relname","!=",ra).where("c.relname","!=",Wi));let n=await r.execute();return this.#t(n)}async getMetadata(e){return{tables:await this.getTables(e)}}#t(e){return e.reduce((r,n)=>{let i=r.find(o=>o.name===n.table&&o.schema===n.schema);return i||(i=Object.freeze({name:n.table,isView:n.table_type==="v",schema:n.schema,columns:[]}),r.push(i)),i.columns.push(Object.freeze({name:n.column,dataType:n.type,dataTypeSchema:n.type_schema,isNullable:!n.not_null,isAutoIncrementing:!!n.auto_incrementing,hasDefaultValue:n.has_default})),r},[])}};var ld=class{#e;constructor(e){this.#e=e}createAdapter(){if(this.#e.mode==="postgres")return new nd;if(this.#e.mode==="mysql")return new sd;throw new Error("Unknown mode "+this.#e.mode)}createDriver(){return new ad(this.#e.driver)}createQueryCompiler(){if(this.#e.mode==="postgres")return new cd;if(this.#e.mode==="mysql")return new dd;throw new Error("Unknown mode "+this.#e.mode)}createIntrospector(e){if(this.#e.mode==="postgres")return new ud(e);if(this.#e.mode==="mysql")return new od(e);throw new Error("Unknown mode "+this.#e.mode)}};var Q1=rD(K1(),1);import E9 from"url";async function _ge(t){console.log("initializing db");let e=new Li({dialect:new ld({mode:process.env.RDS_ENGINE_MODE,driver:{client:new Q1.RDSData({}),database:t?.database||process.env.RDS_DATABASE,secretArn:process.env.RDS_SECRET,resourceArn:process.env.RDS_ARN}})});console.log("creating migrator");let r=new td({db:e,provider:new Tv(g9.resolve(process.env.RDS_MIGRATIONS_PATH))});if(console.log("processing event",t),!t.type||t.type==="latest"){console.log("migrating to latest");let n=await r.migrateToLatest(),i=n.error||n.results?.find(o=>o.status==="Error");if(i)throw i;return n}if(t.type==="to"){if(console.log("migrating to",t.data.name),!t.data.name)return await r.migrateTo(xh);let n=await r.migrateTo(t.data.name),i=n.error||n.results?.find(o=>o.status==="Error");if(i)throw i;return n}if(t.type==="list")return console.log("listing migrations"),await r.getMigrations()}var Tv=class{#e;constructor(e){this.#e=e}async getMigrations(){let e=await import("fs/promises"),r=await import("path"),n={},i=await e.readdir(this.#e);for(let o of i)if(o.endsWith(".js")||o.endsWith(".cjs")||o.endsWith(".mjs")){let[s]=r.basename(o).split("."),a=r.join(this.#e,o);if(process.env.LAMBDA_TASK_ROOT){let l=await import(a);n[s]=l;continue}let u=a.replace(/(mjs|cjs|js)$/g,`${Date.now()}.$1`);try{await e.copyFile(a,u);let l=await import(E9.pathToFileURL(u).href);n[s]=l}catch(l){console.error(l)}await e.rm(u)}return n}};export{_ge as handler};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
